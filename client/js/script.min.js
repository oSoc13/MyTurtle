(function(d,b){var f,c;typeof exports!=b+""?f=exports:(c=d.L,f={},f.noConflict=function(){return d.L=c,this},d.L=f),f.version="0.4.5",f.Util={extend:function(l){var h=Array.prototype.slice.call(arguments,1);for(var m=0,k=h.length,g;m<k;m++){g=h[m]||{};for(var j in g){g.hasOwnProperty(j)&&(l[j]=g[j])}}return l},bind:function(h,g){var i=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return h.apply(g,i||arguments)}},stamp:function(){var h=0,g="_leaflet_id";return function(e){return e[g]=e[g]||++h,e[g]}}(),limitExecByInterval:function(l,h,m){var k,g;return function j(){var e=arguments;if(k){g=!0;return}k=!0,setTimeout(function(){k=!1,g&&(j.apply(m,e),g=!1)},h),l.apply(m,e)}},falseFn:function(){return !1},formatNum:function(h,g){var i=Math.pow(10,g||5);return Math.round(h*i)/i},splitWords:function(g){return g.replace(/^\s+|\s+$/g,"").split(/\s+/)},setOptions:function(h,g){return h.options=f.Util.extend({},h.options,g),h.options},getParamString:function(h){var g=[];for(var i in h){h.hasOwnProperty(i)&&g.push(i+"="+h[i])}return"?"+g.join("&")},template:function(h,g){return h.replace(/\{ *([\w_]+) *\}/g,function(j,k){var i=g[k];if(!g.hasOwnProperty(k)){throw Error("No value provided for variable "+j)}return i})},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function g(l){var o,m,k=["webkit","moz","o","ms"];for(o=0;o<k.length&&!m;o++){m=d[k[o]+l]}return m}function j(i){return d.setTimeout(i,1000/60)}var e=d.requestAnimationFrame||g("RequestAnimationFrame")||j,h=d.cancelAnimationFrame||g("CancelAnimationFrame")||g("CancelRequestAnimationFrame")||function(i){d.clearTimeout(i)};f.Util.requestAnimFrame=function(k,l,m,i){k=f.Util.bind(k,l);if(!m||e!==j){return e.call(d,k,i)}k()},f.Util.cancelAnimFrame=function(i){i&&h.call(d,i)}}(),f.Class=function(){},f.Class.extend=function(l){var h=function(){this.initialize&&this.initialize.apply(this,arguments)},k=function(){};k.prototype=this.prototype;var g=new k;g.constructor=h,h.prototype=g;for(var j in this){this.hasOwnProperty(j)&&j!=="prototype"&&(h[j]=this[j])}return l.statics&&(f.Util.extend(h,l.statics),delete l.statics),l.includes&&(f.Util.extend.apply(null,[g].concat(l.includes)),delete l.includes),l.options&&g.options&&(l.options=f.Util.extend({},g.options,l.options)),f.Util.extend(g,l),h},f.Class.include=function(g){f.Util.extend(this.prototype,g)},f.Class.mergeOptions=function(g){f.Util.extend(this.prototype.options,g)};var a="_leaflet_events";f.Mixin={},f.Mixin.Events={addEventListener:function(l,i,k){var j=this[a]=this[a]||{},m,h,g;if(typeof l=="object"){for(m in l){l.hasOwnProperty(m)&&this.addEventListener(m,l[m],i)}return this}l=f.Util.splitWords(l);for(h=0,g=l.length;h<g;h++){j[l[h]]=j[l[h]]||[],j[l[h]].push({action:i,context:k||this})}return this},hasEventListeners:function(g){return a in this&&g in this[a]&&this[a][g].length>0},removeEventListener:function(k,p,g){var q=this[a],h,n,m,j,i;if(typeof k=="object"){for(h in k){k.hasOwnProperty(h)&&this.removeEventListener(h,k[h],p)}return this}k=f.Util.splitWords(k);for(n=0,m=k.length;n<m;n++){if(this.hasEventListeners(k[n])){j=q[k[n]];for(i=j.length-1;i>=0;i--){(!p||j[i].action===p)&&(!g||j[i].context===g)&&j.splice(i,1)}}}return this},fireEvent:function(k,h){if(!this.hasEventListeners(k)){return this}var j=f.Util.extend({type:k,target:this},h),i=this[a][k].slice();for(var l=0,g=i.length;l<g;l++){i[l].action.call(i[l].context||this,j)}return this}},f.Mixin.Events.on=f.Mixin.Events.addEventListener,f.Mixin.Events.off=f.Mixin.Events.removeEventListener,f.Mixin.Events.fire=f.Mixin.Events.fireEvent,function(){var e=navigator.userAgent.toLowerCase(),t=!!d.ActiveXObject,H=t&&!d.XMLHttpRequest,k=e.indexOf("webkit")!==-1,G=e.indexOf("gecko")!==-1,E=e.indexOf("chrome")!==-1,z=d.opera,q=e.indexOf("android")!==-1,B=e.search("android [23]")!==-1,w=typeof orientation!=b+""?!0:!1,j=document.documentElement,A=t&&"transition" in j.style,F=k&&"WebKitCSSMatrix" in d&&"m11" in new d.WebKitCSSMatrix,n=G&&"MozPerspective" in j.style,x=z&&"OTransition" in j.style,D=!d.L_NO_TOUCH&&function(){var h="ontouchstart";if(h in j){return !0}var g=document.createElement("div"),i=!1;return g.setAttribute?(g.setAttribute(h,"return;"),typeof g[h]=="function"&&(i=!0),g.removeAttribute(h),g=null,i):!1}(),C="devicePixelRatio" in d&&d.devicePixelRatio>1||"matchMedia" in d&&d.matchMedia("(min-resolution:144dpi)").matches;f.Browser={ua:e,ie:t,ie6:H,webkit:k,gecko:G,opera:z,android:q,android23:B,chrome:E,ie3d:A,webkit3d:F,gecko3d:n,opera3d:x,any3d:!d.L_DISABLE_3D&&(A||F||n||x),mobile:w,mobileWebkit:w&&k,mobileWebkit3d:w&&F,mobileOpera:w&&z,touch:D,retina:C}}(),f.Point=function(h,g,i){this.x=i?Math.round(h):h,this.y=i?Math.round(g):g},f.Point.prototype={add:function(g){return this.clone()._add(f.point(g))},_add:function(g){return this.x+=g.x,this.y+=g.y,this},subtract:function(g){return this.clone()._subtract(f.point(g))},_subtract:function(g){return this.x-=g.x,this.y-=g.y,this},divideBy:function(h,g){return new f.Point(this.x/h,this.y/h,g)},multiplyBy:function(h,g){return new f.Point(this.x*h,this.y*h,g)},distanceTo:function(i){i=f.point(i);var g=i.x-this.x,h=i.y-this.y;return Math.sqrt(g*g+h*h)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},clone:function(){return new f.Point(this.x,this.y)},toString:function(){return"Point("+f.Util.formatNum(this.x)+", "+f.Util.formatNum(this.y)+")"}},f.point=function(i,g,h){return i instanceof f.Point?i:i instanceof Array?new f.Point(i[0],i[1]):isNaN(i)?i:new f.Point(i,g,h)},f.Bounds=f.Class.extend({initialize:function(k,h){if(!k){return}var l=h?[k,h]:k;for(var j=0,g=l.length;j<g;j++){this.extend(l[j])}},extend:function(g){return g=f.point(g),!this.min&&!this.max?(this.min=g.clone(),this.max=g.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(g){return new f.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,g)},getBottomLeft:function(){return new f.Point(this.min.x,this.max.y)},getTopRight:function(){return new f.Point(this.max.x,this.min.y)},contains:function(i){var g,h;return typeof i[0]=="number"||i instanceof f.Point?i=f.point(i):i=f.bounds(i),i instanceof f.Bounds?(g=i.min,h=i.max):g=h=i,g.x>=this.min.x&&h.x<=this.max.x&&g.y>=this.min.y&&h.y<=this.max.y},intersects:function(m){m=f.bounds(m);var j=this.min,l=this.max,h=m.min,k=m.max,n=k.x>=j.x&&h.x<=l.x,g=k.y>=j.y&&h.y<=l.y;return n&&g}}),f.bounds=function(h,g){return !h||h instanceof f.Bounds?h:new f.Bounds(h,g)},f.Transformation=f.Class.extend({initialize:function(i,g,j,h){this._a=i,this._b=g,this._c=j,this._d=h},transform:function(h,g){return this._transform(h.clone(),g)},_transform:function(h,g){return g=g||1,h.x=g*(this._a*h.x+this._b),h.y=g*(this._c*h.y+this._d),h},untransform:function(h,g){return g=g||1,new f.Point((h.x/g-this._b)/this._a,(h.y/g-this._d)/this._c)}}),f.DomUtil={get:function(g){return typeof g=="string"?document.getElementById(g):g},getStyle:function(i,g){var j=i.style[g];!j&&i.currentStyle&&(j=i.currentStyle[g]);if(!j||j==="auto"){var h=document.defaultView.getComputedStyle(i,null);j=h?h[g]:null}return j==="auto"?null:j},getViewportOffset:function(l){var h=0,k=0,g=l,j=document.body;do{h+=g.offsetTop||0,k+=g.offsetLeft||0;if(g.offsetParent===j&&f.DomUtil.getStyle(g,"position")==="absolute"){break}if(f.DomUtil.getStyle(g,"position")==="fixed"){h+=j.scrollTop||0,k+=j.scrollLeft||0;break}g=g.offsetParent}while(g);g=l;do{if(g===j){break}h-=g.scrollTop||0,k-=g.scrollLeft||0,g=g.parentNode}while(g);return new f.Point(k,h)},create:function(i,g,j){var h=document.createElement(i);return h.className=g,j&&j.appendChild(h),h},disableTextSelection:function(){document.selection&&document.selection.empty&&document.selection.empty(),this._onselectstart||(this._onselectstart=document.onselectstart,document.onselectstart=f.Util.falseFn)},enableTextSelection:function(){document.onselectstart=this._onselectstart,this._onselectstart=null},hasClass:function(h,g){return h.className.length>0&&RegExp("(^|\\s)"+g+"(\\s|$)").test(h.className)},addClass:function(h,g){f.DomUtil.hasClass(h,g)||(h.className+=(h.className?" ":"")+g)},removeClass:function(h,g){function i(j,k){return k===g?"":j}h.className=h.className.replace(/(\S+)\s*/g,i).replace(/(^\s+|\s+$)/,"")},setOpacity:function(l,h){if("opacity" in l.style){l.style.opacity=h}else{if(f.Browser.ie){var k=!1,g="DXImageTransform.Microsoft.Alpha";try{k=l.filters.item(g)}catch(j){}h=Math.round(h*100),k?(k.Enabled=h!==100,k.Opacity=h):l.style.filter+=" progid:"+g+"(opacity="+h+")"}}},testProp:function(h){var g=document.documentElement.style;for(var i=0;i<h.length;i++){if(h[i] in g){return h[i]}}return !1},getTranslateString:function(k){var h=f.Browser.webkit3d,j="translate"+(h?"3d":"")+"(",g=(h?",0":"")+")";return j+k.x+"px,"+k.y+"px"+g},getScaleString:function(k,h){var j=f.DomUtil.getTranslateString(h.add(h.multiplyBy(-1*k))),g=" scale("+k+") ";return j+g},setPosition:function(i,g,h){i._leaflet_pos=g,!h&&f.Browser.any3d?(i.style[f.DomUtil.TRANSFORM]=f.DomUtil.getTranslateString(g),f.Browser.mobileWebkit3d&&(i.style.WebkitBackfaceVisibility="hidden")):(i.style.left=g.x+"px",i.style.top=g.y+"px")},getPosition:function(g){return g._leaflet_pos}},f.Util.extend(f.DomUtil,{TRANSITION:f.DomUtil.testProp(["transition","webkitTransition","OTransition","MozTransition","msTransition"]),TRANSFORM:f.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"])}),f.LatLng=function(k,h,l){var j=parseFloat(k),g=parseFloat(h);if(isNaN(j)||isNaN(g)){throw Error("Invalid LatLng object: ("+k+", "+h+")")}l!==!0&&(j=Math.max(Math.min(j,90),-90),g=(g+180)%360+(g<-180||g===180?180:-180)),this.lat=j,this.lng=g},f.Util.extend(f.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),f.LatLng.prototype={equals:function(h){if(!h){return !1}h=f.latLng(h);var g=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return g<=f.LatLng.MAX_MARGIN},toString:function(){return"LatLng("+f.Util.formatNum(this.lat)+", "+f.Util.formatNum(this.lng)+")"},distanceTo:function(n){n=f.latLng(n);var v=6378137,g=f.LatLng.DEG_TO_RAD,k=(n.lat-this.lat)*g,w=(n.lng-this.lng)*g,h=this.lat*g,q=n.lat*g,p=Math.sin(k/2),m=Math.sin(w/2),j=p*p+m*m*Math.cos(h)*Math.cos(q);return v*2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j))}},f.latLng=function(i,g,h){return i instanceof f.LatLng?i:i instanceof Array?new f.LatLng(i[0],i[1]):isNaN(i)?i:new f.LatLng(i,g,h)},f.LatLngBounds=f.Class.extend({initialize:function(k,h){if(!k){return}var l=h?[k,h]:k;for(var j=0,g=l.length;j<g;j++){this.extend(l[j])}},extend:function(g){return typeof g[0]=="number"||g instanceof f.LatLng?g=f.latLng(g):g=f.latLngBounds(g),g instanceof f.LatLng?!this._southWest&&!this._northEast?(this._southWest=new f.LatLng(g.lat,g.lng,!0),this._northEast=new f.LatLng(g.lat,g.lng,!0)):(this._southWest.lat=Math.min(g.lat,this._southWest.lat),this._southWest.lng=Math.min(g.lng,this._southWest.lng),this._northEast.lat=Math.max(g.lat,this._northEast.lat),this._northEast.lng=Math.max(g.lng,this._northEast.lng)):g instanceof f.LatLngBounds&&(this.extend(g._southWest),this.extend(g._northEast)),this},pad:function(l){var h=this._southWest,k=this._northEast,g=Math.abs(h.lat-k.lat)*l,j=Math.abs(h.lng-k.lng)*l;return new f.LatLngBounds(new f.LatLng(h.lat-g,h.lng-j),new f.LatLng(k.lat+g,k.lng+j))},getCenter:function(){return new f.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new f.LatLng(this._northEast.lat,this._southWest.lng,!0)},getSouthEast:function(){return new f.LatLng(this._southWest.lat,this._northEast.lng,!0)},contains:function(l){typeof l[0]=="number"||l instanceof f.LatLng?l=f.latLng(l):l=f.latLngBounds(l);var h=this._southWest,k=this._northEast,g,j;return l instanceof f.LatLngBounds?(g=l.getSouthWest(),j=l.getNorthEast()):g=j=l,g.lat>=h.lat&&j.lat<=k.lat&&g.lng>=h.lng&&j.lng<=k.lng},intersects:function(m){m=f.latLngBounds(m);var j=this._southWest,l=this._northEast,h=m.getSouthWest(),k=m.getNorthEast(),n=k.lat>=j.lat&&h.lat<=l.lat,g=k.lng>=j.lng&&h.lng<=l.lng;return n&&g},toBBoxString:function(){var h=this._southWest,g=this._northEast;return[h.lng,h.lat,g.lng,g.lat].join(",")},equals:function(g){return g?(g=f.latLngBounds(g),this._southWest.equals(g.getSouthWest())&&this._northEast.equals(g.getNorthEast())):!1}}),f.latLngBounds=function(h,g){return !h||h instanceof f.LatLngBounds?h:new f.LatLngBounds(h,g)},f.Projection={},f.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(l){var h=f.LatLng.DEG_TO_RAD,k=this.MAX_LATITUDE,g=Math.max(Math.min(k,l.lat),-k),j=l.lng*h,m=g*h;return m=Math.log(Math.tan(Math.PI/4+m/2)),new f.Point(j,m)},unproject:function(k){var h=f.LatLng.RAD_TO_DEG,j=k.x*h,g=(2*Math.atan(Math.exp(k.y))-Math.PI/2)*h;return new f.LatLng(g,j,!0)}},f.Projection.LonLat={project:function(g){return new f.Point(g.lng,g.lat)},unproject:function(g){return new f.LatLng(g.y,g.x,!0)}},f.CRS={latLngToPoint:function(i,g){var j=this.projection.project(i),h=this.scale(g);return this.transformation._transform(j,h)},pointToLatLng:function(i,g){var j=this.scale(g),h=this.transformation.untransform(i,j);return this.projection.unproject(h)},project:function(g){return this.projection.project(g)},scale:function(g){return 256*Math.pow(2,g)}},f.CRS.EPSG3857=f.Util.extend({},f.CRS,{code:"EPSG:3857",projection:f.Projection.SphericalMercator,transformation:new f.Transformation(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),project:function(h){var g=this.projection.project(h),i=6378137;return g.multiplyBy(i)}}),f.CRS.EPSG900913=f.Util.extend({},f.CRS.EPSG3857,{code:"EPSG:900913"}),f.CRS.EPSG4326=f.Util.extend({},f.CRS,{code:"EPSG:4326",projection:f.Projection.LonLat,transformation:new f.Transformation(1/360,0.5,-1/360,0.5)}),f.Map=f.Class.extend({includes:f.Mixin.Events,options:{crs:f.CRS.EPSG3857,fadeAnimation:f.DomUtil.TRANSITION&&!f.Browser.android23,trackResize:!0,markerZoomAnimation:f.DomUtil.TRANSITION&&f.Browser.any3d},initialize:function(h,g){g=f.Util.setOptions(this,g),this._initContainer(h),this._initLayout(),this._initHooks(),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.center&&g.zoom!==b&&this.setView(f.latLng(g.center),g.zoom,!0),this._initLayers(g.layers)},setView:function(h,g){return this._resetView(f.latLng(h),this._limitZoom(g)),this},setZoom:function(g){return this.setView(this.getCenter(),g)},zoomIn:function(){return this.setZoom(this._zoom+1)},zoomOut:function(){return this.setZoom(this._zoom-1)},fitBounds:function(h){var g=this.getBoundsZoom(h);return this.setView(f.latLngBounds(h).getCenter(),g)},fitWorld:function(){var h=new f.LatLng(-60,-170),g=new f.LatLng(85,179);return this.fitBounds(new f.LatLngBounds(h,g))},panTo:function(g){return this.setView(g,this._zoom)},panBy:function(g){return this.fire("movestart"),this._rawPanBy(f.point(g)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(h){h=f.latLngBounds(h),this.options.maxBounds=h;if(!h){return this._boundsMinZoom=null,this}var g=this.getBoundsZoom(h,!0);return this._boundsMinZoom=g,this._loaded&&(this._zoom<g?this.setView(h.getCenter(),g):this.panInsideBounds(h)),this},panInsideBounds:function(n){n=f.latLngBounds(n);var k=this.getBounds(),m=this.project(k.getSouthWest()),j=this.project(k.getNorthEast()),l=this.project(n.getSouthWest()),p=this.project(n.getNorthEast()),h=0,g=0;return j.y<p.y&&(g=p.y-j.y),j.x>p.x&&(h=p.x-j.x),m.y>l.y&&(g=l.y-m.y),m.x<l.x&&(h=l.x-m.x),this.panBy(new f.Point(h,g,!0))},addLayer:function(i){var g=f.Util.stamp(i);if(this._layers[g]){return this}this._layers[g]=i,i.options&&!isNaN(i.options.maxZoom)&&(this._layersMaxZoom=Math.max(this._layersMaxZoom||0,i.options.maxZoom)),i.options&&!isNaN(i.options.minZoom)&&(this._layersMinZoom=Math.min(this._layersMinZoom||Infinity,i.options.minZoom)),this.options.zoomAnimation&&f.TileLayer&&i instanceof f.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,i.on("load",this._onTileLayerLoad,this));var h=function(){i.onAdd(this),this.fire("layeradd",{layer:i})};return this._loaded?h.call(this):this.on("load",h,this),this},removeLayer:function(h){var g=f.Util.stamp(h);if(!this._layers[g]){return}return h.onRemove(this),delete this._layers[g],this.options.zoomAnimation&&f.TileLayer&&h instanceof f.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,h.off("load",this._onTileLayerLoad,this)),this.fire("layerremove",{layer:h})},hasLayer:function(h){var g=f.Util.stamp(h);return this._layers.hasOwnProperty(g)},invalidateSize:function(i){var g=this.getSize();this._sizeChanged=!0,this.options.maxBounds&&this.setMaxBounds(this.options.maxBounds);if(!this._loaded){return this}var h=g.subtract(this.getSize()).divideBy(2,!0);return i===!0?this.panBy(h):(this._rawPanBy(h),this.fire("move"),clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f.Util.bind(this.fire,this,"moveend"),200)),this},addHandler:function(h,g){if(!g){return}return this[h]=new g(this),this.options[h]&&this[h].enable(),this},getCenter:function(){return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),g=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new f.LatLngBounds(g,h)},getMinZoom:function(){var h=this.options.minZoom||0,g=this._layersMinZoom||0,i=this._boundsMinZoom||0;return Math.max(h,g,i)},getMaxZoom:function(){var g=this.options.maxZoom===b?Infinity:this.options.maxZoom,h=this._layersMaxZoom===b?Infinity:this._layersMaxZoom;return Math.min(g,h)},getBoundsZoom:function(n,w){n=f.latLngBounds(n);var g=this.getSize(),k=this.options.minZoom||0,x=this.getMaxZoom(),h=n.getNorthEast(),v=n.getSouthWest(),q,m,j,p=!0;w&&k--;do{k++,m=this.project(h,k),j=this.project(v,k),q=new f.Point(Math.abs(m.x-j.x),Math.abs(j.y-m.y)),w?p=q.x<g.x||q.y<g.y:p=q.x<=g.x&&q.y<=g.y}while(p&&k<=x);return p&&w?null:w?k:k-1},getSize:function(){if(!this._size||this._sizeChanged){this._size=new f.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1}return this._size},getPixelBounds:function(){var g=this._getTopLeftPoint();return new f.Bounds(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h){var g=this.options.crs;return g.scale(h)/g.scale(this._zoom)},getScaleZoom:function(g){return this._zoom+Math.log(g)/Math.LN2},project:function(h,g){return g=g===b?this._zoom:g,this.options.crs.latLngToPoint(f.latLng(h),g)},unproject:function(h,g){return g=g===b?this._zoom:g,this.options.crs.pointToLatLng(f.point(h),g)},layerPointToLatLng:function(h){var g=f.point(h).add(this._initialTopLeftPoint);return this.unproject(g)},latLngToLayerPoint:function(h){var g=this.project(f.latLng(h))._round();return g._subtract(this._initialTopLeftPoint)},containerPointToLayerPoint:function(g){return f.point(g).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(g){return f.point(g).add(this._getMapPanePos())},containerPointToLatLng:function(h){var g=this.containerPointToLayerPoint(f.point(h));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(g){return this.layerPointToContainerPoint(this.latLngToLayerPoint(f.latLng(g)))},mouseEventToContainerPoint:function(g){return f.DomEvent.getMousePosition(g,this._container)},mouseEventToLayerPoint:function(g){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(g))},mouseEventToLatLng:function(g){return this.layerPointToLatLng(this.mouseEventToLayerPoint(g))},_initContainer:function(h){var g=this._container=f.DomUtil.get(h);if(g._leaflet){throw Error("Map container is already initialized.")}g._leaflet=!0},_initLayout:function(){var h=this._container;h.innerHTML="",f.DomUtil.addClass(h,"leaflet-container"),f.Browser.touch&&f.DomUtil.addClass(h,"leaflet-touch"),this.options.fadeAnimation&&f.DomUtil.addClass(h,"leaflet-fade-anim");var g=f.DomUtil.getStyle(h,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._mapPane=h.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=h.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),this._objectsPane=h.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),h.shadowPane=this._createPane("leaflet-shadow-pane"),h.overlayPane=this._createPane("leaflet-overlay-pane"),h.markerPane=this._createPane("leaflet-marker-pane"),h.popupPane=this._createPane("leaflet-popup-pane");var g=" leaflet-zoom-hide";this.options.markerZoomAnimation||(f.DomUtil.addClass(h.markerPane,g),f.DomUtil.addClass(h.shadowPane,g),f.DomUtil.addClass(h.popupPane,g))},_createPane:function(h,g){return f.DomUtil.create("div",h,g||this._objectsPane)},_initializers:[],_initHooks:function(){var h,g;for(h=0,g=this._initializers.length;h<g;h++){this._initializers[h].call(this)}},_initLayers:function(h){h=h?h instanceof Array?h:[h]:[],this._layers={},this._tileLayersNum=0;var g,i;for(g=0,i=h.length;g<i;g++){this.addLayer(h[g])}},_resetView:function(l,h,k,g){var j=this._zoom!==h;g||(this.fire("movestart"),j&&this.fire("zoomstart")),this._zoom=h,this._initialTopLeftPoint=this._getNewTopLeftPoint(l),k?this._initialTopLeftPoint._add(this._getMapPanePos()):f.DomUtil.setPosition(this._mapPane,new f.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum,this.fire("viewreset",{hard:!k}),this.fire("move"),(j||g)&&this.fire("zoomend"),this.fire("moveend",{hard:!k}),this._loaded||(this._loaded=!0,this.fire("load"))},_rawPanBy:function(g){f.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(g))},_initEvents:function(){if(!f.DomEvent){return}f.DomEvent.on(this._container,"click",this._onMouseClick,this);var g=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"],h,e;for(h=0,e=g.length;h<e;h++){f.DomEvent.on(this._container,g[h],this._fireMouseEvent,this)}this.options.trackResize&&f.DomEvent.on(d,"resize",this._onResize,this)},_onResize:function(){f.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=f.Util.requestAnimFrame(this.invalidateSize,this,!1,this._container)},_onMouseClick:function(g){if(!this._loaded||this.dragging&&this.dragging.moved()){return}this.fire("preclick"),this._fireMouseEvent(g)},_fireMouseEvent:function(l){if(!this._loaded){return}var h=l.type;h=h==="mouseenter"?"mouseover":h==="mouseleave"?"mouseout":h;if(!this.hasEventListeners(h)){return}h==="contextmenu"&&f.DomEvent.preventDefault(l);var k=this.mouseEventToContainerPoint(l),g=this.containerPointToLayerPoint(k),j=this.layerPointToLatLng(g);this.fire(h,{latlng:j,layerPoint:g,containerPoint:k,originalEvent:l})},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this._tileBg&&(clearTimeout(this._clearTileBgTimer),this._clearTileBgTimer=setTimeout(f.Util.bind(this._clearTileBg,this),500))},_getMapPanePos:function(){return f.DomUtil.getPosition(this._mapPane)},_getTopLeftPoint:function(){if(!this._loaded){throw Error("Set map center and zoom first.")}return this._initialTopLeftPoint.subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(h,g){var i=this.getSize().divideBy(2);return this.project(h,g)._subtract(i)._round()},_latLngToNewLayerPoint:function(i,g,j){var h=this._getNewTopLeftPoint(j,g).add(this._getMapPanePos());return this.project(i,g)._subtract(h)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize().divideBy(2))},_getCenterOffset:function(g){return this.latLngToLayerPoint(g).subtract(this._getCenterLayerPoint())},_limitZoom:function(h){var g=this.getMinZoom(),i=this.getMaxZoom();return Math.max(g,Math.min(i,h))}}),f.Map.addInitHook=function(h){var g=Array.prototype.slice.call(arguments,1),i=typeof h=="function"?h:function(){this[h].apply(this,g)};this.prototype._initializers.push(i)},f.map=function(h,g){return new f.Map(h,g)},f.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.3142,R_MAJOR:6378137,project:function(q){var y=f.LatLng.DEG_TO_RAD,g=this.MAX_LATITUDE,m=Math.max(Math.min(g,q.lat),-g),z=this.R_MAJOR,j=this.R_MINOR,x=q.lng*y*z,w=m*y,p=j/z,k=Math.sqrt(1-p*p),v=k*Math.sin(w);v=Math.pow((1-v)/(1+v),k*0.5);var n=Math.tan(0.5*(Math.PI*0.5-w))/v;return w=-j*Math.log(n),new f.Point(x,w)},unproject:function(w){var B=f.LatLng.RAD_TO_DEG,g=this.R_MAJOR,n=this.R_MINOR,C=w.x*B/g,k=n/g,A=Math.sqrt(1-k*k),z=Math.exp(-w.y/n),v=Math.PI/2-2*Math.atan(z),m=15,y=1e-7,q=m,j=0.1,x;while(Math.abs(j)>y&&--q>0){x=A*Math.sin(v),j=Math.PI/2-2*Math.atan(z*Math.pow((1-x)/(1+x),0.5*A))-v,v+=j}return new f.LatLng(v*B,C,!0)}},f.CRS.EPSG3395=f.Util.extend({},f.CRS,{code:"EPSG:3395",projection:f.Projection.Mercator,transformation:function(){var i=f.Projection.Mercator,g=i.R_MAJOR,h=i.R_MINOR;return new f.Transformation(0.5/(Math.PI*g),0.5,-0.5/(Math.PI*h),0.5)}()}),f.TileLayer=f.Class.extend({includes:f.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:f.Browser.mobile,updateWhenIdle:f.Browser.mobile},initialize:function(i,g){g=f.Util.setOptions(this,g),g.detectRetina&&f.Browser.retina&&g.maxZoom>0&&(g.tileSize=Math.floor(g.tileSize/2),g.zoomOffset++,g.minZoom>0&&g.minZoom--,this.options.maxZoom--),this._url=i;var h=this.options.subdomains;typeof h=="string"&&(this.options.subdomains=h.split(""))},onAdd:function(g){this._map=g,this._initContainer(),this._createTileProto(),g.on({viewreset:this._resetCallback,moveend:this._update},this),this.options.updateWhenIdle||(this._limitedUpdate=f.Util.limitExecByInterval(this._update,150,this),g.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(g){return g.addLayer(this),this},onRemove:function(g){g._panes.tilePane.removeChild(this._container),g.off({viewreset:this._resetCallback,moveend:this._update},this),this.options.updateWhenIdle||g.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var g=this._map._panes.tilePane;return this._container&&(g.appendChild(this._container),this._setAutoZIndex(g,Math.max)),this},bringToBack:function(){var g=this._map._panes.tilePane;return this._container&&(g.insertBefore(this._container,g.firstChild),this._setAutoZIndex(g,Math.min)),this},getAttribution:function(){return this.options.attribution},setOpacity:function(g){return this.options.opacity=g,this._map&&this._updateOpacity(),this},setZIndex:function(g){return this.options.zIndex=g,this._updateZIndex(),this},setUrl:function(h,g){return this._url=h,g||this.redraw(),this},redraw:function(){return this._map&&(this._map._panes.tilePane.empty=!1,this._reset(!0),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==b&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l,h){var p=l.getElementsByClassName("leaflet-layer"),k=-h(Infinity,-Infinity),g;for(var j=0,m=p.length;j<m;j++){p[j]!==this._container&&(g=parseInt(p[j].style.zIndex,10),isNaN(g)||(k=h(k,g)))}this._container.style.zIndex=isFinite(k)?k+h(1,-1):""},_updateOpacity:function(){f.DomUtil.setOpacity(this._container,this.options.opacity);var h,g=this._tiles;if(f.Browser.webkit){for(h in g){g.hasOwnProperty(h)&&(g[h].style.webkitTransform+=" translate(0,0)")}}},_initContainer:function(){var g=this._map._panes.tilePane;if(!this._container||g.empty){this._container=f.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),g.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_resetCallback:function(g){this._reset(g.hard)},_reset:function(h){var g,i=this._tiles;for(g in i){i.hasOwnProperty(g)&&this.fire("tileunload",{tile:i[g]})}this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),h&&this._container&&(this._container.innerHTML=""),this._initContainer()},_update:function(m){if(this._map._panTransition&&this._map._panTransition._inProgress){return}var j=this._map.getPixelBounds(),l=this._map.getZoom(),h=this.options.tileSize;if(l>this.options.maxZoom||l<this.options.minZoom){return}var k=new f.Point(Math.floor(j.min.x/h),Math.floor(j.min.y/h)),n=new f.Point(Math.floor(j.max.x/h),Math.floor(j.max.y/h)),g=new f.Bounds(k,n);this._addTilesFromCenterOut(g),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(g)},_addTilesFromCenterOut:function(n){var k=[],m=n.getCenter(),j,l,p;for(j=n.min.y;j<=n.max.y;j++){for(l=n.min.x;l<=n.max.x;l++){p=new f.Point(l,j),this._tileShouldBeLoaded(p)&&k.push(p)}}var h=k.length;if(h===0){return}k.sort(function(o,i){return o.distanceTo(m)-i.distanceTo(m)});var g=document.createDocumentFragment();this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=h;for(l=0;l<h;l++){this._addTile(k[l],g)}this._container.appendChild(g)},_tileShouldBeLoaded:function(h){if(h.x+":"+h.y in this._tiles){return !1}if(!this.options.continuousWorld){var g=this._getWrapTileNum();if(this.options.noWrap&&(h.x<0||h.x>=g)||h.y<0||h.y>=g){return !1}}return !0},_removeOtherTiles:function(k){var h,l,j,g;for(g in this._tiles){this._tiles.hasOwnProperty(g)&&(h=g.split(":"),l=parseInt(h[0],10),j=parseInt(h[1],10),(l<k.min.x||l>k.max.x||j<k.min.y||j>k.max.y)&&this._removeTile(g))}},_removeTile:function(h){var g=this._tiles[h];this.fire("tileunload",{tile:g,url:g.src}),this.options.reuseTiles?(f.DomUtil.removeClass(g,"leaflet-tile-loaded"),this._unusedTiles.push(g)):g.parentNode===this._container&&this._container.removeChild(g),f.Browser.android||(g.src=f.Util.emptyImageUrl),delete this._tiles[h]},_addTile:function(k,h){var j=this._getTilePos(k),g=this._getTile();f.DomUtil.setPosition(g,j,f.Browser.chrome||f.Browser.android23),this._tiles[k.x+":"+k.y]=g,this._loadTile(g,k),g.parentNode!==this._container&&h.appendChild(g)},_getZoomForUrl:function(){var h=this.options,g=this._map.getZoom();return h.zoomReverse&&(g=h.maxZoom-g),g+h.zoomOffset},_getTilePos:function(h){var g=this._map.getPixelOrigin(),i=this.options.tileSize;return h.multiplyBy(i).subtract(g)},getTileUrl:function(g){return this._adjustTilePoint(g),f.Util.template(this._url,f.Util.extend({s:this._getSubdomain(g),z:this._getZoomForUrl(),x:g.x,y:g.y},this.options))},_getWrapTileNum:function(){return Math.pow(2,this._getZoomForUrl())},_adjustTilePoint:function(h){var g=this._getWrapTileNum();!this.options.continuousWorld&&!this.options.noWrap&&(h.x=(h.x%g+g)%g),this.options.tms&&(h.y=g-h.y-1)},_getSubdomain:function(h){var g=(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[g]},_createTileProto:function(){var h=this._tileImg=f.DomUtil.create("img","leaflet-tile");h.galleryimg="no";var g=this.options.tileSize;h.style.width=g+"px",h.style.height=g+"px"},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var g=this._unusedTiles.pop();return this._resetTile(g),g}return this._createTile()},_resetTile:function(g){},_createTile:function(){var g=this._tileImg.cloneNode(!1);return g.onselectstart=g.onmousemove=f.Util.falseFn,g},_loadTile:function(h,g){h._layer=this,h.onload=this._tileOnLoad,h.onerror=this._tileOnError,h.src=this.getTileUrl(g)},_tileLoaded:function(){this._tilesToLoad--,this._tilesToLoad||this.fire("load")},_tileOnLoad:function(h){var g=this._layer;this.src!==f.Util.emptyImageUrl&&(f.DomUtil.addClass(this,"leaflet-tile-loaded"),g.fire("tileload",{tile:this,url:this.src})),g._tileLoaded()},_tileOnError:function(h){var g=this._layer;g.fire("tileerror",{tile:this,url:this.src});var i=g.options.errorTileUrl;i&&(this.src=i),g._tileLoaded()}}),f.tileLayer=function(h,g){return new f.TileLayer(h,g)},f.TileLayer.WMS=f.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(k,h){this._url=k;var j=f.Util.extend({},this.defaultWmsParams);h.detectRetina&&f.Browser.retina?j.width=j.height=this.options.tileSize*2:j.width=j.height=this.options.tileSize;for(var g in h){this.options.hasOwnProperty(g)||(j[g]=h[g])}this.wmsParams=j,f.Util.setOptions(this,h)},onAdd:function(h){var g=parseFloat(this.wmsParams.version)>=1.3?"crs":"srs";this.wmsParams[g]=h.options.crs.code,f.TileLayer.prototype.onAdd.call(this,h)},getTileUrl:function(n,w){var g=this._map,k=g.options.crs,x=this.options.tileSize,h=n.multiplyBy(x),v=h.add(new f.Point(x,x)),q=k.project(g.unproject(h,w)),m=k.project(g.unproject(v,w)),j=[q.x,m.y,m.x,q.y].join(","),p=f.Util.template(this._url,{s:this._getSubdomain(n)});return p+f.Util.getParamString(this.wmsParams)+"&bbox="+j},setParams:function(h,g){return f.Util.extend(this.wmsParams,h),g||this.redraw(),this}}),f.tileLayer.wms=function(h,g){return new f.TileLayer.WMS(h,g)},f.TileLayer.Canvas=f.TileLayer.extend({options:{async:!1},initialize:function(g){f.Util.setOptions(this,g)},redraw:function(){var h,g=this._tiles;for(h in g){g.hasOwnProperty(h)&&this._redrawTile(g[h])}},_redrawTile:function(g){this.drawTile(g,g._tilePoint,g._zoom)},_createTileProto:function(){var h=this._canvasProto=f.DomUtil.create("canvas","leaflet-tile"),g=this.options.tileSize;h.width=g,h.height=g},_createTile:function(){var g=this._canvasProto.cloneNode(!1);return g.onselectstart=g.onmousemove=f.Util.falseFn,g},_loadTile:function(h,g,i){h._layer=this,h._tilePoint=g,h._zoom=i,this.drawTile(h,g,i),this.options.async||this.tileDrawn(h)},drawTile:function(h,g,i){},tileDrawn:function(g){this._tileOnLoad.call(g)}}),f.tileLayer.canvas=function(g){return new f.TileLayer.Canvas(g)},f.ImageOverlay=f.Class.extend({includes:f.Mixin.Events,options:{opacity:1},initialize:function(i,g,h){this._url=i,this._bounds=f.latLngBounds(g),f.Util.setOptions(this,h)},onAdd:function(g){this._map=g,this._image||this._initImage(),g._panes.overlayPane.appendChild(this._image),g.on("viewreset",this._reset,this),g.options.zoomAnimation&&f.Browser.any3d&&g.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(g){g.getPanes().overlayPane.removeChild(this._image),g.off("viewreset",this._reset,this),g.options.zoomAnimation&&g.off("zoomanim",this._animateZoom,this)},addTo:function(g){return g.addLayer(this),this},setOpacity:function(g){return this.options.opacity=g,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var g=this._map._panes.overlayPane;return this._image&&g.insertBefore(this._image,g.firstChild),this},_initImage:function(){this._image=f.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&f.Browser.any3d?f.DomUtil.addClass(this._image,"leaflet-zoom-animated"):f.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),f.Util.extend(this._image,{galleryimg:"no",onselectstart:f.Util.falseFn,onmousemove:f.Util.falseFn,onload:f.Util.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(n){var v=this._map,g=this._image,k=v.getZoomScale(n.zoom),w=this._bounds.getNorthWest(),h=this._bounds.getSouthEast(),q=v._latLngToNewLayerPoint(w,n.zoom,n.center),p=v._latLngToNewLayerPoint(h,n.zoom,n.center).subtract(q),m=v.latLngToLayerPoint(h).subtract(v.latLngToLayerPoint(w)),j=q.add(p.subtract(m).divideBy(2));g.style[f.DomUtil.TRANSFORM]=f.DomUtil.getTranslateString(j)+" scale("+k+") "},_reset:function(){var i=this._image,g=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),h=this._map.latLngToLayerPoint(this._bounds.getSouthEast()).subtract(g);f.DomUtil.setPosition(i,g),i.style.width=h.x+"px",i.style.height=h.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){f.DomUtil.setOpacity(this._image,this.options.opacity)}}),f.imageOverlay=function(i,g,h){return new f.ImageOverlay(i,g,h)},f.Icon=f.Class.extend({options:{className:""},initialize:function(g){f.Util.setOptions(this,g)},createIcon:function(){return this._createIcon("icon")},createShadow:function(){return this._createIcon("shadow")},_createIcon:function(h){var g=this._getIconUrl(h);if(!g){if(h==="icon"){throw Error("iconUrl not set in Icon options (see the docs).")}return null}var i=this._createImg(g);return this._setIconStyles(i,h),i},_setIconStyles:function(l,h){var k=this.options,g=f.point(k[h+"Size"]),j;h==="shadow"?j=f.point(k.shadowAnchor||k.iconAnchor):j=f.point(k.iconAnchor),!j&&g&&(j=g.divideBy(2,!0)),l.className="leaflet-marker-"+h+" "+k.className,j&&(l.style.marginLeft=-j.x+"px",l.style.marginTop=-j.y+"px"),g&&(l.style.width=g.x+"px",l.style.height=g.y+"px")},_createImg:function(h){var g;return f.Browser.ie6?(g=document.createElement("div"),g.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+h+'")'):(g=document.createElement("img"),g.src=h),g},_getIconUrl:function(g){return this.options[g+"Url"]}}),f.icon=function(g){return new f.Icon(g)},f.Icon.Default=f.Icon.extend({options:{iconSize:new f.Point(25,41),iconAnchor:new f.Point(13,41),popupAnchor:new f.Point(1,-34),shadowSize:new f.Point(41,41)},_getIconUrl:function(i){var g=i+"Url";if(this.options[g]){return this.options[g]}var h=f.Icon.Default.imagePath;if(!h){throw Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.")}return h+"/marker-"+i+".png"}}),f.Icon.Default.imagePath=function(){var l=document.getElementsByTagName("script"),h=/\/?leaflet[\-\._]?([\w\-\._]*)\.js\??/,m,k,g,j;for(m=0,k=l.length;m<k;m++){g=l[m].src,j=g.match(h);if(j){return g.split(h)[0]+"/images"}}}(),f.Marker=f.Class.extend({includes:f.Mixin.Events,options:{icon:new f.Icon.Default,title:"",clickable:!0,draggable:!1,zIndexOffset:0,opacity:1},initialize:function(h,g){f.Util.setOptions(this,g),this._latlng=f.latLng(h)},onAdd:function(g){this._map=g,g.on("viewreset",this.update,this),this._initIcon(),this.update(),g.options.zoomAnimation&&g.options.markerZoomAnimation&&g.on("zoomanim",this._animateZoom,this)},addTo:function(g){return g.addLayer(this),this},onRemove:function(g){this._removeIcon(),this.closePopup&&this.closePopup(),g.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(g){this._latlng=f.latLng(g),this.update(),this._popup&&this._popup.setLatLng(g)},setZIndexOffset:function(g){this.options.zIndexOffset=g,this.update()},setIcon:function(g){this._map&&this._removeIcon(),this.options.icon=g,this._map&&(this._initIcon(),this.update())},update:function(){if(!this._icon){return}var g=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(g)},_initIcon:function(){var l=this.options,h=this._map,k=h.options.zoomAnimation&&h.options.markerZoomAnimation,g=k?"leaflet-zoom-animated":"leaflet-zoom-hide",j=!1;this._icon||(this._icon=l.icon.createIcon(),l.title&&(this._icon.title=l.title),this._initInteraction(),j=this.options.opacity<1,f.DomUtil.addClass(this._icon,g)),this._shadow||(this._shadow=l.icon.createShadow(),this._shadow&&(f.DomUtil.addClass(this._shadow,g),j=this.options.opacity<1)),j&&this._updateOpacity();var m=this._map._panes;m.markerPane.appendChild(this._icon),this._shadow&&m.shadowPane.appendChild(this._shadow)},_removeIcon:function(){var g=this._map._panes;g.markerPane.removeChild(this._icon),this._shadow&&g.shadowPane.removeChild(this._shadow),this._icon=this._shadow=null},_setPos:function(g){f.DomUtil.setPosition(this._icon,g),this._shadow&&f.DomUtil.setPosition(this._shadow,g),this._icon.style.zIndex=g.y+this.options.zIndexOffset},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPos(g)},_initInteraction:function(){if(!this.options.clickable){return}var i=this._icon,g=["dblclick","mousedown","mouseover","mouseout"];f.DomUtil.addClass(i,"leaflet-clickable"),f.DomEvent.on(i,"click",this._onMouseClick,this);for(var h=0;h<g.length;h++){f.DomEvent.on(i,g[h],this._fireMouseEvent,this)}f.Handler.MarkerDrag&&(this.dragging=new f.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())},_onMouseClick:function(g){f.DomEvent.stopPropagation(g);if(this.dragging&&this.dragging.moved()){return}if(this._map.dragging&&this._map.dragging.moved()){return}this.fire(g.type,{originalEvent:g})},_fireMouseEvent:function(g){this.fire(g.type,{originalEvent:g}),g.type!=="mousedown"&&f.DomEvent.stopPropagation(g)},setOpacity:function(g){this.options.opacity=g,this._map&&this._updateOpacity()},_updateOpacity:function(){f.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&f.DomUtil.setOpacity(this._shadow,this.options.opacity)}}),f.marker=function(h,g){return new f.Marker(h,g)},f.DivIcon=f.Icon.extend({options:{iconSize:new f.Point(12,12),className:"leaflet-div-icon"},createIcon:function(){var h=document.createElement("div"),g=this.options;return g.html&&(h.innerHTML=g.html),g.bgPos&&(h.style.backgroundPosition=-g.bgPos.x+"px "+-g.bgPos.y+"px"),this._setIconStyles(h,"icon"),h},createShadow:function(){return null}}),f.divIcon=function(g){return new f.DivIcon(g)},f.Map.mergeOptions({closePopupOnClick:!0}),f.Popup=f.Class.extend({includes:f.Mixin.Events,options:{minWidth:50,maxWidth:300,maxHeight:null,autoPan:!0,closeButton:!0,offset:new f.Point(0,6),autoPanPadding:new f.Point(5,5),className:""},initialize:function(h,g){f.Util.setOptions(this,h),this._source=g},onAdd:function(h){this._map=h,this._container||this._initLayout(),this._updateContent();var g=h.options.fadeAnimation;g&&f.DomUtil.setOpacity(this._container,0),h._panes.popupPane.appendChild(this._container),h.on("viewreset",this._updatePosition,this),f.Browser.any3d&&h.on("zoomanim",this._zoomAnimation,this),h.options.closePopupOnClick&&h.on("preclick",this._close,this),this._update(),g&&f.DomUtil.setOpacity(this._container,1)},addTo:function(g){return g.addLayer(this),this},openOn:function(g){return g.openPopup(this),this},onRemove:function(g){g._panes.popupPane.removeChild(this._container),f.Util.falseFn(this._container.offsetWidth),g.off({viewreset:this._updatePosition,preclick:this._close,zoomanim:this._zoomAnimation},this),g.options.fadeAnimation&&f.DomUtil.setOpacity(this._container,0),this._map=null},setLatLng:function(g){return this._latlng=f.latLng(g),this._update(),this},setContent:function(g){return this._content=g,this._update(),this},_close:function(){var g=this._map;g&&(g._popup=null,g.removeLayer(this).fire("popupclose",{popup:this}))},_initLayout:function(){var k="leaflet-popup",h=this._container=f.DomUtil.create("div",k+" "+this.options.className+" leaflet-zoom-animated"),j;this.options.closeButton&&(j=this._closeButton=f.DomUtil.create("a",k+"-close-button",h),j.href="#close",j.innerHTML="&#215;",f.DomEvent.on(j,"click",this._onCloseButtonClick,this));var g=this._wrapper=f.DomUtil.create("div",k+"-content-wrapper",h);f.DomEvent.disableClickPropagation(g),this._contentNode=f.DomUtil.create("div",k+"-content",g),f.DomEvent.on(this._contentNode,"mousewheel",f.DomEvent.stopPropagation),this._tipContainer=f.DomUtil.create("div",k+"-tip-container",h),this._tip=f.DomUtil.create("div",k+"-tip",this._tipContainer)},_update:function(){if(!this._map){return}this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan()},_updateContent:function(){if(!this._content){return}if(typeof this._content=="string"){this._contentNode.innerHTML=this._content}else{while(this._contentNode.hasChildNodes()){this._contentNode.removeChild(this._contentNode.firstChild)}this._contentNode.appendChild(this._content)}this.fire("contentupdate")},_updateLayout:function(){var l=this._contentNode,h=l.style;h.width="",h.whiteSpace="nowrap";var k=l.offsetWidth;k=Math.min(k,this.options.maxWidth),k=Math.max(k,this.options.minWidth),h.width=k+1+"px",h.whiteSpace="",h.height="";var g=l.offsetHeight,j=this.options.maxHeight,m="leaflet-popup-scrolled";j&&g>j?(h.height=j+"px",f.DomUtil.addClass(l,m)):f.DomUtil.removeClass(l,m),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng),g=f.Browser.any3d,h=this.options.offset;g&&f.DomUtil.setPosition(this._container,i),this._containerBottom=-h.y-(g?0:i.y),this._containerLeft=-Math.round(this._containerWidth/2)+h.x+(g?0:i.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"},_zoomAnimation:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);f.DomUtil.setPosition(this._container,g)},_adjustPan:function(){if(!this.options.autoPan){return}var l=this._map,p=this._container.offsetHeight,g=this._containerWidth,j=new f.Point(this._containerLeft,-p-this._containerBottom);f.Browser.any3d&&j._add(f.DomUtil.getPosition(this._container));var q=l.layerPointToContainerPoint(j),h=this.options.autoPanPadding,n=l.getSize(),m=0,k=0;q.x<0&&(m=q.x-h.x),q.x+g>n.x&&(m=q.x+g-n.x+h.x),q.y<0&&(k=q.y-h.y),q.y+p>n.y&&(k=q.y+p-n.y+h.y),(m||k)&&l.panBy(new f.Point(m,k))},_onCloseButtonClick:function(g){this._close(),f.DomEvent.stop(g)}}),f.popup=function(h,g){return new f.Popup(h,g)},f.Marker.include({openPopup:function(){return this._popup&&this._map&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},bindPopup:function(i,g){var h=f.point(this.options.icon.options.popupAnchor)||new f.Point(0,0);return h=h.add(f.Popup.prototype.options.offset),g&&g.offset&&(h=h.add(g.offset)),g=f.Util.extend({offset:h},g),this._popup||this.on("click",this.openPopup,this),this._popup=(new f.Popup(g,this)).setContent(i),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.openPopup)),this}}),f.Map.include({openPopup:function(g){return this.closePopup(),this._popup=g,this.addLayer(g).fire("popupopen",{popup:this._popup})},closePopup:function(){return this._popup&&this._popup._close(),this}}),f.LayerGroup=f.Class.extend({initialize:function(h){this._layers={};var g,i;if(h){for(g=0,i=h.length;g<i;g++){this.addLayer(h[g])}}},addLayer:function(h){var g=f.Util.stamp(h);return this._layers[g]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var g=f.Util.stamp(h);return delete this._layers[g],this._map&&this._map.removeLayer(h),this},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(i){var g=Array.prototype.slice.call(arguments,1),j,h;for(j in this._layers){this._layers.hasOwnProperty(j)&&(h=this._layers[j],h[i]&&h[i].apply(h,g))}return this},onAdd:function(g){this._map=g,this.eachLayer(g.addLayer,g)},onRemove:function(g){this.eachLayer(g.removeLayer,g),this._map=null},addTo:function(g){return g.addLayer(this),this},eachLayer:function(h,g){for(var i in this._layers){this._layers.hasOwnProperty(i)&&h.call(g,this._layers[i])}}}),f.layerGroup=function(g){return new f.LayerGroup(g)},f.FeatureGroup=f.LayerGroup.extend({includes:f.Mixin.Events,addLayer:function(g){return this._layers[f.Util.stamp(g)]?this:(g.on("click dblclick mouseover mouseout mousemove contextmenu",this._propagateEvent,this),f.LayerGroup.prototype.addLayer.call(this,g),this._popupContent&&g.bindPopup&&g.bindPopup(this._popupContent),this)},removeLayer:function(g){return g.off("click dblclick mouseover mouseout mousemove contextmenu",this._propagateEvent,this),f.LayerGroup.prototype.removeLayer.call(this,g),this._popupContent?this.invoke("unbindPopup"):this},bindPopup:function(g){return this._popupContent=g,this.invoke("bindPopup",g)},setStyle:function(g){return this.invoke("setStyle",g)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var g=new f.LatLngBounds;return this.eachLayer(function(e){g.extend(e instanceof f.Marker?e.getLatLng():e.getBounds())},this),g},_propagateEvent:function(g){g.layer=g.target,g.target=this,this.fire(g.type,g)}}),f.featureGroup=function(g){return new f.FeatureGroup(g)},f.Path=f.Class.extend({includes:[f.Mixin.Events],statics:{CLIP_PADDING:f.Browser.mobile?Math.max(0,Math.min(0.5,(1280/Math.max(d.innerWidth,d.innerHeight)-1)/2)):0.5},options:{stroke:!0,color:"#0033ff",dashArray:null,weight:5,opacity:0.5,fill:!1,fillColor:null,fillOpacity:0.2,clickable:!0},initialize:function(g){f.Util.setOptions(this,g)},onAdd:function(g){this._map=g,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),g.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(g){return g.addLayer(this),this},onRemove:function(g){g._pathRoot.removeChild(this._container),this._map=null,f.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),g.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(g){return f.Util.setOptions(this,g),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),f.Map.include({_updatePathViewport:function(){var l=f.Path.CLIP_PADDING,h=this.getSize(),k=f.DomUtil.getPosition(this._mapPane),g=k.multiplyBy(-1)._subtract(h.multiplyBy(l)),j=g.add(h.multiplyBy(1+l*2));this._pathViewport=new f.Bounds(g,j)}}),f.Path.SVG_NS="http://www.w3.org/2000/svg",f.Browser.svg=!!document.createElementNS&&!!document.createElementNS(f.Path.SVG_NS,"svg").createSVGRect,f.Path=f.Path.extend({statics:{SVG:f.Browser.svg},bringToFront:function(){return this._container&&this._map._pathRoot.appendChild(this._container),this},bringToBack:function(){if(this._container){var g=this._map._pathRoot;g.insertBefore(this._container,g.firstChild)}return this},getPathString:function(){},_createElement:function(g){return document.createElementNS(f.Path.SVG_NS,g)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray")):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var g=this.getPathString();g||(g="M0 0"),this._path.setAttribute("d",g)},_initEvents:function(){if(this.options.clickable){(f.Browser.svg||!f.Browser.vml)&&this._path.setAttribute("class","leaflet-clickable"),f.DomEvent.on(this._container,"click",this._onMouseClick,this);var h=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"];for(var g=0;g<h.length;g++){f.DomEvent.on(this._container,h[g],this._fireMouseEvent,this)}}},_onMouseClick:function(g){if(this._map.dragging&&this._map.dragging.moved()){return}this._fireMouseEvent(g),f.DomEvent.stopPropagation(g)},_fireMouseEvent:function(l){if(!this.hasEventListeners(l.type)){return}l.type==="contextmenu"&&f.DomEvent.preventDefault(l);var h=this._map,k=h.mouseEventToContainerPoint(l),g=h.containerPointToLayerPoint(k),j=h.layerPointToLatLng(g);this.fire(l.type,{latlng:j,layerPoint:g,containerPoint:k,originalEvent:l})}}),f.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=f.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&f.Browser.any3d?(this._pathRoot.setAttribute("class"," leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):this._pathRoot.setAttribute("class"," leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(l){var h=this.getZoomScale(l.zoom),k=this._getCenterOffset(l.center).divideBy(1-1/h),g=this.containerPointToLayerPoint(this.getSize().multiplyBy(-f.Path.CLIP_PADDING)),j=g.add(k).round();this._pathRoot.style[f.DomUtil.TRANSFORM]=f.DomUtil.getTranslateString(j.multiplyBy(-1).add(f.DomUtil.getPosition(this._pathRoot)).multiplyBy(h).add(j))+" scale("+h+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(this._pathZooming){return}this._updatePathViewport();var m=this._pathViewport,j=m.min,l=m.max,h=l.x-j.x,k=l.y-j.y,n=this._pathRoot,g=this._panes.overlayPane;f.Browser.mobileWebkit&&g.removeChild(n),f.DomUtil.setPosition(n,j),n.setAttribute("width",h),n.setAttribute("height",k),n.setAttribute("viewBox",[j.x,j.y,h,k].join(" ")),f.Browser.mobileWebkit&&g.appendChild(n)}}),f.Path.include({bindPopup:function(h,g){if(!this._popup||this._popup.options!==g){this._popup=new f.Popup(g,this)}return this._popup.setContent(h),this._openPopupAdded||(this.on("click",this._openPopup,this),this._openPopupAdded=!0),this},openPopup:function(g){return this._popup&&(g=g||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:g})),this},_openPopup:function(g){this._popup.setLatLng(g.latlng),this._map.openPopup(this._popup)}}),f.Browser.vml=function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var g=h.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch(i){return !1}}(),f.Path=f.Browser.svg||!f.Browser.vml?f.Path:f.Path.extend({statics:{VML:!0,CLIP_PADDING:0.02},_createElement:function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch(g){return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var g=this._container=this._createElement("shape");f.DomUtil.addClass(g,"leaflet-vml-shape"),this.options.clickable&&f.DomUtil.addClass(g,"leaflet-clickable"),g.coordsize="1 1",this._path=this._createElement("path"),g.appendChild(this._path),this._map._pathRoot.appendChild(g)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var i=this._stroke,g=this._fill,j=this.options,h=this._container;h.stroked=j.stroke,h.filled=j.fill,j.stroke?(i||(i=this._stroke=this._createElement("stroke"),i.endcap="round",h.appendChild(i)),i.weight=j.weight+"px",i.color=j.color,i.opacity=j.opacity,j.dashArray?i.dashStyle=j.dashArray.replace(/ *, */g," "):i.dashStyle=""):i&&(h.removeChild(i),this._stroke=null),j.fill?(g||(g=this._fill=this._createElement("fill"),h.appendChild(g)),g.color=j.fillColor||j.color,g.opacity=j.fillOpacity):g&&(h.removeChild(g),this._fill=null)},_updatePath:function(){var g=this._container.style;g.display="none",this._path.v=this.getPathString()+" ",g.display=""}}),f.Map.include(f.Browser.svg||!f.Browser.vml?{}:{_initPathRoot:function(){if(this._pathRoot){return}var g=this._pathRoot=document.createElement("div");g.className="leaflet-vml-container",this._panes.overlayPane.appendChild(g),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}),f.Browser.canvas=function(){return !!document.createElement("canvas").getContext}(),f.Path=f.Path.SVG&&!d.L_PREFER_CANVAS||!f.Browser.canvas?f.Path:f.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(g){return f.Util.setOptions(this,g),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(g){g.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&(f.Util.cancelAnimFrame(this._fireMapMoveEnd),this._updateRequest=f.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var g=this.options;g.stroke&&(this._ctx.lineWidth=g.weight,this._ctx.strokeStyle=g.color),g.fill&&(this._ctx.fillStyle=g.fillColor||g.color)},_drawPath:function(){var l,h,k,g,j,m;this._ctx.beginPath();for(l=0,k=this._parts.length;l<k;l++){for(h=0,g=this._parts[l].length;h<g;h++){j=this._parts[l][h],m=(h===0?"move":"line")+"To",this._ctx[m](j.x,j.y)}this instanceof f.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return !this._parts.length},_updatePath:function(){if(this._checkIfEmpty()){return}var h=this._ctx,g=this.options;this._drawPath(),h.save(),this._updateStyle(),g.fill&&(g.fillOpacity<1&&(h.globalAlpha=g.fillOpacity),h.fill()),g.stroke&&(g.opacity<1&&(h.globalAlpha=g.opacity),h.stroke()),h.restore()},_initEvents:function(){this.options.clickable&&this._map.on("click",this._onClick,this)},_onClick:function(g){this._containsPoint(g.layerPoint)&&this.fire("click",g)}}),f.Map.include(f.Path.SVG&&!d.L_PREFER_CANVAS||!f.Browser.canvas?{}:{_initPathRoot:function(){var h=this._pathRoot,g;h||(h=this._pathRoot=document.createElement("canvas"),h.style.position="absolute",g=this._canvasCtx=h.getContext("2d"),g.lineCap="round",g.lineJoin="round",this._panes.overlayPane.appendChild(h),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(this._pathZooming){return}this._updatePathViewport();var k=this._pathViewport,h=k.min,j=k.max.subtract(h),g=this._pathRoot;f.DomUtil.setPosition(g,h),g.width=j.x,g.height=j.y,g.getContext("2d").translate(-h.x,-h.y)}}),f.LineUtil={simplify:function(h,g){if(!g||!h.length){return h.slice()}var i=g*g;return h=this._reducePoints(h,i),h=this._simplifyDP(h,i),h},pointToSegmentDistance:function(h,g,i){return Math.sqrt(this._sqClosestPointOnSegment(h,g,i,!0))},closestPointOnSegment:function(h,g,i){return this._sqClosestPointOnSegment(h,g,i)},_simplifyDP:function(l,p){var k=l.length,h=typeof Uint8Array!=b+""?Uint8Array:Array,j=new h(k);j[0]=j[k-1]=1,this._simplifyDPStep(l,j,p,0,k-1);var m,g=[];for(m=0;m<k;m++){j[m]&&g.push(l[m])}return g},_simplifyDPStep:function(l,q,j,g,k){var v=0,h,p,m;for(p=g+1;p<=k-1;p++){m=this._sqClosestPointOnSegment(l[p],l[g],l[k],!0),m>v&&(h=p,v=m)}v>j&&(q[h]=1,this._simplifyDPStep(l,q,j,g,h),this._simplifyDPStep(l,q,j,h,k))},_reducePoints:function(l,h){var m=[l[0]];for(var k=1,g=0,j=l.length;k<j;k++){this._sqDist(l[k],l[g])>h&&(m.push(l[k]),g=k)}return g<j-1&&m.push(l[j-1]),m},clipSegment:function(q,x,j,g){var m=j.min,y=j.max,h=g?this._lastCode:this._getBitCode(q,j),w=this._getBitCode(x,j);this._lastCode=w;for(;;){if(!(h|w)){return[q,x]}if(h&w){return !1}var v=h||w,p=this._getEdgeIntersection(q,x,v,j),k=this._getBitCode(p,j);v===h?(q=p,h=k):(x=p,w=k)}},_getEdgeIntersection:function(n,k,m,j){var l=k.x-n.x,p=k.y-n.y,h=j.min,g=j.max;if(m&8){return new f.Point(n.x+l*(g.y-n.y)/p,g.y)}if(m&4){return new f.Point(n.x+l*(h.y-n.y)/p,h.y)}if(m&2){return new f.Point(g.x,n.y+p*(g.x-n.x)/l)}if(m&1){return new f.Point(h.x,n.y+p*(h.x-n.x)/l)}},_getBitCode:function(h,g){var i=0;return h.x<g.min.x?i|=1:h.x>g.max.x&&(i|=2),h.y<g.min.y?i|=4:h.y>g.max.y&&(i|=8),i},_sqDist:function(i,g){var j=g.x-i.x,h=g.y-i.y;return j*j+h*h},_sqClosestPointOnSegment:function(n,v,g,k){var w=v.x,h=v.y,q=g.x-w,p=g.y-h,m=q*q+p*p,j;return m>0&&(j=((n.x-w)*q+(n.y-h)*p)/m,j>1?(w=g.x,h=g.y):j>0&&(w+=q*j,h+=p*j)),q=n.x-w,p=n.y-h,k?q*q+p*p:new f.Point(w,h)}},f.Polyline=f.Path.extend({initialize:function(h,g){f.Path.prototype.initialize.call(this,g),this._latlngs=this._convertLatLngs(h),f.Handler.PolyEdit&&(this.editing=new f.Handler.PolyEdit(this),this.options.editable&&this.editing.enable())},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var h=0,g=this._latlngs.length;h<g;h++){this._originalPoints[h]=this._map.latLngToLayerPoint(this._latlngs[h])}},getPathString:function(){for(var h=0,g=this._parts.length,i="";h<g;h++){i+=this._getPathPartStr(this._parts[h])}return i},getLatLngs:function(){return this._latlngs},setLatLngs:function(g){return this._latlngs=this._convertLatLngs(g),this.redraw()},addLatLng:function(g){return this._latlngs.push(f.latLng(g)),this.redraw()},spliceLatLngs:function(h,g){var i=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs),this.redraw(),i},closestLayerPoint:function(q){var y=Infinity,g=this._parts,m,z,j=null;for(var x=0,w=g.length;x<w;x++){var p=g[x];for(var k=1,v=p.length;k<v;k++){m=p[k-1],z=p[k];var n=f.LineUtil._sqClosestPointOnSegment(q,m,z,!0);n<y&&(y=n,j=f.LineUtil._sqClosestPointOnSegment(q,m,z))}}return j&&(j.distance=Math.sqrt(y)),j},getBounds:function(){var k=new f.LatLngBounds,h=this.getLatLngs();for(var j=0,g=h.length;j<g;j++){k.extend(h[j])}return k},onAdd:function(g){f.Path.prototype.onAdd.call(this,g),this.editing&&this.editing.enabled()&&this.editing.addHooks()},onRemove:function(g){this.editing&&this.editing.enabled()&&this.editing.removeHooks(),f.Path.prototype.onRemove.call(this,g)},_convertLatLngs:function(i){var g,h;for(g=0,h=i.length;g<h;g++){if(i[g] instanceof Array&&typeof i[g][0]!="number"){return}i[g]=f.latLng(i[g])}return i},_initEvents:function(){f.Path.prototype._initEvents.call(this)},_getPathPartStr:function(l){var h=f.Path.VML;for(var k=0,g=l.length,j="",m;k<g;k++){m=l[k],h&&m._round(),j+=(k?"L":"M")+m.x+" "+m.y}return j},_clipPoints:function(){var n=this._originalPoints,k=n.length,m,j,l;if(this.options.noClip){this._parts=[n];return}this._parts=[];var p=this._parts,h=this._map._pathViewport,g=f.LineUtil;for(m=0,j=0;m<k-1;m++){l=g.clipSegment(n[m],n[m+1],h,m);if(!l){continue}p[j]=p[j]||[],p[j].push(l[0]);if(l[1]!==n[m+1]||m===k-2){p[j].push(l[1]),j++}}},_simplifyPoints:function(){var k=this._parts,h=f.LineUtil;for(var j=0,g=k.length;j<g;j++){k[j]=h.simplify(k[j],this.options.smoothFactor)}},_updatePath:function(){if(!this._map){return}this._clipPoints(),this._simplifyPoints(),f.Path.prototype._updatePath.call(this)}}),f.polyline=function(h,g){return new f.Polyline(h,g)},f.PolyUtil={},f.PolyUtil.clipPolygon=function(x,D){var g=D.min,n=D.max,E,k=[1,4,2,8],C,A,w,m,z,q,j,y,B=f.LineUtil;for(C=0,q=x.length;C<q;C++){x[C]._code=B._getBitCode(x[C],D)}for(w=0;w<4;w++){j=k[w],E=[];for(C=0,q=x.length,A=q-1;C<q;A=C++){m=x[C],z=x[A],m._code&j?z._code&j||(y=B._getEdgeIntersection(z,m,j,D),y._code=B._getBitCode(y,D),E.push(y)):(z._code&j&&(y=B._getEdgeIntersection(z,m,j,D),y._code=B._getBitCode(y,D),E.push(y)),E.push(m))}x=E}return x},f.Polygon=f.Polyline.extend({options:{fill:!0},initialize:function(h,g){f.Polyline.prototype.initialize.call(this,h,g),h&&h[0] instanceof Array&&typeof h[0][0]!="number"&&(this._latlngs=this._convertLatLngs(h[0]),this._holes=h.slice(1))},projectLatlngs:function(){f.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[];if(!this._holes){return}for(var l=0,h=this._holes.length,k;l<h;l++){this._holePoints[l]=[];for(var g=0,j=this._holes[l].length;g<j;g++){this._holePoints[l][g]=this._map.latLngToLayerPoint(this._holes[l][g])}}},_clipPoints:function(){var l=this._originalPoints,h=[];this._parts=[l].concat(this._holePoints);if(this.options.noClip){return}for(var k=0,g=this._parts.length;k<g;k++){var j=f.PolyUtil.clipPolygon(this._parts[k],this._map._pathViewport);if(!j.length){continue}h.push(j)}this._parts=h},_getPathPartStr:function(h){var g=f.Polyline.prototype._getPathPartStr.call(this,h);return g+(f.Browser.svg?"z":"x")}}),f.polygon=function(h,g){return new f.Polygon(h,g)},function(){function g(h){return f.FeatureGroup.extend({initialize:function(j,i){this._layers={},this._options=i,this.setLatLngs(j)},setLatLngs:function(e){var j=0,i=e.length;this.eachLayer(function(k){j<i?k.setLatLngs(e[j++]):this.removeLayer(k)},this);while(j<i){this.addLayer(new h(e[j++],this._options))}return this}})}f.MultiPolyline=g(f.Polyline),f.MultiPolygon=g(f.Polygon),f.multiPolyline=function(i,h){return new f.MultiPolyline(i,h)},f.multiPolygon=function(i,h){return new f.MultiPolygon(i,h)}}(),f.Rectangle=f.Polygon.extend({initialize:function(h,g){f.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(h),g)},setBounds:function(g){this.setLatLngs(this._boundsToLatLngs(g))},_boundsToLatLngs:function(g){return g=f.latLngBounds(g),[g.getSouthWest(),g.getNorthWest(),g.getNorthEast(),g.getSouthEast(),g.getSouthWest()]}}),f.rectangle=function(h,g){return new f.Rectangle(h,g)},f.Circle=f.Path.extend({initialize:function(i,g,h){f.Path.prototype.initialize.call(this,h),this._latlng=f.latLng(i),this._mRadius=g},options:{fill:!0},setLatLng:function(g){return this._latlng=f.latLng(g),this.redraw()},setRadius:function(g){return this._mRadius=g,this.redraw()},projectLatlngs:function(){var i=this._getLngRadius(),g=new f.LatLng(this._latlng.lat,this._latlng.lng-i,!0),h=this._map.latLngToLayerPoint(g);this._point=this._map.latLngToLayerPoint(this._latlng),this._radius=Math.max(Math.round(this._point.x-h.x),1)},getBounds:function(){var m=this._map,j=this._radius*Math.cos(Math.PI/4),l=m.project(this._latlng),h=new f.Point(l.x-j,l.y+j),k=new f.Point(l.x+j,l.y-j),n=m.unproject(h),g=m.unproject(k);return new f.LatLngBounds(n,g)},getLatLng:function(){return this._latlng},getPathString:function(){var h=this._point,g=this._radius;return this._checkIfEmpty()?"":f.Browser.svg?"M"+h.x+","+(h.y-g)+"A"+g+","+g+",0,1,1,"+(h.x-0.1)+","+(h.y-g)+" z":(h._round(),g=Math.round(g),"AL "+h.x+","+h.y+" "+g+","+g+" 0,"+23592600)},getRadius:function(){return this._mRadius},_getLngRadius:function(){var h=40075017,g=h*Math.cos(f.LatLng.DEG_TO_RAD*this._latlng.lat);return this._mRadius/g*360},_checkIfEmpty:function(){if(!this._map){return !1}var h=this._map._pathViewport,g=this._radius,i=this._point;return i.x-g>h.max.x||i.y-g>h.max.y||i.x+g<h.min.x||i.y+g<h.min.y}}),f.circle=function(i,g,h){return new f.Circle(i,g,h)},f.CircleMarker=f.Circle.extend({options:{radius:10,weight:2},initialize:function(h,g){f.Circle.prototype.initialize.call(this,h,null,g),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},setRadius:function(g){return this._radius=g,this.redraw()}}),f.circleMarker=function(h,g){return new f.CircleMarker(h,g)},f.Polyline.include(f.Path.CANVAS?{_containsPoint:function(n,v){var g,k,w,h,q,p,m,j=this.options.weight/2;f.Browser.touch&&(j+=10);for(g=0,h=this._parts.length;g<h;g++){m=this._parts[g];for(k=0,q=m.length,w=q-1;k<q;w=k++){if(!v&&k===0){continue}p=f.LineUtil.pointToSegmentDistance(n,m[w],m[k]);if(p<=j){return !0}}}return !1}}:{}),f.Polygon.include(f.Path.CANVAS?{_containsPoint:function(n){var v=!1,g,k,w,h,q,p,m,j;if(f.Polyline.prototype._containsPoint.call(this,n,!0)){return !0}for(h=0,m=this._parts.length;h<m;h++){g=this._parts[h];for(q=0,j=g.length,p=j-1;q<j;p=q++){k=g[q],w=g[p],k.y>n.y!=w.y>n.y&&n.x<(w.x-k.x)*(n.y-k.y)/(w.y-k.y)+k.x&&(v=!v)}}return v}}:{}),f.Circle.include(f.Path.CANVAS?{_drawPath:function(){var g=this._point;this._ctx.beginPath(),this._ctx.arc(g.x,g.y,this._radius,0,Math.PI*2,!1)},_containsPoint:function(h){var g=this._point,i=this.options.stroke?this.options.weight/2:0;return h.distanceTo(g)<=this._radius+i}}:{}),f.GeoJSON=f.FeatureGroup.extend({initialize:function(h,g){f.Util.setOptions(this,g),this._layers={},h&&this.addData(h)},addData:function(l){var h=l instanceof Array?l:l.features,k,g;if(h){for(k=0,g=h.length;k<g;k++){this.addData(h[k])}return this}var j=this.options;if(j.filter&&!j.filter(l)){return}var m=f.GeoJSON.geometryToLayer(l,j.pointToLayer);return m.feature=l,this.resetStyle(m),j.onEachFeature&&j.onEachFeature(l,m),this.addLayer(m)},resetStyle:function(h){var g=this.options.style;g&&this._setLayerStyle(h,g)},setStyle:function(g){this.eachLayer(function(e){this._setLayerStyle(e,g)},this)},_setLayerStyle:function(h,g){typeof g=="function"&&(g=g(h.feature)),h.setStyle&&h.setStyle(g)}}),f.Util.extend(f.GeoJSON,{geometryToLayer:function(n,v){var g=n.type==="Feature"?n.geometry:n,k=g.coordinates,w=[],h,q,p,m,j;switch(g.type){case"Point":return h=this.coordsToLatLng(k),v?v(n,h):new f.Marker(h);case"MultiPoint":for(p=0,m=k.length;p<m;p++){h=this.coordsToLatLng(k[p]),j=v?v(n,h):new f.Marker(h),w.push(j)}return new f.FeatureGroup(w);case"LineString":return q=this.coordsToLatLngs(k),new f.Polyline(q);case"Polygon":return q=this.coordsToLatLngs(k,1),new f.Polygon(q);case"MultiLineString":return q=this.coordsToLatLngs(k,1),new f.MultiPolyline(q);case"MultiPolygon":return q=this.coordsToLatLngs(k,2),new f.MultiPolygon(q);case"GeometryCollection":for(p=0,m=g.geometries.length;p<m;p++){j=this.geometryToLayer(g.geometries[p],v),w.push(j)}return new f.FeatureGroup(w);default:throw Error("Invalid GeoJSON object.")}},coordsToLatLng:function(k,h){var j=parseFloat(k[h?0:1]),g=parseFloat(k[h?1:0]);return new f.LatLng(j,g,!0)},coordsToLatLngs:function(l,h,p){var k,g=[],j,m;for(j=0,m=l.length;j<m;j++){k=h?this.coordsToLatLngs(l[j],h-1,p):this.coordsToLatLng(l[j],p),g.push(k)}return g}}),f.geoJson=function(h,g){return new f.GeoJSON(h,g)},f.DomEvent={addListener:function(l,p,g,j){var q=f.Util.stamp(g),h="_leaflet_"+p+q,n,m,k;return l[h]?this:(n=function(e){return g.call(j||l,e||f.DomEvent._getEvent())},f.Browser.touch&&p==="dblclick"&&this.addDoubleTapListener?this.addDoubleTapListener(l,n,q):("addEventListener" in l?p==="mousewheel"?(l.addEventListener("DOMMouseScroll",n,!1),l.addEventListener(p,n,!1)):p==="mouseenter"||p==="mouseleave"?(m=n,k=p==="mouseenter"?"mouseover":"mouseout",n=function(e){if(!f.DomEvent._checkMouse(l,e)){return}return m(e)},l.addEventListener(k,n,!1)):l.addEventListener(p,n,!1):"attachEvent" in l&&l.attachEvent("on"+p,n),l[h]=n,this))},removeListener:function(l,h,k){var g=f.Util.stamp(k),j="_leaflet_"+h+g,m=l[j];if(!m){return}return f.Browser.touch&&h==="dblclick"&&this.removeDoubleTapListener?this.removeDoubleTapListener(l,g):"removeEventListener" in l?h==="mousewheel"?(l.removeEventListener("DOMMouseScroll",m,!1),l.removeEventListener(h,m,!1)):h==="mouseenter"||h==="mouseleave"?l.removeEventListener(h==="mouseenter"?"mouseover":"mouseout",m,!1):l.removeEventListener(h,m,!1):"detachEvent" in l&&l.detachEvent("on"+h,m),l[j]=null,this},stopPropagation:function(g){return g.stopPropagation?g.stopPropagation():g.cancelBubble=!0,this},disableClickPropagation:function(h){var g=f.DomEvent.stopPropagation;return f.DomEvent.addListener(h,f.Draggable.START,g).addListener(h,"click",g).addListener(h,"dblclick",g)},preventDefault:function(g){return g.preventDefault?g.preventDefault():g.returnValue=!1,this},stop:function(g){return f.DomEvent.preventDefault(g).stopPropagation(g)},getMousePosition:function(m,j){var l=document.body,h=document.documentElement,k=m.pageX?m.pageX:m.clientX+l.scrollLeft+h.scrollLeft,n=m.pageY?m.pageY:m.clientY+l.scrollTop+h.scrollTop,g=new f.Point(k,n);return j?g._subtract(f.DomUtil.getViewportOffset(j)):g},getWheelDelta:function(h){var g=0;return h.wheelDelta&&(g=h.wheelDelta/120),h.detail&&(g=-h.detail/3),g},_checkMouse:function(i,g){var j=g.relatedTarget;if(!j){return !0}try{while(j&&j!==i){j=j.parentNode}}catch(h){return !1}return j!==i},_getEvent:function(){var e=d.event;if(!e){var g=arguments.callee.caller;while(g){e=g.arguments[0];if(e&&d.Event===e.constructor){break}g=g.caller}}return e}},f.DomEvent.on=f.DomEvent.addListener,f.DomEvent.off=f.DomEvent.removeListener,f.Draggable=f.Class.extend({includes:f.Mixin.Events,statics:{START:f.Browser.touch?"touchstart":"mousedown",END:f.Browser.touch?"touchend":"mouseup",MOVE:f.Browser.touch?"touchmove":"mousemove",TAP_TOLERANCE:15},initialize:function(h,g){this._element=h,this._dragStartTarget=g||h},enable:function(){if(this._enabled){return}f.DomEvent.on(this._dragStartTarget,f.Draggable.START,this._onDown,this),this._enabled=!0},disable:function(){if(!this._enabled){return}f.DomEvent.off(this._dragStartTarget,f.Draggable.START,this._onDown),this._enabled=!1,this._moved=!1},_onDown:function(i){if(!f.Browser.touch&&i.shiftKey||i.which!==1&&i.button!==1&&!i.touches){return}this._simulateClick=!0;if(i.touches&&i.touches.length>1){this._simulateClick=!1;return}var g=i.touches&&i.touches.length===1?i.touches[0]:i,h=g.target;f.DomEvent.preventDefault(i),f.Browser.touch&&h.tagName.toLowerCase()==="a"&&f.DomUtil.addClass(h,"leaflet-active"),this._moved=!1;if(this._moving){return}this._startPos=this._newPos=f.DomUtil.getPosition(this._element),this._startPoint=new f.Point(g.clientX,g.clientY),f.DomEvent.on(document,f.Draggable.MOVE,this._onMove,this),f.DomEvent.on(document,f.Draggable.END,this._onUp,this)},_onMove:function(k){if(k.touches&&k.touches.length>1){return}var h=k.touches&&k.touches.length===1?k.touches[0]:k,j=new f.Point(h.clientX,h.clientY),g=j.subtract(this._startPoint);if(!g.x&&!g.y){return}f.DomEvent.preventDefault(k),this._moved||(this.fire("dragstart"),this._moved=!0,f.Browser.touch||(f.DomUtil.disableTextSelection(),this._setMovingCursor())),this._newPos=this._startPos.add(g),this._moving=!0,f.Util.cancelAnimFrame(this._animRequest),this._animRequest=f.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)},_updatePosition:function(){this.fire("predrag"),f.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(k){if(this._simulateClick&&k.changedTouches){var h=k.changedTouches[0],j=h.target,g=this._newPos&&this._newPos.distanceTo(this._startPos)||0;j.tagName.toLowerCase()==="a"&&f.DomUtil.removeClass(j,"leaflet-active"),g<f.Draggable.TAP_TOLERANCE&&this._simulateEvent("click",h)}f.Browser.touch||(f.DomUtil.enableTextSelection(),this._restoreCursor()),f.DomEvent.off(document,f.Draggable.MOVE,this._onMove),f.DomEvent.off(document,f.Draggable.END,this._onUp),this._moved&&(f.Util.cancelAnimFrame(this._animRequest),this.fire("dragend")),this._moving=!1},_setMovingCursor:function(){f.DomUtil.addClass(document.body,"leaflet-dragging")},_restoreCursor:function(){f.DomUtil.removeClass(document.body,"leaflet-dragging")},_simulateEvent:function(e,h){var g=document.createEvent("MouseEvents");g.initMouseEvent(e,!0,!0,d,1,h.screenX,h.screenY,h.clientX,h.clientY,!1,!1,!1,!1,0,null),h.target.dispatchEvent(g)}}),f.Handler=f.Class.extend({initialize:function(g){this._map=g},enable:function(){if(this._enabled){return}this._enabled=!0,this.addHooks()},disable:function(){if(!this._enabled){return}this._enabled=!1,this.removeHooks()},enabled:function(){return !!this._enabled}}),f.Map.mergeOptions({dragging:!0,inertia:!f.Browser.android23,inertiaDeceleration:3000,inertiaMaxSpeed:1500,inertiaThreshold:f.Browser.touch?32:14,worldCopyJump:!0}),f.Map.Drag=f.Handler.extend({addHooks:function(){if(!this._draggable){this._draggable=new f.Draggable(this._map._mapPane,this._map._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);var g=this._map.options;g.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),this._map.on("viewreset",this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var g=this._map;g.fire("movestart").fire("dragstart"),g._panTransition&&g._panTransition._onTransitionEnd(!0),g.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var h=this._lastTime=+(new Date),g=this._lastPos=this._draggable._newPos;this._positions.push(g),this._times.push(h),h-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var h=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint(new f.LatLng(0,0));this._initialWorldOffset=g.subtract(h).x,this._worldWidth=this._map.project(new f.LatLng(0,180)).x},_onPreDrag:function(){var m=this._map,j=this._worldWidth,q=Math.round(j/2),l=this._initialWorldOffset,h=this._draggable._newPos.x,k=(h-q+l)%j+q-l,p=(h+q+l)%j-q-l,g=Math.abs(k+l)<Math.abs(p+l)?k:p;this._draggable._newPos.x=g},_onDragEnd:function(){var v=this._map,g=v.options,n=+(new Date)-this._lastTime,A=!g.inertia||n>g.inertiaThreshold||this._positions[0]===b;if(A){v.fire("moveend")}else{var k=this._lastPos.subtract(this._positions[0]),z=(this._lastTime+n-this._times[0])/1000,y=k.multiplyBy(0.58/z),t=y.distanceTo(new f.Point(0,0)),m=Math.min(g.inertiaMaxSpeed,t),x=y.multiplyBy(m/t),q=m/g.inertiaDeceleration,j=x.multiplyBy(-q/2).round(),w={duration:q,easing:"ease-out"};f.Util.requestAnimFrame(f.Util.bind(function(){this._map.panBy(j,w)},this))}v.fire("dragend"),g.maxBounds&&f.Util.requestAnimFrame(this._panInsideMaxBounds,v,!0,v._container)},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)}}),f.Map.addInitHook("addHandler","dragging",f.Map.Drag),f.Map.mergeOptions({doubleClickZoom:!0}),f.Map.DoubleClickZoom=f.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick)},_onDoubleClick:function(g){this.setView(g.latlng,this._zoom+1)}}),f.Map.addInitHook("addHandler","doubleClickZoom",f.Map.DoubleClickZoom),f.Map.mergeOptions({scrollWheelZoom:!f.Browser.touch}),f.Map.ScrollWheelZoom=f.Handler.extend({addHooks:function(){f.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){f.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll)},_onWheelScroll:function(h){var g=f.DomEvent.getWheelDelta(h);this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(h),clearTimeout(this._timer),this._timer=setTimeout(f.Util.bind(this._performZoom,this),40),f.DomEvent.preventDefault(h)},_performZoom:function(){var k=this._map,h=Math.round(this._delta),l=k.getZoom();h=Math.max(Math.min(h,4),-4),h=k._limitZoom(l+h)-l,this._delta=0;if(!h){return}var j=l+h,g=this._getCenterForScrollWheelZoom(this._lastMousePos,j);k.setView(g,j)},_getCenterForScrollWheelZoom:function(l,h){var p=this._map,k=p.getZoomScale(h),g=p.getSize().divideBy(2),j=l.subtract(g).multiplyBy(1-1/k),m=p._getTopLeftPoint().add(g).add(j);return p.unproject(m)}}),f.Map.addInitHook("addHandler","scrollWheelZoom",f.Map.ScrollWheelZoom),f.Util.extend(f.DomEvent,{addDoubleTapListener:function(q,y,j){function k(l){if(l.touches.length!==1){return}var i=Date.now(),o=i-(g||i);h=l.touches[0],m=o>0&&o<=z,g=i}function v(i){m&&(h.type="dblclick",y(h),g=null)}var g,m=!1,z=250,h,x="_leaflet_",w="touchstart",p="touchend";return q[x+w+j]=k,q[x+p+j]=v,q.addEventListener(w,k,!1),q.addEventListener(p,v,!1),this},removeDoubleTapListener:function(h,g){var i="_leaflet_";return h.removeEventListener(h,h[i+"touchstart"+g],!1),h.removeEventListener(h,h[i+"touchend"+g],!1),this}}),f.Map.mergeOptions({touchZoom:f.Browser.touch&&!f.Browser.android23}),f.Map.TouchZoom=f.Handler.extend({addHooks:function(){f.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){f.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var h=this._map;if(!l.touches||l.touches.length!==2||h._animatingZoom||this._zooming){return}var k=h.mouseEventToLayerPoint(l.touches[0]),g=h.mouseEventToLayerPoint(l.touches[1]),j=h._getCenterLayerPoint();this._startCenter=k.add(g).divideBy(2,!0),this._startDist=k.distanceTo(g),this._moved=!1,this._zooming=!0,this._centerOffset=j.subtract(this._startCenter),f.DomEvent.on(document,"touchmove",this._onTouchMove,this).on(document,"touchend",this._onTouchEnd,this),f.DomEvent.preventDefault(l)},_onTouchMove:function(k){if(!k.touches||k.touches.length!==2){return}var h=this._map,j=h.mouseEventToLayerPoint(k.touches[0]),g=h.mouseEventToLayerPoint(k.touches[1]);this._scale=j.distanceTo(g)/this._startDist,this._delta=j.add(g).divideBy(2,!0).subtract(this._startCenter);if(this._scale===1){return}this._moved||(f.DomUtil.addClass(h._mapPane,"leaflet-zoom-anim leaflet-touching"),h.fire("movestart").fire("zoomstart")._prepareTileBg(),this._moved=!0),f.Util.cancelAnimFrame(this._animRequest),this._animRequest=f.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),f.DomEvent.preventDefault(k)},_updateOnMove:function(){var i=this._map,g=this._getScaleOrigin(),h=i.layerPointToLatLng(g);i.fire("zoomanim",{center:h,zoom:i.getScaleZoom(this._scale)}),i._tileBg.style[f.DomUtil.TRANSFORM]=f.DomUtil.getTranslateString(this._delta)+" "+f.DomUtil.getScaleString(this._scale,this._startCenter)},_onTouchEnd:function(n){if(!this._moved||!this._zooming){return}var k=this._map;this._zooming=!1,f.DomUtil.removeClass(k._mapPane,"leaflet-touching"),f.DomEvent.off(document,"touchmove",this._onTouchMove).off(document,"touchend",this._onTouchEnd);var m=this._getScaleOrigin(),j=k.layerPointToLatLng(m),l=k.getZoom(),p=k.getScaleZoom(this._scale)-l,h=p>0?Math.ceil(p):Math.floor(p),g=k._limitZoom(l+h);k.fire("zoomanim",{center:j,zoom:g}),k._runAnimation(j,g,k.getZoomScale(g)/this._scale,m,!0)},_getScaleOrigin:function(){var g=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(g)}}),f.Map.addInitHook("addHandler","touchZoom",f.Map.TouchZoom),f.Map.mergeOptions({boxZoom:!0}),f.Map.BoxZoom=f.Handler.extend({initialize:function(g){this._map=g,this._container=g._container,this._pane=g._panes.overlayPane},addHooks:function(){f.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){f.DomEvent.off(this._container,"mousedown",this._onMouseDown)},_onMouseDown:function(g){if(!g.shiftKey||g.which!==1&&g.button!==1){return !1}f.DomUtil.disableTextSelection(),this._startLayerPoint=this._map.mouseEventToLayerPoint(g),this._box=f.DomUtil.create("div","leaflet-zoom-box",this._pane),f.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",f.DomEvent.on(document,"mousemove",this._onMouseMove,this).on(document,"mouseup",this._onMouseUp,this).preventDefault(g),this._map.fire("boxzoomstart")},_onMouseMove:function(l){var h=this._startLayerPoint,k=this._box,g=this._map.mouseEventToLayerPoint(l),j=g.subtract(h),m=new f.Point(Math.min(g.x,h.x),Math.min(g.y,h.y));f.DomUtil.setPosition(k,m),k.style.width=Math.abs(j.x)-4+"px",k.style.height=Math.abs(j.y)-4+"px"},_onMouseUp:function(k){this._pane.removeChild(this._box),this._container.style.cursor="",f.DomUtil.enableTextSelection(),f.DomEvent.off(document,"mousemove",this._onMouseMove).off(document,"mouseup",this._onMouseUp);var h=this._map,j=h.mouseEventToLayerPoint(k),g=new f.LatLngBounds(h.layerPointToLatLng(this._startLayerPoint),h.layerPointToLatLng(j));h.fitBounds(g),h.fire("boxzoomend",{boxZoomBounds:g})}}),f.Map.addInitHook("addHandler","boxZoom",f.Map.BoxZoom),f.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),f.Map.Keyboard=f.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61],zoomOut:[189,109]},initialize:function(g){this._map=g,this._setPanOffset(g.options.keyboardPanOffset),this._setZoomOffset(g.options.keyboardZoomOffset)},addHooks:function(){var g=this._map._container;g.tabIndex===-1&&(g.tabIndex="0"),f.DomEvent.addListener(g,"focus",this._onFocus,this).addListener(g,"blur",this._onBlur,this).addListener(g,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var g=this._map._container;f.DomEvent.removeListener(g,"focus",this._onFocus,this).removeListener(g,"blur",this._onBlur,this).removeListener(g,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){this._focused||this._map._container.focus()},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(k){var h=this._panKeys={},l=this.keyCodes,j,g;for(j=0,g=l.left.length;j<g;j++){h[l.left[j]]=[-1*k,0]}for(j=0,g=l.right.length;j<g;j++){h[l.right[j]]=[k,0]}for(j=0,g=l.down.length;j<g;j++){h[l.down[j]]=[0,k]}for(j=0,g=l.up.length;j<g;j++){h[l.up[j]]=[0,-1*k]}},_setZoomOffset:function(k){var h=this._zoomKeys={},l=this.keyCodes,j,g;for(j=0,g=l.zoomIn.length;j<g;j++){h[l.zoomIn[j]]=k}for(j=0,g=l.zoomOut.length;j<g;j++){h[l.zoomOut[j]]=-k}},_addHooks:function(){f.DomEvent.addListener(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){f.DomEvent.removeListener(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){var g=h.keyCode;if(this._panKeys.hasOwnProperty(g)){this._map.panBy(this._panKeys[g])}else{if(!this._zoomKeys.hasOwnProperty(g)){return}this._map.setZoom(this._map.getZoom()+this._zoomKeys[g])}f.DomEvent.stop(h)}}),f.Map.addInitHook("addHandler","keyboard",f.Map.Keyboard),f.Handler.MarkerDrag=f.Handler.extend({initialize:function(g){this._marker=g},addHooks:function(){var g=this._marker._icon;this._draggable||(this._draggable=(new f.Draggable(g,g)).on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this)),this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(g){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(h){var g=f.DomUtil.getPosition(this._marker._icon);this._marker._shadow&&f.DomUtil.setPosition(this._marker._shadow,g),this._marker._latlng=this._marker._map.layerPointToLatLng(g),this._marker.fire("move").fire("drag")},_onDragEnd:function(){this._marker.fire("moveend").fire("dragend")}}),f.Handler.PolyEdit=f.Handler.extend({options:{icon:new f.DivIcon({iconSize:new f.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"})},initialize:function(h,g){this._poly=h,f.Util.setOptions(this,g)},addHooks:function(){this._poly._map&&(this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){this._poly._map&&(this._poly._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new f.LayerGroup),this._markers=[];var m=this._poly._latlngs,j,l,h,k;for(j=0,h=m.length;j<h;j++){k=this._createMarker(m[j],j),k.on("click",this._onMarkerClick,this),this._markers.push(k)}var n,g;for(j=0,l=h-1;j<h;l=j++){if(j===0&&!(f.Polygon&&this._poly instanceof f.Polygon)){continue}n=this._markers[l],g=this._markers[j],this._createMiddleMarker(n,g),this._updatePrevNext(n,g)}},_createMarker:function(i,g){var h=new f.Marker(i,{draggable:!0,icon:this.options.icon});return h._origLatLng=i,h._index=g,h.on("drag",this._onMarkerDrag,this),h.on("dragend",this._fireEdit,this),this._markerGroup.addLayer(h),h},_fireEdit:function(){this._poly.fire("edit")},_onMarkerDrag:function(h){var g=h.target;f.Util.extend(g._origLatLng,g._latlng),g._middleLeft&&g._middleLeft.setLatLng(this._getMiddleLatLng(g._prev,g)),g._middleRight&&g._middleRight.setLatLng(this._getMiddleLatLng(g,g._next)),this._poly.redraw()},_onMarkerClick:function(h){if(this._poly._latlngs.length<3){return}var g=h.target,i=g._index;g._prev&&g._next&&(this._createMiddleMarker(g._prev,g._next),this._updatePrevNext(g._prev,g._next)),this._markerGroup.removeLayer(g),g._middleLeft&&this._markerGroup.removeLayer(g._middleLeft),g._middleRight&&this._markerGroup.removeLayer(g._middleRight),this._markers.splice(i,1),this._poly.spliceLatLngs(i,1),this._updateIndexes(i,-1),this._poly.fire("edit")},_updateIndexes:function(h,g){this._markerGroup.eachLayer(function(e){e._index>h&&(e._index+=g)})},_createMiddleMarker:function(l,h){var p=this._getMiddleLatLng(l,h),k=this._createMarker(p),g,j,m;k.setOpacity(0.6),l._middleRight=h._middleLeft=k,j=function(){var e=h._index;k._index=e,k.off("click",g).on("click",this._onMarkerClick,this),p.lat=k.getLatLng().lat,p.lng=k.getLatLng().lng,this._poly.spliceLatLngs(e,0,p),this._markers.splice(e,0,k),k.setOpacity(1),this._updateIndexes(e,1),h._index++,this._updatePrevNext(l,k),this._updatePrevNext(k,h)},m=function(){k.off("dragstart",j,this),k.off("dragend",m,this),this._createMiddleMarker(l,k),this._createMiddleMarker(k,h)},g=function(){j.call(this),m.call(this),this._poly.fire("edit")},k.on("click",g,this).on("dragstart",j,this).on("dragend",m,this),this._markerGroup.addLayer(k)},_updatePrevNext:function(h,g){h._next=g,g._prev=h},_getMiddleLatLng:function(k,h){var l=this._poly._map,j=l.latLngToLayerPoint(k.getLatLng()),g=l.latLngToLayerPoint(h.getLatLng());return l.layerPointToLatLng(j._add(g).divideBy(2))}}),f.Control=f.Class.extend({options:{position:"topright"},initialize:function(g){f.Util.setOptions(this,g)},getPosition:function(){return this.options.position},setPosition:function(h){var g=this._map;return g&&g.removeControl(this),this.options.position=h,g&&g.addControl(this),this},addTo:function(k){this._map=k;var h=this._container=this.onAdd(k),j=this.getPosition(),g=k._controlCorners[j];return f.DomUtil.addClass(h,"leaflet-control"),j.indexOf("bottom")!==-1?g.insertBefore(h,g.firstChild):g.appendChild(h),this},removeFrom:function(h){var g=this.getPosition(),i=h._controlCorners[g];return i.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(h),this}}),f.control=function(g){return new f.Control(g)},f.Map.include({addControl:function(g){return g.addTo(this),this},removeControl:function(g){return g.removeFrom(this),this},_initControlPos:function(){function h(e,l){var m=g+e+" "+g+l;k[e+l]=f.DomUtil.create("div",m,j)}var k=this._controlCorners={},g="leaflet-",j=this._controlContainer=f.DomUtil.create("div",g+"control-container",this._container);h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")}}),f.Control.Zoom=f.Control.extend({options:{position:"topleft"},onAdd:function(i){var g="leaflet-control-zoom",h=f.DomUtil.create("div",g);return this._createButton("Zoom in",g+"-in",h,i.zoomIn,i),this._createButton("Zoom out",g+"-out",h,i.zoomOut,i),h},_createButton:function(l,h,k,g,j){var m=f.DomUtil.create("a",h,k);return m.href="#",m.title=l,f.DomEvent.on(m,"click",f.DomEvent.stopPropagation).on(m,"click",f.DomEvent.preventDefault).on(m,"click",g,j).on(m,"dblclick",f.DomEvent.stopPropagation),m}}),f.Map.mergeOptions({zoomControl:!0}),f.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new f.Control.Zoom,this.addControl(this.zoomControl))}),f.control.zoom=function(g){return new f.Control.Zoom(g)},f.Control.Attribution=f.Control.extend({options:{position:"bottomright",prefix:'Powered by <a href="http://leaflet.cloudmade.com">Leaflet</a>'},initialize:function(g){f.Util.setOptions(this,g),this._attributions={}},onAdd:function(g){return this._container=f.DomUtil.create("div","leaflet-control-attribution"),f.DomEvent.disableClickPropagation(this._container),g.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(g){g.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(g){return this.options.prefix=g,this._update(),this},addAttribution:function(g){if(!g){return}return this._attributions[g]||(this._attributions[g]=0),this._attributions[g]++,this._update(),this},removeAttribution:function(g){if(!g){return}return this._attributions[g]--,this._update(),this},_update:function(){if(!this._map){return}var h=[];for(var g in this._attributions){this._attributions.hasOwnProperty(g)&&this._attributions[g]&&h.push(g)}var i=[];this.options.prefix&&i.push(this.options.prefix),h.length&&i.push(h.join(", ")),this._container.innerHTML=i.join(" &#8212; ")},_onLayerAdd:function(g){g.layer.getAttribution&&this.addAttribution(g.layer.getAttribution())},_onLayerRemove:function(g){g.layer.getAttribution&&this.removeAttribution(g.layer.getAttribution())}}),f.Map.mergeOptions({attributionControl:!0}),f.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new f.Control.Attribution).addTo(this))}),f.control.attribution=function(g){return new f.Control.Attribution(g)},f.Control.Scale=f.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(k){this._map=k;var h="leaflet-control-scale",j=f.DomUtil.create("div",h),g=this.options;return this._addScales(g,h,j),k.on(g.updateWhenIdle?"moveend":"move",this._update,this),this._update(),j},onRemove:function(g){g.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,g,h){i.metric&&(this._mScale=f.DomUtil.create("div",g+"-line",h)),i.imperial&&(this._iScale=f.DomUtil.create("div",g+"-line",h))},_update:function(){var l=this._map.getBounds(),h=l.getCenter().lat,p=6378137*Math.PI*Math.cos(h*Math.PI/180),k=p*(l.getNorthEast().lng-l.getSouthWest().lng)/180,g=this._map.getSize(),j=this.options,m=0;g.x>0&&(m=k*(j.maxWidth/g.x)),this._updateScales(j,m)},_updateScales:function(h,g){h.metric&&g&&this._updateMetric(g),h.imperial&&g&&this._updateImperial(g)},_updateMetric:function(h){var g=this._getRoundNum(h);this._mScale.style.width=this._getScaleWidth(g/h)+"px",this._mScale.innerHTML=g<1000?g+" m":g/1000+" km"},_updateImperial:function(l){var h=l*3.2808399,m=this._iScale,k,g,j;h>5280?(k=h/5280,g=this._getRoundNum(k),m.style.width=this._getScaleWidth(g/k)+"px",m.innerHTML=g+" mi"):(j=this._getRoundNum(h),m.style.width=this._getScaleWidth(j/h)+"px",m.innerHTML=j+" ft")},_getScaleWidth:function(g){return Math.round(this.options.maxWidth*g)-10},_getRoundNum:function(h){var g=Math.pow(10,(Math.floor(h)+"").length-1),i=h/g;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,g*i}}),f.control.scale=function(g){return new f.Control.Scale(g)},f.Control.Layers=f.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(k,h,j){f.Util.setOptions(this,j),this._layers={},this._lastZIndex=0;for(var g in k){k.hasOwnProperty(g)&&this._addLayer(k[g],g)}for(g in h){h.hasOwnProperty(g)&&this._addLayer(h[g],g,!0)}},onAdd:function(g){return this._initLayout(),this._update(),this._container},addBaseLayer:function(h,g){return this._addLayer(h,g),this._update(),this},addOverlay:function(h,g){return this._addLayer(h,g,!0),this._update(),this},removeLayer:function(h){var g=f.Util.stamp(h);return delete this._layers[g],this._update(),this},_initLayout:function(){var k="leaflet-control-layers",h=this._container=f.DomUtil.create("div",k);f.Browser.touch?f.DomEvent.on(h,"click",f.DomEvent.stopPropagation):f.DomEvent.disableClickPropagation(h);var j=this._form=f.DomUtil.create("form",k+"-list");if(this.options.collapsed){f.DomEvent.on(h,"mouseover",this._expand,this).on(h,"mouseout",this._collapse,this);var g=this._layersLink=f.DomUtil.create("a",k+"-toggle",h);g.href="#",g.title="Layers",f.Browser.touch?f.DomEvent.on(g,"click",f.DomEvent.stopPropagation).on(g,"click",f.DomEvent.preventDefault).on(g,"click",this._expand,this):f.DomEvent.on(g,"focus",this._expand,this),this._map.on("movestart",this._collapse,this)}else{this._expand()}this._baseLayersList=f.DomUtil.create("div",k+"-base",j),this._separator=f.DomUtil.create("div",k+"-separator",j),this._overlaysList=f.DomUtil.create("div",k+"-overlays",j),h.appendChild(j)},_addLayer:function(k,h,j){var g=f.Util.stamp(k);this._layers[g]={layer:k,name:h,overlay:j},this.options.autoZIndex&&k.setZIndex&&(this._lastZIndex++,k.setZIndex(this._lastZIndex))},_update:function(){if(!this._container){return}this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var i=!1,g=!1;for(var j in this._layers){if(this._layers.hasOwnProperty(j)){var h=this._layers[j];this._addItem(h),g=g||h.overlay,i=i||!h.overlay}}this._separator.style.display=g&&i?"":"none"},_createRadioElement:function(i,g){var j='<input type="radio" name="'+i+'"';g&&(j+=' checked="checked"'),j+="/>";var h=document.createElement("div");return h.innerHTML=j,h.firstChild},_addItem:function(l){var h=document.createElement("label"),k,g=this._map.hasLayer(l.layer);l.overlay?(k=document.createElement("input"),k.type="checkbox",k.defaultChecked=g):k=this._createRadioElement("leaflet-base-layers",g),k.layerId=f.Util.stamp(l.layer),f.DomEvent.on(k,"click",this._onInputClick,this);var j=document.createTextNode(" "+l.name);h.appendChild(k),h.appendChild(j);var m=l.overlay?this._overlaysList:this._baseLayersList;m.appendChild(h)},_onInputClick:function(){var k,h,l,j=this._form.getElementsByTagName("input"),g=j.length;for(k=0;k<g;k++){h=j[k],l=this._layers[h.layerId],h.checked?this._map.addLayer(l.layer,!l.overlay):this._map.removeLayer(l.layer)}},_expand:function(){f.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),f.control.layers=function(i,g,h){return new f.Control.Layers(i,g,h)},f.Transition=f.Class.extend({includes:f.Mixin.Events,statics:{CUSTOM_PROPS_SETTERS:{position:f.DomUtil.setPosition},implemented:function(){return f.Transition.NATIVE||f.Transition.TIMER}},options:{easing:"ease",duration:0.5},_setProperty:function(i,g){var h=f.Transition.CUSTOM_PROPS_SETTERS;i in h?h[i](this._el,g):this._el.style[i]=g}}),f.Transition=f.Transition.extend({statics:function(){var h=f.DomUtil.TRANSITION,g=h==="webkitTransition"||h==="OTransition"?h+"End":"transitionend";return{NATIVE:!!h,TRANSITION:h,PROPERTY:h+"Property",DURATION:h+"Duration",EASING:h+"TimingFunction",END:g,CUSTOM_PROPS_PROPERTIES:{position:f.Browser.any3d?f.DomUtil.TRANSFORM:"top, left"}}}(),options:{fakeStepInterval:100},initialize:function(h,g){this._el=h,f.Util.setOptions(this,g),f.DomEvent.on(h,f.Transition.END,this._onTransitionEnd,this),this._onFakeStep=f.Util.bind(this._onFakeStep,this)},run:function(k){var h,j=[],g=f.Transition.CUSTOM_PROPS_PROPERTIES;for(h in k){k.hasOwnProperty(h)&&(h=g[h]?g[h]:h,h=this._dasherize(h),j.push(h))}this._el.style[f.Transition.DURATION]=this.options.duration+"s",this._el.style[f.Transition.EASING]=this.options.easing,this._el.style[f.Transition.PROPERTY]="all";for(h in k){k.hasOwnProperty(h)&&this._setProperty(h,k[h])}f.Util.falseFn(this._el.offsetWidth),this._inProgress=!0,f.Browser.mobileWebkit&&(this.backupEventFire=setTimeout(f.Util.bind(this._onBackupFireEnd,this),this.options.duration*1.2*1000)),f.Transition.NATIVE?(clearInterval(this._timer),this._timer=setInterval(this._onFakeStep,this.options.fakeStepInterval)):this._onTransitionEnd()},_dasherize:function(){function g(i){return"-"+i.toLowerCase()}var h=/([A-Z])/g;return function(e){return e.replace(h,g)}}(),_onFakeStep:function(){this.fire("step")},_onTransitionEnd:function(g){this._inProgress&&(this._inProgress=!1,clearInterval(this._timer),this._el.style[f.Transition.TRANSITION]="",clearTimeout(this.backupEventFire),delete this.backupEventFire,this.fire("step"),g&&g.type&&this.fire("end"))},_onBackupFireEnd:function(){var g=document.createEvent("Event");g.initEvent(f.Transition.END,!0,!1),this._el.dispatchEvent(g)}}),f.Transition=f.Transition.NATIVE?f.Transition:f.Transition.extend({statics:{getTime:Date.now||function(){return +(new Date)},TIMER:!0,EASINGS:{linear:function(g){return g},"ease-out":function(g){return g*(2-g)}},CUSTOM_PROPS_GETTERS:{position:f.DomUtil.getPosition},UNIT_RE:/^[\d\.]+(\D*)$/},options:{fps:50},initialize:function(h,g){this._el=h,f.Util.extend(this.options,g),this._easing=f.Transition.EASINGS[this.options.easing]||f.Transition.EASINGS["ease-out"],this._step=f.Util.bind(this._step,this),this._interval=Math.round(1000/this.options.fps)},run:function(l){this._props={};var h=f.Transition.CUSTOM_PROPS_GETTERS,k=f.Transition.UNIT_RE;this.fire("start");for(var g in l){if(l.hasOwnProperty(g)){var j={};if(g in h){j.from=h[g](this._el)}else{var m=this._el.style[g].match(k);j.from=parseFloat(m[0]),j.unit=m[1]}j.to=l[g],this._props[g]=j}}clearInterval(this._timer),this._timer=setInterval(this._step,this._interval),this._startTime=f.Transition.getTime()},_step:function(){var i=f.Transition.getTime(),g=i-this._startTime,h=this.options.duration*1000;g<h?this._runFrame(this._easing(g/h)):(this._runFrame(1),this._complete())},_runFrame:function(l){var h=f.Transition.CUSTOM_PROPS_SETTERS,k,g,j;for(k in this._props){this._props.hasOwnProperty(k)&&(g=this._props[k],k in h?(j=g.to.subtract(g.from).multiplyBy(l).add(g.from),h[k](this._el,j)):this._el.style[k]=(g.to-g.from)*l+g.from+g.unit)}this.fire("step")},_complete:function(){clearInterval(this._timer),this.fire("end")}}),f.Map.include(!f.Transition||!f.Transition.implemented()?{}:{setView:function(k,h,l){h=this._limitZoom(h);var j=this._zoom!==h;if(this._loaded&&!l&&this._layers){var g=j?this._zoomToIfClose&&this._zoomToIfClose(k,h):this._panByIfClose(k);if(g){return clearTimeout(this._sizeTimer),this}}return this._resetView(k,h),this},panBy:function(h,g){return h=f.point(h),!h.x&&!h.y?this:(this._panTransition||(this._panTransition=new f.Transition(this._mapPane),this._panTransition.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.Util.setOptions(this._panTransition,f.Util.extend({duration:0.25},g)),this.fire("movestart"),f.DomUtil.addClass(this._mapPane,"leaflet-pan-anim"),this._panTransition.run({position:f.DomUtil.getPosition(this._mapPane).subtract(h)}),this)},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){f.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_panByIfClose:function(h){var g=this._getCenterOffset(h)._floor();return this._offsetIsWithinView(g)?(this.panBy(g),!0):!1},_offsetIsWithinView:function(i,g){var j=g||1,h=this.getSize();return Math.abs(i.x)<=h.x*j&&Math.abs(i.y)<=h.y*j}}),f.Map.mergeOptions({zoomAnimation:f.DomUtil.TRANSITION&&!f.Browser.android23&&!f.Browser.mobileOpera}),f.DomUtil.TRANSITION&&f.Map.addInitHook(function(){f.DomEvent.on(this._mapPane,f.Transition.END,this._catchTransitionEnd,this)}),f.Map.include(f.DomUtil.TRANSITION?{_zoomToIfClose:function(l,h){if(this._animatingZoom){return !0}if(!this.options.zoomAnimation){return !1}var k=this.getZoomScale(h),g=this._getCenterOffset(l).divideBy(1-1/k);if(!this._offsetIsWithinView(g,1)){return !1}f.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this.fire("movestart").fire("zoomstart"),this.fire("zoomanim",{center:l,zoom:h});var j=this._getCenterLayerPoint().add(g);return this._prepareTileBg(),this._runAnimation(l,h,k,j),!0},_catchTransitionEnd:function(g){this._animatingZoom&&this._onZoomTransitionEnd()},_runAnimation:function(l,p,g,j,q){this._animateToCenter=l,this._animateToZoom=p,this._animatingZoom=!0;var h=f.DomUtil.TRANSFORM,n=this._tileBg;clearTimeout(this._clearTileBgTimer),f.Util.falseFn(n.offsetWidth);var m=f.DomUtil.getScaleString(g,j),k=n.style[h];n.style[h]=q?k+" "+m:m+" "+k},_prepareTileBg:function(){var i=this._tilePane,g=this._tileBg;if(g&&this._getLoadedTilesPercentage(g)>0.5&&this._getLoadedTilesPercentage(i)<0.5){i.style.visibility="hidden",i.empty=!0,this._stopLoadingImages(i);return}g||(g=this._tileBg=this._createPane("leaflet-tile-pane",this._mapPane),g.style.zIndex=1),g.style[f.DomUtil.TRANSFORM]="",g.style.visibility="hidden",g.empty=!0,i.empty=!1,this._tilePane=this._panes.tilePane=g;var h=this._tileBg=i;f.DomUtil.addClass(h,"leaflet-zoom-animated"),this._stopLoadingImages(h)},_getLoadedTilesPercentage:function(k){var h=k.getElementsByTagName("img"),l,j,g=0;for(l=0,j=h.length;l<j;l++){h[l].complete&&g++}return g/j},_stopLoadingImages:function(l){var h=Array.prototype.slice.call(l.getElementsByTagName("img")),k,g,j;for(k=0,g=h.length;k<g;k++){j=h[k],j.complete||(j.onload=f.Util.falseFn,j.onerror=f.Util.falseFn,j.src=f.Util.emptyImageUrl,j.parentNode.removeChild(j))}},_onZoomTransitionEnd:function(){this._restoreTileFront(),f.Util.falseFn(this._tileBg.offsetWidth),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),f.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1},_restoreTileFront:function(){this._tilePane.innerHTML="",this._tilePane.style.visibility="",this._tilePane.style.zIndex=2,this._tileBg.style.zIndex=1},_clearTileBg:function(){!this._animatingZoom&&!this.touchZoom._zooming&&(this._tileBg.innerHTML="")}}:{}),f.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:Infinity,timeout:10000,maximumAge:0,enableHighAccuracy:!1},locate:function(i){i=this._locationOptions=f.Util.extend(this._defaultLocateOptions,i);if(!navigator.geolocation){return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this}var g=f.Util.bind(this._handleGeolocationResponse,this),h=f.Util.bind(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,h,i):navigator.geolocation.getCurrentPosition(g,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this},_handleGeolocationError:function(h){var g=h.code,i=h.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locationOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(n){var w=180*n.coords.accuracy/40000000,g=w*2,k=n.coords.latitude,x=n.coords.longitude,h=new f.LatLng(k,x),v=new f.LatLng(k-w,x-g),q=new f.LatLng(k+w,x+g),m=new f.LatLngBounds(v,q),j=this._locationOptions;if(j.setView){var p=Math.min(this.getBoundsZoom(m),j.maxZoom);this.setView(h,p)}this.fire("locationfound",{latlng:h,bounds:m,accuracy:n.coords.accuracy})}})})(this);!function(e,d,f){typeof module!="undefined"?module.exports=f(e,d):typeof define=="function"&&typeof define.amd=="object"?define(f):d[e]=f(e,d)}("bean",this,function(aG,aF){var aE=window,aD=aF[aG],aC=/over|out/,aB=/[^\.]*(?=\..*)\.|.*/,aA=/\..*/,az="addEventListener",ay="attachEvent",ax="removeEventListener",aw="detachEvent",av=document||{},au=av.documentElement||{},at=au[az],ar=at?az:ay,aq=Array.prototype.slice,ap=/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,ao=/mouse.*(wheel|scroll)/i,an=/^text/i,am=/^touch|^gesture/i,al={one:1},ak=function(e,d,f){for(f=0;f<d.length;f++){e[d[f]]=1}return e}({},("click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange error abort scroll "+(at?"show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend message readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ":"")).split(" ")),aj=function(){function d(f,e){while((e=e.parentNode)!==null){if(e===f){return !0}}return !1}function c(a){var e=a.relatedTarget;return e?e!==this&&e.prefix!=="xul"&&!/document/.test(this.toString())&&!d(this,e):e===null}return{mouseenter:{base:"mouseover",condition:c},mouseleave:{base:"mouseout",condition:c},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),ai=function(){var x="altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which".split(" "),w=x.concat("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" ")),v=w.concat("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis".split(" ")),u=x.concat("char charCode key keyCode keyIdentifier keyLocation".split(" ")),t=x.concat(["data"]),s=x.concat("touches targetTouches changedTouches scale rotation".split(" ")),r="preventDefault",q=function(b){return function(){b[r]?b[r]():b.returnValue=!1}},p="stopPropagation",m=function(b){return function(){b[p]?b[p]():b.cancelBubble=!0}},l=function(b){return function(){b[r](),b[p](),b.stopped=!0}},e=function(g,f,k){var j,h;for(j=k.length;j--;){h=k[j],!(h in f)&&h in g&&(f[h]=g[h])}};return function(f,d){var c={originalEvent:f,isNative:d};if(!f){return c}var b,a=f.type,g=f.target||f.srcElement;c[r]=q(f),c[p]=m(f),c.stop=l(c),c.target=g&&g.nodeType===3?g.parentNode:g;if(d){if(a.indexOf("key")!==-1){b=u,c.keyCode=f.which||f.keyCode}else{if(ap.test(a)){b=w,c.rightClick=f.which===3||f.button===2,c.pos={x:0,y:0};if(f.pageX||f.pageY){c.clientX=f.pageX,c.clientY=f.pageY}else{if(f.clientX||f.clientY){c.clientX=f.clientX+av.body.scrollLeft+au.scrollLeft,c.clientY=f.clientY+av.body.scrollTop+au.scrollTop}}aC.test(a)&&(c.relatedTarget=f.relatedTarget||f[(a==="mouseover"?"from":"to")+"Element"])}else{am.test(a)?b=s:ao.test(a)?b=v:an.test(a)&&(b=t)}}e(f,c,b||x)}return c}}(),ah=function(d,c){return !at&&!c&&(d===av||d===aE)?au:d},ag=function(){function b(g,f,k,j,h){this.element=g,this.type=f,this.handler=k,this.original=j,this.namespaces=h,this.custom=aj[f],this.isNative=ak[f]&&g[ar],this.eventType=at||this.isNative?f:"propertychange",this.customType=!at&&!this.isNative&&f,this.target=ah(g,this.isNative),this.eventSupport=this.target[ar]}return b.prototype={inNamespaces:function(e){var d,f;if(!e){return !0}if(!this.namespaces){return !1}for(d=e.length;d--;){for(f=this.namespaces.length;f--;){if(e[d]===this.namespaces[f]){return !0}}}return !1},matches:function(e,d,f){return this.element===e&&(!d||this.original===d)&&(!f||this.handler===f)}},b}(),af=function(){var j={},h=function(w,v,u,t,s){if(!v||v==="*"){for(var r in j){r.charAt(0)==="$"&&h(w,r.substr(1),u,t,s)}}else{var q=0,p,b=j["$"+v],a=w==="*";if(!b){return}for(p=b.length;q<p;q++){if(a||b[q].matches(w,u,t)){if(!s(b[q],b,q,v)){return}}}}},o=function(a,r,q){var p,g=j["$"+r];if(g){for(p=g.length;p--;){if(g[p].matches(a,q,null)){return !0}}}return !1},n=function(b,p,g){var f=[];return h(b,p,g,null,function(c){return f.push(c)}),f},m=function(a){return(j["$"+a.type]||(j["$"+a.type]=[])).push(a),a},l=function(a){h(a.element,a.type,null,a.handler,function(e,g,f){return g.splice(f,1),g.length===0&&delete j["$"+e.type],!1})},k=function(){var a,d=[];for(a in j){a.charAt(0)==="$"&&(d=d.concat(j[a]))}return d};return{has:o,get:n,put:m,del:l,entries:k}}(),ae=at?function(f,e,h,g){f[g?az:ax](e,h,!1)}:function(g,f,k,j,h){h&&j&&g["_on"+h]===null&&(g["_on"+h]=0),g[j?ay:aw]("on"+f,k)},ad=function(e,c,f){return function(a){return a=ai(a||((this.ownerDocument||this.document||this).parentWindow||aE).event,!0),c.apply(e,[a].concat(f))}},ac=function(h,c,m,l,k,j){return function(a){if(l?l.apply(this,arguments):at?!0:a&&a.propertyName==="_on"+m||!a){a&&(a=ai(a||((this.ownerDocument||this.document||this).parentWindow||aE).event,j)),c.apply(h,a&&(!k||k.length===0)?arguments:aq.call(arguments,a?0:1).concat(k))}}},ab=function(g,f,k,j,h){return function(){g(f,k,h),j.apply(this,arguments)}},aa=function(r,q,p,o){var n,m,l,k=q&&q.replace(aA,""),g=af.get(r,k,p);for(n=0,m=g.length;n<m;n++){g[n].inNamespaces(o)&&((l=g[n]).eventSupport&&ae(l.target,l.eventType,l.handler,!1,l.type),af.del(l))}},Z=function(g,f,p,o,n){var m,l=f.replace(aA,""),k=f.replace(aB,"").split(".");if(af.has(g,l,p)){return g}l==="unload"&&(p=ab(aa,g,l,p,o)),aj[l]&&(aj[l].condition&&(p=ac(g,p,l,aj[l].condition,!0)),l=aj[l].base||l),m=af.put(new ag(g,l,p,o,k[0]&&k)),m.handler=m.isNative?ad(g,m.handler,n):ac(g,m.handler,l,!1,n,!1),m.eventSupport&&ae(m.target,m.eventType,m.handler,!0,m.customType)},Y=function(e,d,f){return function(h){var c,b,a=typeof e=="string"?f(e,this):e;for(c=h.target;c&&c!==this;c=c.parentNode){for(b=a.length;b--;){if(a[b]===c){return d.apply(c,arguments)}}}}},X=function(t,s,r){var q,p,o,n,m,g=aa,f=s&&typeof s=="string";if(f&&s.indexOf(" ")>0){s=s.split(" ");for(m=s.length;m--;){X(t,s[m],r)}return t}o=f&&s.replace(aA,""),o&&aj[o]&&(o=aj[o].type);if(!s||f){if(n=f&&s.replace(aB,"")){n=n.split(".")}g(t,o,r,n)}else{if(typeof s=="function"){g(t,null,s)}else{for(q in s){s.hasOwnProperty(q)&&X(t,q,s[q])}}}return t},W=function(v,u,t,s,r){var q,p,o,n,m=t,l=t&&typeof t=="string";if(u&&!t&&typeof u=="object"){for(q in u){u.hasOwnProperty(q)&&W.apply(this,[v,q,u[q]])}}else{n=arguments.length>3?aq.call(arguments,3):[],p=(l?t:u).split(" "),l&&(t=Y(u,m=s,r))&&(n=aq.call(n,1)),this===al&&(t=ab(X,v,u,t,m));for(o=p.length;o--;){Z(v,p[o],t,m,n)}}return v},V=function(){return W.apply(al,arguments)},U=at?function(f,c,h){var g=av.createEvent(f?"HTMLEvents":"UIEvents");g[f?"initEvent":"initUIEvent"](c,!0,!0,aE,1),h.dispatchEvent(g)}:function(e,d,f){f=ah(f,e),e?f.fireEvent("on"+d,av.createEventObject()):f["_on"+d]++},T=function(r,q,p){var o,n,m,l,g,f=q.split(" ");for(o=f.length;o--;){q=f[o].replace(aA,"");if(l=f[o].replace(aB,"")){l=l.split(".")}if(!l&&!p&&r[ar]){U(ak[q],q,r)}else{g=af.get(r,q),p=[!1].concat(p);for(n=0,m=g.length;n<m;n++){g[n].inNamespaces(l)&&g[n].handler.apply(r,p)}}}return r},S=function(h,g,m){var l=0,k=af.get(g,m),j=k.length;for(;l<j;l++){k[l].original&&W(h,k[l].type,k[l].original)}return h},R={add:W,one:V,remove:X,clone:S,fire:T,noConflict:function(){return aF[aG]=aD,this}};if(aE[ay]){var Q=function(){var d,c=af.entries();for(d in c){c[d].type&&c[d].type!=="unload"&&X(c[d].element,c[d].type)}aE[aw]("onunload",Q),aE.CollectGarbage&&aE.CollectGarbage()};aE[ay]("onunload",Q)}return R});var html4={};html4.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10},html4.ATTRIBS={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0},html4.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128},html4.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:4,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,nobr:0,noembed:4,noframes:20,noscript:20,object:16,ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:84,select:0,small:0,span:0,strike:0,strong:0,style:148,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},html4.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},html4.URIEFFECTS={"a::href":2,"area::href":2,"blockquote::cite":0,"body::background":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0},html4.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0},html4.LOADERTYPES={"a::href":2,"area::href":2,"blockquote::cite":2,"body::background":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2};var html=function(aa){function U(b){b=Z(b);if(Y.hasOwnProperty(b)){return Y[b]}var c=b.match(W);return c?String.fromCharCode(parseInt(c[1],10)):(c=b.match(V))?String.fromCharCode(parseInt(c[1],16)):""}function T(d,c){return U(c)}function R(b){return b.replace(S,"")}function P(b){return b.replace(Q,T)}function H(b){return b.replace(O,"&amp;").replace(M,"&lt;").replace(K,"&gt;").replace(J,"&#34;").replace(I,"&#61;")}function G(b){return b.replace(N,"&amp;$1").replace(M,"&lt;").replace(K,"&gt;")}function D(b){return function a(ad,ac){ad=String(ad);var ab=null,z=!1,y=[],x=void 0,w=void 0,v=void 0;b.startDoc&&b.startDoc(ac);while(ad){var u=ad.match(z?F:E);ad=ad.substring(u[0].length);if(z){if(u[1]){var t=Z(u[1]),l;if(u[2]){var j=u[3];switch(j.charCodeAt(0)){case 34:case 39:j=j.substring(1,j.length-1)}l=P(R(j))}else{l=t}y.push(t,l)}else{if(u[4]){w!==void 0&&(v?b.startTag&&b.startTag(x,y,ac):b.endTag&&b.endTag(x,ac));if(v&&w&(aa.eflags.CDATA|aa.eflags.RCDATA)){ab===null?ab=Z(ad):ab=ab.substring(ab.length-ad.length);var c=ab.indexOf("</"+x);c<0&&(c=ad.length),c&&(w&aa.eflags.CDATA?b.cdata&&b.cdata(ad.substring(0,c),ac):b.rcdata&&b.rcdata(G(ad.substring(0,c)),ac),ad=ad.substring(c))}x=w=v=void 0,y.length=0,z=!1}}}else{if(u[1]){b.pcdata&&b.pcdata(u[0],ac)}else{if(u[3]){v=!u[2],z=!0,x=Z(u[3]),w=aa.ELEMENTS.hasOwnProperty(x)?aa.ELEMENTS[x]:void 0}else{if(u[4]){b.pcdata&&b.pcdata(u[4],ac)}else{if(u[5]&&b.pcdata){var ae=u[5];b.pcdata(ae==="<"?"&lt;":ae===">"?"&gt;":"&amp;",ac)}}}}}}b.endDoc&&b.endDoc(ac)}}function C(a){var f,e;return D({startDoc:function(b){f=[],e=!1},startTag:function(q,p,o){if(e){return}if(!aa.ELEMENTS.hasOwnProperty(q)){return}var n=aa.ELEMENTS[q];if(n&aa.eflags.FOLDABLE){return}if(n&aa.eflags.UNSAFE){e=!(n&aa.eflags.EMPTY);return}p=a(q,p);if(p){n&aa.eflags.EMPTY||f.push(q),o.push("<",q);for(var m=0,d=p.length;m<d;m+=2){var c=p[m],b=p[m+1];b!==null&&b!==void 0&&o.push(" ",c,'="',H(b),'"')}o.push(">")}},endTag:function(c,m){if(e){e=!1;return}if(!aa.ELEMENTS.hasOwnProperty(c)){return}var l=aa.ELEMENTS[c];if(!(l&(aa.eflags.UNSAFE|aa.eflags.EMPTY|aa.eflags.FOLDABLE))){var k;if(l&aa.eflags.OPTIONAL_ENDTAG){for(k=f.length;--k>=0;){var j=f[k];if(j===c){break}if(!(aa.ELEMENTS[j]&aa.eflags.OPTIONAL_ENDTAG)){return}}}else{for(k=f.length;--k>=0;){if(f[k]===c){break}}}if(k<0){return}for(var d=f.length;--d>k;){var j=f[d];aa.ELEMENTS[j]&aa.eflags.OPTIONAL_ENDTAG||m.push("</",j,">")}f.length=k,m.push("</",c,">")}},pcdata:function(d,c){e||c.push(d)},rcdata:function(d,c){e||c.push(d)},cdata:function(d,c){e||c.push(d)},endDoc:function(d){for(var c=f.length;--c>=0;){d.push("</",f[c],">")}f.length=0}})}function A(a,k,j){var h=[];return C(function d(c,r){for(var q=0;q<r.length;q+=2){var p=r[q],o=r[q+1],n=null,m;if((m=c+"::"+p,aa.ATTRIBS.hasOwnProperty(m))||(m="*::"+p,aa.ATTRIBS.hasOwnProperty(m))){n=aa.ATTRIBS[m]}if(n!==null){switch(n){case aa.atype.NONE:break;case aa.atype.SCRIPT:case aa.atype.STYLE:o=null;break;case aa.atype.ID:case aa.atype.IDREF:case aa.atype.IDREFS:case aa.atype.GLOBAL_NAME:case aa.atype.LOCAL_NAME:case aa.atype.CLASSES:o=j?j(o):o;break;case aa.atype.URI:var e=(""+o).match(B);e?!e[1]||X.test(e[1])?o=k&&k(o):o=null:o=null;break;case aa.atype.URI_FRAGMENT:o&&"#"===o.charAt(0)?(o=j?j(o):o,o&&(o="#"+o)):o=null;break;default:o=null}}else{o=null}r[q+1]=o}return r})(a,h),h.join("")}var Z;"script"==="SCRIPT".toLowerCase()?Z=function(b){return b.toLowerCase()}:Z=function(b){return b.replace(/[A-Z]/g,function(c){return String.fromCharCode(c.charCodeAt(0)|32)})};var Y={lt:"<",gt:">",amp:"&",nbsp:"",quot:'"',apos:"'"},X=/^(?:https?|mailto|data)$/i,W=/^#(\d+)$/,V=/^#x([0-9A-Fa-f]+)$/,S=/\0/g,Q=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g,O=/&/g,N=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,M=/</g,K=/>/g,J=/\"/g,I=/\=/g,F=new RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*=\\s*(\"[^\"]*\"|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^>\"'\\s]*))?)|(/?>)|[\\s\\S][^a-z\\s>]*)","i"),E=new RegExp("^(?:&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|<!--[\\s\\S]*?-->|<!\\w[^>]*>|<\\?[^>*]*>|<(/)?([a-z][a-z0-9]*)|([^<&>]+)|([<&>]))","i"),B=new RegExp("^(?:([^:/?#]+):)?");return{escapeAttrib:H,makeHtmlSanitizer:C,makeSaxParser:D,normalizeRCData:G,sanitize:A,unescapeEntities:P}}(html4),html_sanitize=html.sanitize;typeof window!="undefined"&&(window.html=html,window.html_sanitize=html_sanitize),html4.ATTRIBS["*::style"]=0,html4.ELEMENTS.style=0,html4.ATTRIBS["a::target"]=0,html4.ELEMENTS.video=0,html4.ATTRIBS["video::src"]=0,html4.ATTRIBS["video::poster"]=0,html4.ATTRIBS["video::controls"]=0,html4.ELEMENTS.audio=0,html4.ATTRIBS["audio::src"]=0,html4.ATTRIBS["video::autoplay"]=0,html4.ATTRIBS["video::controls"]=0;var Mustache=typeof module!="undefined"&&module.exports||{};(function(U){function M(b){return N.test(b)}function G(b){return String(b).replace(/[&<>"'\/]/g,function(c){return H[c]||c})}function F(v,u,t,s){s=s||"<template>";var r=u.split("\n"),q=Math.max(t-3,0),p=Math.min(r.length,t+3),o=r.slice(q,p),n;for(var m=0,l=o.length;m<l;++m){n=m+q+1,o[m]=(n===t?" >> ":"    ")+o[m]}return v.template=u,v.line=t,v.file=s,v.message=[s+":"+t,o.join("\n"),"",v.message].join("\n"),v}function E(v,u,t){if(v==="."){return u[u.length-1]}var s=v.split("."),r=s.length-1,q=s[r],p,o,n=u.length,m,l;while(n){l=u.slice(0),o=u[--n],m=0;while(m<r){o=o[s[m++]];if(o==null){break}l.push(o)}if(o&&typeof o=="object"&&q in o){p=o[q];break}}return typeof p=="function"&&(p=p.call(l[l.length-1])),p==null?t:p}function D(g,f,p,o){var n="",m=E(g,f);if(o){if(m==null||m===!1||P(m)&&m.length===0){n+=p()}}else{if(P(m)){O(m,function(b){f.push(b),n+=p(),f.pop()})}else{if(typeof m=="object"){f.push(m),n+=p(),f.pop()}else{if(typeof m=="function"){var l=f[f.length-1],k=function(b){return x(b,l)};n+=m.call(l,p(),k)||""}else{m&&(n+=p())}}}}return n}function C(aw,av){av=av||{};var au=av.tags||U.tags,at=au[0],ar=au[au.length-1],aq=['var buffer = "";',"\nvar line = 1;","\ntry {",'\nbuffer += "'],ap=[],ao=!1,an=!1,am=function(){if(ao&&!an&&!av.space){while(ap.length){aq.splice(ap.pop(),1)}}else{ap=[]}ao=!1,an=!1},al=[],ak,ai,ag,ae=function(b){au=K(b).split(/\s+/),ai=au[0],ag=au[au.length-1]},ac=function(b){aq.push('";',ak,'\nvar partial = partials["'+K(b)+'"];',"\nif (partial) {","\n  buffer += render(partial,stack[stack.length - 1],partials);","\n}",'\nbuffer += "')},aa=function(b,f){var c=K(b);if(c===""){throw F(new Error("Section name may not be empty"),aw,a,av.file)}al.push({name:c,inverted:f}),aq.push('";',ak,'\nvar name = "'+c+'";',"\nvar callback = (function () {","\n  return function () {",'\n    var buffer = "";','\nbuffer += "')},Y=function(b){aa(b,!0)},W=function(b){var h=K(b),g=al.length!=0&&al[al.length-1].name;if(!g||h!=g){throw F(new Error('Section named "'+h+'" was never opened'),aw,a,av.file)}var c=al.pop();aq.push('";',"\n    return buffer;","\n  };","\n})();"),c.inverted?aq.push("\nbuffer += renderSection(name,stack,callback,true);"):aq.push("\nbuffer += renderSection(name,stack,callback);"),aq.push('\nbuffer += "')},o=function(b){aq.push('";',ak,'\nbuffer += lookup("'+K(b)+'",stack,"");','\nbuffer += "')},j=function(b){aq.push('";',ak,'\nbuffer += escapeHTML(lookup("'+K(b)+'",stack,""));','\nbuffer += "')},a=1,aj,ah;for(var af=0,ad=aw.length;af<ad;++af){if(aw.slice(af,af+at.length)===at){af+=at.length,aj=aw.substr(af,1),ak="\nline = "+a+";",ai=at,ag=ar,ao=!0;switch(aj){case"!":af++,ah=null;break;case"=":af++,ar="="+ar,ah=ae;break;case">":af++,ah=ac;break;case"#":af++,ah=aa;break;case"^":af++,ah=Y;break;case"/":af++,ah=W;break;case"{":ar="}"+ar;case"&":af++,an=!0,ah=o;break;default:an=!0,ah=j}var ab=aw.indexOf(ar,af);if(ab===-1){throw F(new Error('Tag "'+at+'" was not closed properly'),aw,a,av.file)}var Z=aw.substring(af,ab);ah&&ah(Z);var X=0;while(~(X=Z.indexOf("\n",X))){a++,X++}af=ab+ar.length-1,at=ai,ar=ag}else{aj=aw.substr(af,1);switch(aj){case'"':case"\\":an=!0,aq.push("\\"+aj);break;case"\r":break;case"\n":ap.push(aq.length),aq.push("\\n"),am(),a++;break;default:M(aj)?ap.push(aq.length):an=!0,aq.push(aj)}}}if(al.length!=0){throw F(new Error('Section "'+al[al.length-1].name+'" was not closed properly'),aw,a,av.file)}am(),aq.push('";',"\nreturn buffer;","\n} catch (e) { throw {error: e, line: line}; }");var V=aq.join("").replace(/buffer \+= "";\n/g,"");return av.debug&&(typeof console!="undefined"&&console.log?console.log(V):typeof print=="function"&&print(V)),V}function B(g,f){var k="view,partials,stack,lookup,escapeHTML,renderSection,render",j=C(g,f),h=new Function(k,j);return function(l,e){e=e||{};var b=[l];try{return h(l,e,b,E,G,D,x)}catch(a){throw F(a.error,g,a.line,f.file)}}}function z(){A={}}function y(d,c){return c=c||{},c.cache!==!1?(A[d]||(A[d]=B(d,c)),A[d]):B(d,c)}function x(e,d,f){return y(e)(d,f)}U.name="mustache.js",U.version="0.5.0-dev",U.tags=["{{","}}"],U.parse=C,U.compile=y,U.render=x,U.clearCache=z,U.to_html=function(g,f,k,j){var h=x(g,f,k);if(typeof j=="function"){j(h)}else{return h}};var T=Object.prototype.toString,S=Array.isArray,R=Array.prototype.forEach,Q=String.prototype.trim,P;S?P=S:P=function(b){return T.call(b)==="[object Array]"};var O;R?O=function(e,d,f){return R.call(e,d,f)}:O=function(g,f,k){for(var j=0,h=g.length;j<h;++j){f.call(k,g[j],j,g)}};var N=/^\s*$/,K;if(Q){K=function(b){return b==null?"":Q.call(b)}}else{var J,I;M("")?(J=/^\s+/,I=/\s+$/):(J=/^[\s\xA0]+/,I=/[\s\xA0]+$/),K=function(b){return b==null?"":String(b).replace(J,"").replace(I,"")}}var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},A={}})(Mustache),!function(d,c){typeof module!="undefined"?module.exports=c():typeof define=="function"&&define.amd?define(d,c):this[d]=c()}("reqwest",function(){function handleReadyState(a,b,c){return function(){a&&a[readyState]==4&&(twoHundo.test(a.status)?b(a):c(a))}}function setHeaders(a,b){var c=b.headers||{},d;c.Accept=c.Accept||defaultHeaders.accept[b.type]||defaultHeaders.accept["*"],!b.crossOrigin&&!c[requestedWith]&&(c[requestedWith]=defaultHeaders.requestedWith),c[contentType]||(c[contentType]=b.contentType||defaultHeaders.contentType);for(d in c){c.hasOwnProperty(d)&&a.setRequestHeader(d,c[d])}}function generalCallback(a){lastValue=a}function urlappend(a,b){return a+(/\?/.test(a)?"&":"?")+b}function handleJsonp(a,b,c,d){var e=uniqid++,f=a.jsonpCallback||"callback",g=a.jsonpCallbackName||"reqwest_"+e,h=new RegExp("((^|\\?|&)"+f+")=([^&]+)"),i=d.match(h),j=doc.createElement("script"),k=0;i?i[3]==="?"?d=d.replace(h,"$1="+g):g=i[3]:d=urlappend(d,f+"="+g),win[g]=generalCallback,j.type="text/javascript",j.src=d,j.async=!0,typeof j.onreadystatechange!="undefined"&&(j.event="onclick",j.htmlFor=j.id="_reqwest_"+e),j.onload=j.onreadystatechange=function(){if(j[readyState]&&j[readyState]!=="complete"&&j[readyState]!=="loaded"||k){return !1}j.onload=j.onreadystatechange=null,j.onclick&&j.onclick(),a.success&&a.success(lastValue),lastValue=undefined,head.removeChild(j),k=1},head.appendChild(j)}function getRequest(a,b,c){var d=(a.method||"GET").toUpperCase(),e=typeof a=="string"?a:a.url,f=a.processData!==!1&&a.data&&typeof a.data!="string"?reqwest.toQueryString(a.data):a.data||null,g;return(a.type=="jsonp"||d=="GET")&&f&&(e=urlappend(e,f),f=null),a.type=="jsonp"?handleJsonp(a,b,c,e):(g=xhr(),g.open(d,e,!0),setHeaders(g,a),g.onreadystatechange=handleReadyState(g,b,c),a.before&&a.before(g),g.send(f),g)}function Reqwest(a,b){this.o=a,this.fn=b,init.apply(this,arguments)}function setType(a){var b=a.match(/\.(json|jsonp|html|xml)(\?|$)/);return b?b[1]:"js"}function init(o,fn){function complete(a){o.timeout&&clearTimeout(self.timeout),self.timeout=null,o.complete&&o.complete(a)}function success(resp){var r=resp.responseText;if(r){switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r}}fn(resp),o.success&&o.success(resp),complete(resp)}function error(a,b,c){o.error&&o.error(a,b,c),complete(a)}this.url=typeof o=="string"?o:o.url,this.timeout=null;var type=o.type||setType(this.url),self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){self.abort()},o.timeout)),this.request=getRequest(o,success,error)}function reqwest(a,b){return new Reqwest(a,b)}function normalize(a){return a?a.replace(/\r?\n/g,"\r\n"):""}function serial(a,b){var c=a.name,d=a.tagName.toLowerCase(),e=function(a){a&&!a.disabled&&b(c,normalize(a.attributes.value&&a.attributes.value.specified?a.value:a.text))};if(a.disabled||!c){return}switch(d){case"input":if(!/reset|button|image|file/i.test(a.type)){var f=/checkbox/i.test(a.type),g=/radio/i.test(a.type),h=a.value;(!f&&!g||a.checked)&&b(c,normalize(f&&h===""?"on":h))}break;case"textarea":b(c,normalize(a.value));break;case"select":if(a.type.toLowerCase()==="select-one"){e(a.selectedIndex>=0?a.options[a.selectedIndex]:null)}else{for(var i=0;a.length&&i<a.length;i++){a.options[i].selected&&e(a.options[i])}}}}function eachFormElement(){var a=this,b,c,d,e=function(b,c){for(var e=0;e<c.length;e++){var f=b[byTag](c[e]);for(d=0;d<f.length;d++){serial(f[d],a)}}};for(c=0;c<arguments.length;c++){b=arguments[c],/input|select|textarea/i.test(b.tagName)&&serial(b,a),e(b,["input","select","textarea"])}}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var a={};return eachFormElement.apply(function(b,c){b in a?(a[b]&&!isArray(a[b])&&(a[b]=[a[b]]),a[b].push(c)):a[b]=c},arguments),a}var win=window,doc=document,twoHundo=/^20\d$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,lastValue,xmlHttpRequest="XMLHttpRequest",isArray=typeof Array.isArray=="function"?Array.isArray:function(a){return a instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"},requestedWith:xmlHttpRequest},xhr=win[xmlHttpRequest]?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")};return Reqwest.prototype={abort:function(){this.request.abort()},retry:function(){init.call(this,this.o,this.fn)}},reqwest.serializeArray=function(){var a=[];return eachFormElement.apply(function(b,c){a.push({name:b,value:c})},arguments),a},reqwest.serialize=function(){if(arguments.length===0){return""}var a,b,c=Array.prototype.slice.call(arguments,0);return a=c.pop(),a&&a.nodeType&&c.push(a)&&(a=null),a&&(a=a.type),a=="map"?b=serializeHash:a=="array"?b=reqwest.serializeArray:b=serializeQueryString,b.apply(null,c)},reqwest.toQueryString=function(a){var b="",c,d=encodeURIComponent,e=function(a,c){b+=d(a)+"="+d(c)+"&"};if(isArray(a)){for(c=0;a&&c<a.length;c++){e(a[c].name,a[c].value)}}else{for(var f in a){if(!Object.hasOwnProperty.call(a,f)){continue}var g=a[f];if(isArray(g)){for(c=0;c<g.length;c++){e(f,g[c])}}else{e(f,a[f])}}}return b.replace(/&$/,"").replace(/%20/g,"+")},reqwest.compat=function(a,b){return a&&(a.type&&(a.method=a.type)&&delete a.type,a.dataType&&(a.type=a.dataType),a.jsonpCallback&&(a.jsonpCallbackName=a.jsonpCallback)&&delete a.jsonpCallback,a.jsonp&&(a.jsonpCallback=a.jsonp)),new Reqwest(a,b)},reqwest}),wax=wax||{},wax.attribution=function(){function h(b){if(/^(https?:\/\/|data:image)/.test(b)){return b}}function g(b){return b}var f,e={};return e.content=function(a){return typeof a=="undefined"?f.innerHTML:(f.innerHTML=html_sanitize(a,h,g),this)},e.element=function(){return f},e.init=function(){return f=document.createElement("div"),f.className="wax-attribution",this},e.init()},wax=wax||{},wax.bwdetect=function(k,j){function l(){wax.bw=-1;var d=new Image;d.src=o;var c=!0,e=setTimeout(function(){c&&wax.bw==-1&&(q.bw(0),c=!1)},p);d.onload=function(){c&&wax.bw==-1&&(clearTimeout(e),q.bw(1),c=!1)}}var q={},p=k.threshold||400,o="http://a.tiles.mapbox.com/mapbox/1.0.0/blue-marble-topo-bathy-jul/0/0/0.png?preventcache="+ +(new Date),n=1,m=k.auto===undefined?!0:k.auto;return q.bw=function(b){if(!arguments.length){return n}var d=n;wax.bwlisteners&&wax.bwlisteners.length&&function(){listeners=wax.bwlisteners,wax.bwlisteners=[];for(i=0;i<listeners;i++){listeners[i](b)}}(),wax.bw=b,n!=(n=b)&&j(b)},q.add=function(){return m&&l(),this},wax.bw==-1?(wax.bwlisteners=wax.bwlisteners||[],wax.bwlisteners.push(q.bw)):wax.bw!==undefined?q.bw(wax.bw):q.add(),q},wax.formatter=function(x){function urlX(a){if(/^(https?:\/\/|data:image)/.test(a)){return a}}function idX(a){return a}var formatter={},f;if(x&&typeof x=="string"){try{eval("f = "+x)}catch(e){console&&console.log(e)}}else{x&&typeof x=="function"?f=x:f=function(){}}return formatter.format=function(a,b){try{return html_sanitize(f(a,b),urlX,idX)}catch(c){console&&console.log(c)}},formatter},wax.gi=function(h,g){function j(b){return b>=93&&b--,b>=35&&b--,b-=32,b}g=g||{};var m={},l=g.resolution||4,k=g.tileSize||256;return m.grid_tile=function(){return h},m.getKey=function(a,d){if(!h||!h.grid){return}if(d<0||a<0){return}if(Math.floor(d)>=k||Math.floor(a)>=k){return}return j(h.grid[Math.floor(d/l)].charCodeAt(Math.floor(a/l)))},m.gridFeature=function(a,o){var n=this.getKey(a,o),f=h.keys;if(f&&f[n]&&h.data[f[n]]){return h.data[f[n]]}},m.tileFeature=function(a,o,n){if(!h){return}var f=wax.u.offset(n);return feature=this.gridFeature(a-f.left,o-f.top),feature},m},wax.gm=function(){function k(d){return typeof d=="string"&&(d=[d]),function c(a){if(!a){return}var f=new RegExp("/(\\d+)\\/(\\d+)\\/(\\d+)\\.[\\w\\._]+"),e=f.exec(a);if(!e){return}return d[parseInt(e[2],10)%d.length].replace(/\{z\}/g,e[1]).replace(/\{x\}/g,e[2]).replace(/\{y\}/g,e[3])}}var j=4,h={},o={},n,m,l=function(b){return b.replace(/(\.png|\.jpg|\.jpeg)(\d*)/,".grid.json")};return o.formatter=function(b){return arguments.length?(m=wax.formatter(b),o):m},o.template=function(b){return arguments.length?(m=wax.template(b),o):m},o.gridUrl=function(b){return arguments.length?(l=typeof b=="function"?b:k(b),o):l},o.getGrid=function(a,e){var c=l(a);return !m||!c?e(null,null):(wax.request.get(c,function(d,f){if(d){return e(d,null)}e(null,wax.gi(f,{formatter:m,resolution:j}))}),o)},o.tilejson=function(a){return arguments.length?(a.template?o.template(a.template):a.formatter?o.formatter(a.formatter):m=undefined,a.grids&&o.gridUrl(a.grids),a.resolution&&(j=a.resolution),n=a,o):n},o},wax=wax||{},wax.hash=function(t){function s(){return location.hash.substring(1)}function r(d){var c=window.location;c.replace(c.toString().replace(c.hash||/$/,"#"+d))}function n(a){var f=a.split("/");for(var e=0;e<f.length;e++){f[e]=Number(f[e]);if(isNaN(f[e])){return !0}}if(f.length<3){return !0}f.length==3&&t.setCenterZoom(f)}function m(){var a=t.getCenterZoom();q!==a&&(q=a,r(q))}function l(b){if(b===q){return}n(q=b)&&m()}t=t||{};var q,p={},o=90-1e-8,k=wax.u.throttle(m,500);return p.add=function(){return l(s()),t.bindChange(k),this},p.remove=function(){return t.unbindChange(k),this},p.add()},wax=wax||{},wax.interaction=function(){function z(e){var d=H();for(var f=0;f<d.length;f++){if(d[f][0]<e.y&&d[f][0]+256>e.y&&d[f][1]<e.x&&d[f][1]+256>e.x){return d[f][2]}}return !1}function y(){return K?(window.clearTimeout(K),K=null,!0):!1}function x(b){if(M){return}var a=wax.u.eventoffset(b);N.screen_feature(a,function(d){d?bean.fire(N,"on",{parent:E(),data:d,formatter:O.formatter().format,e:b}):bean.fire(N,"off")})}function w(b){if(y()){return}M=!0,J=wax.u.eventoffset(b),b.type==="mousedown"?bean.add(document.body,"click",u):b.type==="touchstart"&&b.touches.length===1&&(bean.fire(N,"off"),bean.add(E(),A))}function v(){bean.remove(E(),A),M=!1}function u(b){var e={},d=wax.u.eventoffset(b);M=!1;for(var c in b){e[c]=b[c]}return bean.remove(document.body,"mouseup",u),bean.remove(E(),A),b.type==="touchend"?N.click(b,J):Math.round(d.y/I)===Math.round(J.y/I)&&Math.round(d.x/I)===Math.round(J.x/I)&&(K=window.setTimeout(function(){K=null,N.click(e,d)},300)),u}var O=wax.gm(),N={},M=!1,K=!1,J,I=4,H,G,F,E,D,C,B={mousemove:x,touchstart:w,mousedown:w},A={touchend:u,touchmove:u,touchcancel:v};return N.click=function(b,a){N.screen_feature(a,function(c){c&&bean.fire(N,"on",{parent:E(),data:c,formatter:O.formatter().format,e:b})})},N.screen_feature=function(a,f){var e=z(a);e||f(null),O.getGrid(e.src,function(b,d){if(b||!d){return f(null)}var c=d.tileFeature(a.x,a.y,e);f(c)})},N.attach=function(b){return arguments.length?(G=b,N):G},N.detach=function(b){return arguments.length?(F=b,N):F},N.map=function(b){return arguments.length?(D=b,G&&G(D),bean.add(E(),B),bean.add(E(),"touchstart",w),N):D},N.grid=function(b){return arguments.length?(H=b,N):H},N.remove=function(b){return F&&F(D),bean.remove(E(),B),bean.fire(N,"remove"),N},N.tilejson=function(a){return arguments.length?(O.tilejson(a),N):O.tilejson()},N.formatter=function(){return O.formatter()},N.on=function(b,d){return bean.add(N,b,d),N},N.off=function(b,d){return bean.remove(N,b,d),N},N.gridmanager=function(a){return arguments.length?(O=a,N):O},N.parent=function(b){return E=b,N},N};var wax=wax||{};wax.legend=function(){function j(b){if(/^(https?:\/\/|data:image)/.test(b)){return b}}function h(b){return b}var g,f={},k;return f.element=function(){return k},f.content=function(a){return arguments.length?(a?(g.innerHTML=html_sanitize(a,j,h),g.style.display="block"):(g.innerHTML="",g.style.display="none"),f):g.innerHTML},f.add=function(){return k=document.createElement("div"),k.className="wax-legends",g=k.appendChild(document.createElement("div")),g.className="wax-legend",g.style.display="none",f},f.add()};var wax=wax||{};wax.location=function(){function c(f){console.log(f);if(f.e.type==="mousemove"||!f.e.type){return}var e=f.formatter({format:"location"},f.data);e&&(window.location.href=e)}var d={};return d.events=function(){return{on:c}},d};var wax=wax||{};wax.movetip={},wax.movetip=function(){function p(d){var c=wax.u.eventoffset(d);t.height+c.y>s.top+s.height&&s.height>t.height&&(c.y-=t.height,r.className+=" flip-y"),t.width+c.x>s.left+s.width&&(c.x-=t.width,r.className+=" flip-x"),r.style.left=c.x+"px",r.style.top=c.y+"px"}function o(d){var c=document.createElement("div");return c.className="wax-tooltip wax-tooltip-0",c.innerHTML=d,c}function n(){r&&(r.parentNode.removeChild(r),r=null)}function m(a){var e;if(v){return}if(a.e.type==="mousemove"||!a.e.type){e=a.formatter({format:"teaser"},a.data);if(!e){return}n(),q.style.cursor="pointer",r=document.body.appendChild(o(e))}else{e=a.formatter({format:"teaser"},a.data);if(!e){return}n();var d=document.body.appendChild(o(e));d.className+=" wax-popup";var c=d.appendChild(document.createElement("a"));c.href="#close",c.className="close",c.innerHTML="Close",v=!0,r=d,t=wax.u.offset(r),s=wax.u.offset(q),p(a.e),bean.add(c,"click touchend",function(f){f.stop(),n(),v=!1})}r&&(t=wax.u.offset(r),s=wax.u.offset(q),p(a.e))}function l(){q.style.cursor="default",v||n()}var v=!1,u={},t,s,r,q;return u.parent=function(b){return arguments.length?(q=b,u):q},u.events=function(){return{on:m,off:l}},u};var wax=wax||{};wax.request={cache:{},locks:{},promises:{},get:function(e,d){if(this.cache[e]){return d(this.cache[e][0],this.cache[e][1])}this.promises[e]=this.promises[e]||[],this.promises[e].push(d);if(this.locks[e]){return}var f=this;this.locks[e]=!0,reqwest({url:e+(~e.indexOf("?")?"&":"?")+"callback=grid",type:"jsonp",jsonpCallback:"callback",success:function(a){f.locks[e]=!1,f.cache[e]=[null,a];for(var c=0;c<f.promises[e].length;c++){f.promises[e][c](f.cache[e][0],f.cache[e][1])}},error:function(a){f.locks[e]=!1,f.cache[e]=[a,null];for(var c=0;c<f.promises[e].length;c++){f.promises[e][c](f.cache[e][0],f.cache[e][1])}}})}},wax.template=function(f){function h(b){if(/^(https?:\/\/|data:image)/.test(b)){return b}}function g(b){return b}var e={};return e.format=function(a,j){var d={};for(var c in j){d[c]=j[c]}return a.format&&(d["__"+a.format+"__"]=!0),html_sanitize(Mustache.to_html(f,d),h,g)},e};if(!wax){var wax={}}wax.tilejson=function(d,c){reqwest({url:d+(~d.indexOf("?")?"&":"?")+"callback=grid",type:"jsonp",jsonpCallback:"callback",success:c,error:c})};var wax=wax||{};wax.tooltip={},wax.tooltip=function(){function q(d){var c=document.createElement("div");return c.className="wax-tooltip wax-tooltip-0",c.innerHTML=d,c}function p(){this.parentNode&&this.parentNode.removeChild(this)}function o(){var b;while(b=u.pop()){w&&s?(bean.add(b,s,p),b.className+=" wax-fade"):b.parentNode&&b.parentNode.removeChild(b)}}function n(a){var g;if(a.e.type==="mousemove"||!a.e.type){if(!x){g=a.content||a.formatter({format:"teaser"},a.data);if(!g||g==t){return}o(),r.style.cursor="pointer",u.push(r.appendChild(q(g))),t=g}}else{g=a.content||a.formatter({format:"full"},a.data);if(!g){a.e.type&&a.e.type.match(/touch/)&&(g=a.content||a.formatter({format:"teaser"},a.data));if(!g){return}}o(),r.style.cursor="pointer";var e=r.appendChild(q(g));e.className+=" wax-popup";var d=e.appendChild(document.createElement("a"));d.href="#close",d.className="close",d.innerHTML="Close",x=!0,u.push(e),bean.add(d,"touchstart mousedown",function(b){b.stop()}),bean.add(d,"click touchend",function(c){c.stop(),o(),x=!1})}}function m(){r.style.cursor="default",t=null,x||o()}var x=!1,w=!1,v={},u=[],t,s,r;return document.body.style["-webkit-transition"]!==undefined?s="webkitTransitionEnd":document.body.style.MozTransition!==undefined&&(s="transitionend"),v.parent=function(b){return arguments.length?(r=b,v):r},v.animate=function(b){return arguments.length?(w=b,v):w},v.events=function(){return{on:n,off:m}},v};var wax=wax||{};wax.u={offset:function(r){var q=r.offsetWidth||parseInt(r.style.width,10),p=r.offsetHeight||parseInt(r.style.height,10),o=document.body,n=0,m=0,l=function(e){if(e===o||e===document.documentElement){return}n+=e.offsetTop,m+=e.offsetLeft;var d=e.style.transform||e.style.WebkitTransform||e.style.OTransform||e.style.MozTransform||e.style.msTransform;if(d){if(match=d.match(/translate\((.+)px, (.+)px\)/)){n+=parseInt(match[2],10),m+=parseInt(match[1],10)}else{if(match=d.match(/translate3d\((.+)px, (.+)px, (.+)px\)/)){n+=parseInt(match[2],10),m+=parseInt(match[1],10)}else{if(match=d.match(/matrix3d\(([\-\d,\s]+)\)/)){var f=match[1].split(",");n+=parseInt(f[13],10),m+=parseInt(f[12],10)}else{if(match=d.match(/matrix\(.+, .+, .+, .+, (.+), (.+)\)/)){n+=parseInt(match[2],10),m+=parseInt(match[1],10)}}}}}};l(r);try{while(r=r.offsetParent){l(r)}}catch(k){}n+=o.offsetTop,m+=o.offsetLeft,n+=o.parentNode.offsetTop,m+=o.parentNode.offsetLeft;var j=document.defaultView?window.getComputedStyle(o.parentNode,null):o.parentNode.currentStyle;return o.parentNode.offsetTop!==parseInt(j.marginTop,10)&&!isNaN(parseInt(j.marginTop,10))&&(n+=parseInt(j.marginTop,10),m+=parseInt(j.marginLeft,10)),{top:n,left:m,height:p,width:q}},$:function(b){return typeof b=="string"?document.getElementById(b):b},indexOf:function(g,f){var k=Array.prototype.indexOf;if(g===null){return -1}var j,h;if(k&&g.indexOf===k){return g.indexOf(f)}for(j=0,h=g.length;j<h;j++){if(g[j]===f){return j}}return -1},eventoffset:function(k){var j=0,q=0;k||(k=window.event);if(k.pageX||k.pageY){return{x:k.pageX,y:k.pageY}}if(k.clientX||k.clientY){var p=document.documentElement,o=document.body,n=document.body.parentNode.currentStyle,m=parseInt(n.marginTop,10)||0,l=parseInt(n.marginLeft,10)||0;return{x:k.clientX+(p&&p.scrollLeft||o&&o.scrollLeft||0)-(p&&p.clientLeft||o&&o.clientLeft||0)+l,y:k.clientY+(p&&p.scrollTop||o&&o.scrollTop||0)-(p&&p.clientTop||o&&o.clientTop||0)+m}}if(k.touches&&k.touches.length===1){return{x:k.touches[0].pageX,y:k.touches[0].pageY}}},limit:function(f,e,h){var g;return function(){var c=this,b=arguments,a=function(){g=null,f.apply(c,b)};h&&clearTimeout(g);if(h||!g){g=setTimeout(a,e)}}},throttle:function(d,c){return this.limit(d,c,!1)}},wax=wax||{},wax.leaf=wax.leaf||{},wax.leaf.hash=function(b){return wax.hash({getCenterZoom:function(){var a=b.getCenter(),f=b.getZoom(),e=Math.max(0,Math.ceil(Math.log(f)/Math.LN2));return[f,a.lat.toFixed(e),a.lng.toFixed(e)].join("/")},setCenterZoom:function(a){b.setView(new L.LatLng(a[1],a[2]),a[0])},bindChange:function(a){b.on("moveend",a)},unbindChange:function(a){b.off("moveend",a)}})},wax=wax||{},wax.leaf=wax.leaf||{},wax.leaf.interaction=function(){function n(){j=!0}function m(){return !j&&h?h:h=function(g){var f=[];for(var r in g){if(g[r]._tiles){for(var q in g[r]._tiles){var p=wax.u.offset(g[r]._tiles[q]);f.push([p.top,p.left,g[r]._tiles[q]])}}}return f}(o._layers)}function l(d){if(!arguments.length){return o}o=d;var c=["moveend"];for(var f=0;f<c.length;f++){o.on(c[f],n)}}function k(d){if(!arguments.length){return o}o=d;var c=["moveend"];for(var f=0;f<c.length;f++){o.off(c[f],n)}}var j=!1,h,o;return wax.interaction().attach(l).detach(k).parent(function(){return o._container}).grid(m)},wax=wax||{},wax.leaf=wax.leaf||{},wax.leaf.legend=function(f,e){e=e||{};var h,g={};return g.add=function(){return h=wax.legend().content(e.legend||""),this},g.content=function(b){b&&h.content(b.legend||"")},g.element=function(){return h.element()},g.appendTo=function(b){return wax.u.$(b).appendChild(h.element()),this},g.add()},wax=wax||{},wax.leaf=wax.leaf||{},wax.leaf.connector=L.TileLayer.extend({initialize:function(b){b=b||{},b.minZoom=b.minzoom||0,b.maxZoom=b.maxzoom||22,L.TileLayer.prototype.initialize.call(this,b.tiles[0],b)}});(function(e,undefined){var t,n,r=typeof undefined,i=e.location,o=e.document,s=o.documentElement,a=e.jQuery,u=e.$,l={},c=[],f="2.0.0",p=c.concat,h=c.push,d=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=f.trim,x=function(e,n){return new x.fn.init(e,n,t)},b=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^-ms-/,N=/-([\da-z])/gi,E=function(e,t){return t.toUpperCase()},S=function(){o.removeEventListener("DOMContentLoaded",S,!1),e.removeEventListener("load",S,!1),x.ready()};x.fn=x.prototype={jquery:f,constructor:x,init:function(e,t,n){var r,i;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:T.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:o,!0)),C.test(r[1])&&x.isPlainObject(t))for(r in t)x.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=o.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?n.ready(e):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return d.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[1]||{},a=2),"object"==typeof s||x.isFunction(s)||(s={}),u===a&&(s=this,--a);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(x.isPlainObject(r)||(i=x.isArray(r)))?(i?(i=!1,o=n&&x.isArray(n)?n:[]):o=n&&x.isPlainObject(n)?n:{},s[t]=x.extend(l,o,r)):r!==undefined&&(s[t]=r));return s},x.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=a),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){(e===!0?--x.readyWait:x.isReady)||(x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(o,[x]),x.fn.trigger&&x(o).trigger("ready").off("ready")))},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&x.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){var t,n=eval;e=x.trim(e),e&&(1===e.indexOf("use strict")?(t=o.createElement("script"),t.text=e,o.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(k,"ms-").replace(N,E)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,s=j(e);if(n){if(s){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(s){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:function(e){return null==e?"":v.call(e)},makeArray:function(e,t){var n=t||[];return null!=e&&(j(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:g.call(t,e,n)},merge:function(e,t){var n=t.length,r=e.length,i=0;if("number"==typeof n)for(;n>i;i++)e[r++]=t[i];else while(t[i]!==undefined)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){var r,i=[],o=0,s=e.length;for(n=!!n;s>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,s=j(e),a=[];if(s)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(a[a.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(a[a.length]=r);return p.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),x.isFunction(e)?(r=d.call(arguments,2),i=function(){return e.apply(t||this,r.concat(d.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):undefined},access:function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===x.type(n)){i=!0;for(a in n)x.access(e,t,a,n[a],!0,o,s)}else if(r!==undefined&&(i=!0,x.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(x(e),n)})),t))for(;u>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o},now:Date.now,swap:function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i}}),x.ready.promise=function(t){return n||(n=x.Deferred(),"complete"===o.readyState?setTimeout(x.ready):(o.addEventListener("DOMContentLoaded",S,!1),e.addEventListener("load",S,!1))),n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function j(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}t=x(o),function(e,undefined){var t,n,r,i,o,s,a,u,l,c,f,p,h,d,g,m,y="sizzle"+-new Date,v=e.document,b={},w=0,T=0,C=ot(),k=ot(),N=ot(),E=!1,S=function(){return 0},j=typeof undefined,D=1<<31,A=[],L=A.pop,q=A.push,H=A.push,O=A.slice,F=A.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=M.replace("w","w#"),$="\\["+R+"*("+M+")"+R+"*(?:([*^$|!~]?=)"+R+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+R+"*\\]",B=":("+M+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",I=RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),z=RegExp("^"+R+"*,"+R+"*"),_=RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),X=RegExp(R+"*[+~]"),U=RegExp("="+R+"*([^\\]'\"]*)"+R+"*\\]","g"),Y=RegExp(B),V=RegExp("^"+W+"$"),G={ID:RegExp("^#("+M+")"),CLASS:RegExp("^\\.("+M+")"),TAG:RegExp("^("+M.replace("w","w*")+")"),ATTR:RegExp("^"+$),PSEUDO:RegExp("^"+B),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),"boolean":RegExp("^(?:"+P+")$","i"),needsContext:RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,et=/'|\\/g,tt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,nt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{H.apply(A=O.call(v.childNodes),v.childNodes),A[v.childNodes.length].nodeType}catch(rt){H={apply:A.length?function(e,t){q.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function it(e){return J.test(e+"")}function ot(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>r.cacheLength&&delete e[t.shift()],e[n]=i}}function st(e){return e[y]=!0,e}function at(e){var t=c.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ut(e,t,n,r){var i,o,s,a,u,f,d,g,x,w;if((t?t.ownerDocument||t:v)!==c&&l(t),t=t||c,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(p&&!r){if(i=Q.exec(e))if(s=i[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&m(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return H.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&b.getElementsByClassName&&t.getElementsByClassName)return H.apply(n,t.getElementsByClassName(s)),n}if(b.qsa&&(!h||!h.test(e))){if(g=d=y,x=t,w=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){f=gt(e),(d=t.getAttribute("id"))?g=d.replace(et,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",u=f.length;while(u--)f[u]=g+mt(f[u]);x=X.test(e)&&t.parentNode||t,w=f.join(",")}if(w)try{return H.apply(n,x.querySelectorAll(w)),n}catch(T){}finally{d||t.removeAttribute("id")}}}return kt(e.replace(I,"$1"),t,n,r)}o=ut.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},l=ut.setDocument=function(e){var t=e?e.ownerDocument||e:v;return t!==c&&9===t.nodeType&&t.documentElement?(c=t,f=t.documentElement,p=!o(t),b.getElementsByTagName=at(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),b.attributes=at(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByClassName=at(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),b.sortDetached=at(function(e){return 1&e.compareDocumentPosition(c.createElement("div"))}),b.getById=at(function(e){return f.appendChild(e).id=y,!t.getElementsByName||!t.getElementsByName(y).length}),b.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==j&&p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(tt,nt);return function(e){return e.getAttribute("id")===t}}):(r.find.ID=function(e,t){if(typeof t.getElementById!==j&&p){var n=t.getElementById(e);return n?n.id===e||typeof n.getAttributeNode!==j&&n.getAttributeNode("id").value===e?[n]:undefined:[]}},r.filter.ID=function(e){var t=e.replace(tt,nt);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=b.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==j?t.getElementsByTagName(e):undefined}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=b.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==j&&p?t.getElementsByClassName(e):undefined},d=[],h=[],(b.qsa=it(t.querySelectorAll))&&(at(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+R+"*(?:value|"+P+")"),e.querySelectorAll(":checked").length||h.push(":checked")}),at(function(e){var t=c.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&h.push("[*^$]="+R+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||h.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),h.push(",.*:")})),(b.matchesSelector=it(g=f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&at(function(e){b.disconnectedMatch=g.call(e,"div"),g.call(e,"[s!='']:x"),d.push("!=",B)}),h=h.length&&RegExp(h.join("|")),d=d.length&&RegExp(d.join("|")),m=it(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},S=f.compareDocumentPosition?function(e,n){if(e===n)return E=!0,0;var r=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return r?1&r||!b.sortDetached&&n.compareDocumentPosition(e)===r?e===t||m(v,e)?-1:n===t||m(v,n)?1:u?F.call(u,e)-F.call(u,n):0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,o=e.parentNode,s=n.parentNode,a=[e],l=[n];if(e===n)return E=!0,0;if(!o||!s)return e===t?-1:n===t?1:o?-1:s?1:u?F.call(u,e)-F.call(u,n):0;if(o===s)return lt(e,n);r=e;while(r=r.parentNode)a.unshift(r);r=n;while(r=r.parentNode)l.unshift(r);while(a[i]===l[i])i++;return i?lt(a[i],l[i]):a[i]===v?-1:l[i]===v?1:0},c):c},ut.matches=function(e,t){return ut(e,null,null,t)},ut.matchesSelector=function(e,t){if((e.ownerDocument||e)!==c&&l(e),t=t.replace(U,"='$1']"),!(!b.matchesSelector||!p||d&&d.test(t)||h&&h.test(t)))try{var n=g.call(e,t);if(n||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return ut(t,c,null,[e]).length>0},ut.contains=function(e,t){return(e.ownerDocument||e)!==c&&l(e),m(e,t)},ut.attr=function(e,t){(e.ownerDocument||e)!==c&&l(e);var n=r.attrHandle[t.toLowerCase()],i=n&&n(e,t,!p);return i===undefined?b.attributes||!p?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null:i},ut.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},ut.uniqueSort=function(e){var t,n=[],r=0,i=0;if(E=!b.detectDuplicates,u=!b.sortStable&&e.slice(0),e.sort(S),E){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return e};function lt(e,t){var n=t&&e,r=n&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ct(e,t,n){var r;return n?undefined:(r=e.getAttributeNode(t))&&r.specified?r.value:e[t]===!0?t.toLowerCase():null}function ft(e,t,n){var r;return n?undefined:r=e.getAttribute(t,"type"===t.toLowerCase()?1:2)}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function dt(e){return st(function(t){return t=+t,st(function(n,r){var i,o=e([],n.length,t),s=o.length;while(s--)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}i=ut.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r];r++)n+=i(t);return n},r=ut.selectors={cacheLength:50,createPseudo:st,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(tt,nt),e[3]=(e[4]||e[5]||"").replace(tt,nt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ut.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ut.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return G.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&Y.test(n)&&(t=gt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(tt,nt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&C(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ut.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,h,d,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),x=!u&&!a;if(m){if(o){while(g){f=t;while(f=f[g])if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=g="only"===e&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&x){c=m[y]||(m[y]={}),l=c[e]||[],h=l[0]===w&&l[1],p=l[0]===w&&l[2],f=h&&m.childNodes[h];while(f=++h&&f&&f[g]||(p=h=0)||d.pop())if(1===f.nodeType&&++p&&f===t){c[e]=[w,h,p];break}}else if(x&&(l=(t[y]||(t[y]={}))[e])&&l[0]===w)p=l[1];else while(f=++h&&f&&f[g]||(p=h=0)||d.pop())if((a?f.nodeName.toLowerCase()===v:1===f.nodeType)&&++p&&(x&&((f[y]||(f[y]={}))[e]=[w,p]),f===t))break;return p-=i,p===r||0===p%r&&p/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ut.error("unsupported pseudo: "+e);return i[y]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?st(function(e,n){var r,o=i(e,t),s=o.length;while(s--)r=F.call(e,o[s]),e[r]=!(n[r]=o[s])}):function(e){return i(e,0,n)}):i}},pseudos:{not:st(function(e){var t=[],n=[],r=s(e.replace(I,"$1"));return r[y]?st(function(e,t,n,i){var o,s=r(e,null,i,[]),a=e.length;while(a--)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:st(function(e){return function(t){return ut(e,t).length>0}}),contains:st(function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:st(function(e){return V.test(e||"")||ut.error("unsupported lang: "+e),e=e.replace(tt,nt).toLowerCase(),function(t){var n;do if(n=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:dt(function(){return[0]}),last:dt(function(e,t){return[t-1]}),eq:dt(function(e,t,n){return[0>n?n+t:n]}),even:dt(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:dt(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:dt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:dt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}};for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=pt(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ht(t);function gt(e,t){var n,i,o,s,a,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);a=e,u=[],l=r.preFilter;while(a){(!n||(i=z.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),n=!1,(i=_.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(I," ")}),a=a.slice(n.length));for(s in r.filter)!(i=G[s].exec(a))||l[s]&&!(i=l[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ut.error(e):k(e,u).slice(0)}function mt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function yt(e,t,r){var i=t.dir,o=r&&"parentNode"===i,s=T++;return t.first?function(t,n,r){while(t=t[i])if(1===t.nodeType||o)return e(t,n,r)}:function(t,r,a){var u,l,c,f=w+" "+s;if(a){while(t=t[i])if((1===t.nodeType||o)&&e(t,r,a))return!0}else while(t=t[i])if(1===t.nodeType||o)if(c=t[y]||(t[y]={}),(l=c[i])&&l[0]===f){if((u=l[1])===!0||u===n)return u===!0}else if(l=c[i]=[f],l[1]=e(t,r,a)||n,l[1]===!0)return!0}}function vt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xt(e,t,n,r,i){var o,s=[],a=0,u=e.length,l=null!=t;for(;u>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a));return s}function bt(e,t,n,r,i,o){return r&&!r[y]&&(r=bt(r)),i&&!i[y]&&(i=bt(i,o)),st(function(o,s,a,u){var l,c,f,p=[],h=[],d=s.length,g=o||Ct(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:xt(g,p,e,a,u),y=n?i||(o?e:d||r)?[]:s:m;if(n&&n(m,y,a,u),r){l=xt(y,h),r(l,[],a,u),c=l.length;while(c--)(f=l[c])&&(y[h[c]]=!(m[h[c]]=f))}if(o){if(i||e){if(i){l=[],c=y.length;while(c--)(f=y[c])&&l.push(m[c]=f);i(null,y=[],l,u)}c=y.length;while(c--)(f=y[c])&&(l=i?F.call(o,f):p[c])>-1&&(o[l]=!(s[l]=f))}}else y=xt(y===s?y.splice(d,y.length):y),i?i(null,s,y,u):H.apply(s,y)})}function wt(e){var t,n,i,o=e.length,s=r.relative[e[0].type],u=s||r.relative[" "],l=s?1:0,c=yt(function(e){return e===t},u,!0),f=yt(function(e){return F.call(t,e)>-1},u,!0),p=[function(e,n,r){return!s&&(r||n!==a)||((t=n).nodeType?c(e,n,r):f(e,n,r))}];for(;o>l;l++)if(n=r.relative[e[l].type])p=[yt(vt(p),n)];else{if(n=r.filter[e[l].type].apply(null,e[l].matches),n[y]){for(i=++l;o>i;i++)if(r.relative[e[i].type])break;return bt(l>1&&vt(p),l>1&&mt(e.slice(0,l-1)).replace(I,"$1"),n,i>l&&wt(e.slice(l,i)),o>i&&wt(e=e.slice(i)),o>i&&mt(e))}p.push(n)}return vt(p)}function Tt(e,t){var i=0,o=t.length>0,s=e.length>0,u=function(u,l,f,p,h){var d,g,m,y=[],v=0,x="0",b=u&&[],T=null!=h,C=a,k=u||s&&r.find.TAG("*",h&&l.parentNode||l),N=w+=null==C?1:Math.random()||.1;for(T&&(a=l!==c&&l,n=i);null!=(d=k[x]);x++){if(s&&d){g=0;while(m=e[g++])if(m(d,l,f)){p.push(d);break}T&&(w=N,n=++i)}o&&((d=!m&&d)&&v--,u&&b.push(d))}if(v+=x,o&&x!==v){g=0;while(m=t[g++])m(b,y,l,f);if(u){if(v>0)while(x--)b[x]||y[x]||(y[x]=L.call(p));y=xt(y)}H.apply(p,y),T&&!u&&y.length>0&&v+t.length>1&&ut.uniqueSort(p)}return T&&(w=N,a=C),b};return o?st(u):u}s=ut.compile=function(e,t){var n,r=[],i=[],o=N[e+" "];if(!o){t||(t=gt(e)),n=t.length;while(n--)o=wt(t[n]),o[y]?r.push(o):i.push(o);o=N(e,Tt(i,r))}return o};function Ct(e,t,n){var r=0,i=t.length;for(;i>r;r++)ut(e,t[r],n);return n}function kt(e,t,n,i){var o,a,u,l,c,f=gt(e);if(!i&&1===f.length){if(a=f[0]=f[0].slice(0),a.length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&p&&r.relative[a[1].type]){if(t=(r.find.ID(u.matches[0].replace(tt,nt),t)||[])[0],!t)return n;e=e.slice(a.shift().value.length)}o=G.needsContext.test(e)?0:a.length;while(o--){if(u=a[o],r.relative[l=u.type])break;if((c=r.find[l])&&(i=c(u.matches[0].replace(tt,nt),X.test(a[0].type)&&t.parentNode||t))){if(a.splice(o,1),e=i.length&&mt(a),!e)return H.apply(n,i),n;break}}}return s(e,f)(i,t,!p,n,X.test(e)),n}r.pseudos.nth=r.pseudos.eq;function Nt(){}Nt.prototype=r.filters=r.pseudos,r.setFilters=new Nt,b.sortStable=y.split("").sort(S).join("")===y,l(),[0,0].sort(S),b.detectDuplicates=E,at(function(e){if(e.innerHTML="<a href='#'></a>","#"!==e.firstChild.getAttribute("href")){var t="type|href|height|width".split("|"),n=t.length;while(n--)r.attrHandle[t[n]]=ft}}),at(function(e){if(null!=e.getAttribute("disabled")){var t=P.split("|"),n=t.length;while(n--)r.attrHandle[t[n]]=ct}}),x.find=ut,x.expr=ut.selectors,x.expr[":"]=x.expr.pseudos,x.unique=ut.uniqueSort,x.text=ut.getText,x.isXMLDoc=ut.isXML,x.contains=ut.contains}(e);var D={};function A(e){var t=D[e]={};return x.each(e.match(w)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e="string"==typeof e?D[e]||A(e):x.extend({},e);var t,n,r,i,o,s,a=[],u=!e.once&&[],l=function(f){for(t=e.memory&&f,n=!0,s=i||0,i=0,o=a.length,r=!0;a&&o>s;s++)if(a[s].apply(f[0],f[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,a&&(u?u.length&&l(u.shift()):t?a=[]:c.disable())},c={add:function(){if(a){var n=a.length;(function s(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==r&&s(n)})})(arguments),r?o=a.length:t&&(i=n,l(t))}return this},remove:function(){return a&&x.each(arguments,function(e,t){var n;while((n=x.inArray(t,a,n))>-1)a.splice(n,1),r&&(o>=n&&o--,s>=n&&s--)}),this},has:function(e){return e?x.inArray(e,a)>-1:!(!a||!a.length)},empty:function(){return a=[],o=0,this},disable:function(){return a=u=t=undefined,this},disabled:function(){return!a},lock:function(){return u=undefined,t||c.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!a||n&&!u||(r?u.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var s=o[0],a=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=d.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),s=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===a?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},a,u,l;if(r>1)for(a=Array(r),u=Array(r),l=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(s(t,l,n)).fail(o.reject).progress(s(t,u,a)):--i;return i||o.resolveWith(l,n),o.promise()}}),x.support=function(t){var n=o.createElement("input"),r=o.createDocumentFragment(),i=o.createElement("div"),s=o.createElement("select"),a=s.appendChild(o.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=a.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!a.disabled,n=o.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===i.style.backgroundClip,x(function(){var n,r,s="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",a=o.getElementsByTagName("body")[0];a&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",x.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===i.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(o.createElement("div")),r.style.cssText=i.style.cssText=s,r.style.marginRight=r.style.width="0",i.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),a.removeChild(n))}),t):t}({});var L,q,H=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,O=/([A-Z])/g;function F(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=x.expando+Math.random()}F.uid=1,F.accepts=function(e){return e.nodeType?1===e.nodeType||9===e.nodeType:!0},F.prototype={key:function(e){if(!F.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=F.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,x.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(x.isEmptyObject(o))this.cache[i]=t;else for(r in t)o[r]=t[r]},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){return t===undefined||t&&"string"==typeof t&&n===undefined?this.get(e,t):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i=this.key(e),o=this.cache[i];if(t===undefined)this.cache[i]={};else{x.isArray(t)?r=t.concat(t.map(x.camelCase)):t in o?r=[t]:(r=x.camelCase(t),r=r in o?[r]:r.match(w)||[]),n=r.length;while(n--)delete o[r[n]]}},hasData:function(e){return!x.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){delete this.cache[this.key(e)]}},L=new F,q=new F,x.extend({acceptData:F.accepts,hasData:function(e){return L.hasData(e)||q.hasData(e)},data:function(e,t,n){return L.access(e,t,n)},removeData:function(e,t){L.remove(e,t)},_data:function(e,t,n){return q.access(e,t,n)},_removeData:function(e,t){q.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,r,i=this[0],o=0,s=null;if(e===undefined){if(this.length&&(s=L.get(i),1===i.nodeType&&!q.get(i,"hasDataAttrs"))){for(n=i.attributes;n.length>o;o++)r=n[o].name,0===r.indexOf("data-")&&(r=x.camelCase(r.substring(5)),P(i,r,s[r]));q.set(i,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){L.set(this,e)}):x.access(this,function(t){var n,r=x.camelCase(e);if(i&&t===undefined){if(n=L.get(i,e),n!==undefined)return n;if(n=L.get(i,r),n!==undefined)return n;if(n=P(i,r,undefined),n!==undefined)return n}else this.each(function(){var n=L.get(this,r);L.set(this,r,t),-1!==e.indexOf("-")&&n!==undefined&&L.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){L.remove(this,e)})}});function P(e,t,n){var r;if(n===undefined&&1===e.nodeType)if(r="data-"+t.replace(O,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:H.test(n)?JSON.parse(n):n}catch(i){}L.set(e,t,n)}else n=undefined;return n}x.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=q.get(e,t),n&&(!r||x.isArray(n)?r=q.access(e,t,x.makeArray(n)):r.push(n)),r||[]):undefined},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),s=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return q.get(e,n)||q.access(e,n,{empty:x.Callbacks("once memory").add(function(){q.remove(e,[t+"queue",n])})})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),n>arguments.length?x.queue(this[0],e):t===undefined?this:this.each(function(){var n=x.queue(this,e,t);
x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=x.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=undefined),e=e||"fx";while(s--)n=q.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var R,M,W=/[\t\r\n]/g,$=/\r/g,B=/^(?:input|select|textarea|button)$/i;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[x.propFix[e]||e]})},addClass:function(e){var t,n,r,i,o,s=0,a=this.length,u="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,s=0,a=this.length,u=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var o,s=0,a=x(this),u=t,l=e.match(w)||[];while(o=l[s++])u=i?u:!a.hasClass(o),a[u?"addClass":"removeClass"](o)}else(n===r||"boolean"===n)&&(this.className&&q.set(this,"__className__",this.className),this.className=this.className||e===!1?"":q.get(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(W," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=x.isFunction(e),this.each(function(n){var i,o=x(this);1===this.nodeType&&(i=r?e.call(this,n,o.val()):e,null==i?i="":"number"==typeof i?i+="":x.isArray(i)&&(i=x.map(i,function(e){return null==e?"":e+""})),t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,i,"value")!==undefined||(this.value=i))});if(i)return t=x.valHooks[i.type]||x.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,"string"==typeof n?n.replace($,""):null==n?"":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;for(;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),s=i.length;while(s--)r=i[s],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,t,n){var i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===r?x.prop(e,t,n):(1===s&&x.isXMLDoc(e)||(t=t.toLowerCase(),i=x.attrHooks[t]||(x.expr.match.boolean.test(t)?M:R)),n===undefined?i&&"get"in i&&null!==(o=i.get(e,t))?o:(o=x.find.attr(e,t),null==o?undefined:o):null!==n?i&&"set"in i&&(o=i.set(e,n,t))!==undefined?o:(e.setAttribute(t,n+""),n):(x.removeAttr(e,t),undefined))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType)while(n=o[i++])r=x.propFix[n]||n,x.expr.match.boolean.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!x.isXMLDoc(e),o&&(t=x.propFix[t]||t,i=x.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||B.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),M={set:function(e,t,n){return t===!1?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.boolean.source.match(/\w+/g),function(e,t){var n=x.expr.attrHandle[t]||x.find.attr;x.expr.attrHandle[t]=function(e,t,r){var i=x.expr.attrHandle[t],o=r?undefined:(x.expr.attrHandle[t]=undefined)!=n(e,t,r)?t.toLowerCase():null;return x.expr.attrHandle[t]=i,o}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,t){return x.isArray(t)?e.checked=x.inArray(x(e).val(),t)>=0:undefined}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var I=/^key/,z=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,X=/^([^.]*)(?:\.(.+)|)$/;function U(){return!0}function Y(){return!1}function V(){try{return o.activeElement}catch(e){}}x.event={global:{},add:function(e,t,n,i,o){var s,a,u,l,c,f,p,h,d,g,m,y=q.get(e);if(y){n.handler&&(s=n,n=s.handler,o=s.selector),n.guid||(n.guid=x.guid++),(l=y.events)||(l=y.events={}),(a=y.handle)||(a=y.handle=function(e){return typeof x===r||e&&x.event.triggered===e.type?undefined:x.event.dispatch.apply(a.elem,arguments)},a.elem=e),t=(t||"").match(w)||[""],c=t.length;while(c--)u=X.exec(t[c])||[],d=m=u[1],g=(u[2]||"").split(".").sort(),d&&(p=x.event.special[d]||{},d=(o?p.delegateType:p.bindType)||d,p=x.event.special[d]||{},f=x.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&x.expr.match.needsContext.test(o),namespace:g.join(".")},s),(h=l[d])||(h=l[d]=[],h.delegateCount=0,p.setup&&p.setup.call(e,i,g,a)!==!1||e.addEventListener&&e.addEventListener(d,a,!1)),p.add&&(p.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,f):h.push(f),x.event.global[d]=!0);e=null}},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,h,d,g,m=q.hasData(e)&&q.get(e);if(m&&(u=m.events)){t=(t||"").match(w)||[""],l=t.length;while(l--)if(a=X.exec(t[l])||[],h=g=a[1],d=(a[2]||"").split(".").sort(),h){f=x.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,p=u[h]||[],a=a[2]&&RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&f.teardown.call(e,d,m.handle)!==!1||x.removeEvent(e,h,m.handle),delete u[h])}else for(h in u)x.event.remove(e,h+t[l],n,r,!0);x.isEmptyObject(u)&&(delete m.handle,q.remove(e,"events"))}},trigger:function(t,n,r,i){var s,a,u,l,c,f,p,h=[r||o],d=y.call(t,"type")?t.type:t,g=y.call(t,"namespace")?t.namespace.split("."):[];if(a=u=r=r||o,3!==r.nodeType&&8!==r.nodeType&&!_.test(d+x.event.triggered)&&(d.indexOf(".")>=0&&(g=d.split("."),d=g.shift(),g.sort()),c=0>d.indexOf(":")&&"on"+d,t=t[x.expando]?t:new x.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=g.join("."),t.namespace_re=t.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=r),n=null==n?[t]:x.makeArray(n,[t]),p=x.event.special[d]||{},i||!p.trigger||p.trigger.apply(r,n)!==!1)){if(!i&&!p.noBubble&&!x.isWindow(r)){for(l=p.delegateType||d,_.test(l+d)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;u===(r.ownerDocument||o)&&h.push(u.defaultView||u.parentWindow||e)}s=0;while((a=h[s++])&&!t.isPropagationStopped())t.type=s>1?l:p.bindType||d,f=(q.get(a,"events")||{})[t.type]&&q.get(a,"handle"),f&&f.apply(a,n),f=c&&a[c],f&&x.acceptData(a)&&f.apply&&f.apply(a,n)===!1&&t.preventDefault();return t.type=d,i||t.isDefaultPrevented()||p._default&&p._default.apply(h.pop(),n)!==!1||!x.acceptData(r)||c&&x.isFunction(r[d])&&!x.isWindow(r)&&(u=r[c],u&&(r[c]=null),x.event.triggered=d,r[d](),x.event.triggered=undefined,u&&(r[c]=u)),t.result}},dispatch:function(e){e=x.event.fix(e);var t,n,r,i,o,s=[],a=d.call(arguments),u=(q.get(this,"events")||{})[e.type]||[],l=x.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),t=0;while((i=s[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((x.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;a>n;n++)o=t[n],i=o.selector+" ",r[i]===undefined&&(r[i]=o.needsContext?x(i,this).index(u)>=0:x.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return t.length>a&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||o,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||s===undefined||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=z.test(i)?this.mouseHooks:I.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return 3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==V()&&this.focus?(this.focus(),!1):undefined},delegateType:"focusin"},blur:{trigger:function(){return this===V()&&this.blur?(this.blur(),!1):undefined},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&x.nodeName(this,"input")?(this.click(),!1):undefined},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},x.Event=function(e,t){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?U:Y):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,undefined):new x.Event(e,t)},x.Event.prototype={isDefaultPrevented:Y,isPropagationStopped:Y,isImmediatePropagationStopped:Y,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=U,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=U,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=U,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=undefined);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=undefined):null==r&&("string"==typeof t?(r=n,n=undefined):(r=n,n=t,t=undefined)),r===!1)r=Y;else if(!r)return this;return 1===i&&(o=r,r=function(e){return x().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=x.guid++)),this.each(function(){x.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,x(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=undefined),n===!1&&(n=Y),this.each(function(){x.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?x.event.trigger(e,t,n,!0):undefined}});var G=/^.[^:#\[\.,]*$/,J=x.expr.match.needsContext,Q={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return t=this,this.pushStack(x(e).filter(function(){for(r=0;i>r;r++)if(x.contains(t[r],this))return!0}));for(n=[],r=0;i>r;r++)x.find(e,this[r],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t=x(e,this),n=t.length;return this.filter(function(){var e=0;for(;n>e;e++)if(x.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(Z(this,e||[],!0))},filter:function(e){return this.pushStack(Z(this,e||[],!1))},is:function(e){return!!e&&("string"==typeof e?J.test(e)?x(e,this.context).index(this[0])>=0:x.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,o=[],s=J.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?g.call(x(e),this[0]):g.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function K(e,t){while((e=e[t])&&1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return K(e,"nextSibling")},prev:function(e){return K(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return x.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(Q[e]||x.unique(i),"p"===e[0]&&i.reverse()),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&x(e).is(n))break;r.push(e)}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function Z(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(G.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return g.call(t,e)>=0!==n})}var et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,tt=/<([\w:]+)/,nt=/<|&#?\w+;/,rt=/<(?:script|style|link)/i,it=/^(?:checkbox|radio)$/i,ot=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^$|\/(?:java|ecma)script/i,at=/^true\/(.*)/,ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,lt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};lt.optgroup=lt.option,lt.tbody=lt.tfoot=lt.colgroup=lt.caption=lt.col=lt.thead,lt.th=lt.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===undefined?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ct(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ct(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(gt(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&ht(gt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(gt(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!rt.test(e)&&!lt[(tt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(et,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(x.cleanData(gt(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=p.apply([],e);var r,i,o,s,a,u,l=0,c=this.length,f=this,h=c-1,d=e[0],g=x.isFunction(d);if(g||!(1>=c||"string"!=typeof d||x.support.checkClone)&&ot.test(d))return this.each(function(r){var i=f.eq(r);g&&(e[0]=d.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(r=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(o=x.map(gt(r,"script"),ft),s=o.length;c>l;l++)a=r,l!==h&&(a=x.clone(a,!0,!0),s&&x.merge(o,gt(a,"script"))),t.call(this[l],a,l);if(s)for(u=o[o.length-1].ownerDocument,x.map(o,pt),l=0;s>l;l++)a=o[l],st.test(a.type||"")&&!q.access(a,"globalEval")&&x.contains(u,a)&&(a.src?x._evalUrl(a.src):x.globalEval(a.textContent.replace(ut,"")))}return this}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=[],i=x(e),o=i.length-1,s=0;for(;o>=s;s++)n=s===o?this:this.clone(!0),x(i[s])[t](n),h.apply(r,n.get());return this.pushStack(r)}}),x.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=x.contains(e.ownerDocument,e);if(!(x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(s=gt(a),o=gt(e),r=0,i=o.length;i>r;r++)mt(o[r],s[r]);if(t)if(n)for(o=o||gt(e),s=s||gt(a),r=0,i=o.length;i>r;r++)dt(o[r],s[r]);else dt(e,a);return s=gt(a,"script"),s.length>0&&ht(s,!u&&gt(e,"script")),a},buildFragment:function(e,t,n,r){var i,o,s,a,u,l,c=0,f=e.length,p=t.createDocumentFragment(),h=[];for(;f>c;c++)if(i=e[c],i||0===i)if("object"===x.type(i))x.merge(h,i.nodeType?[i]:i);else if(nt.test(i)){o=o||p.appendChild(t.createElement("div")),s=(tt.exec(i)||["",""])[1].toLowerCase(),a=lt[s]||lt._default,o.innerHTML=a[1]+i.replace(et,"<$1></$2>")+a[2],l=a[0];while(l--)o=o.firstChild;x.merge(h,o.childNodes),o=p.firstChild,o.textContent=""}else h.push(t.createTextNode(i));p.textContent="",c=0;while(i=h[c++])if((!r||-1===x.inArray(i,r))&&(u=x.contains(i.ownerDocument,i),o=gt(p.appendChild(i),"script"),u&&ht(o),n)){l=0;while(i=o[l++])st.test(i.type||"")&&n.push(i)}return p},cleanData:function(e){var t,n,r,i=e.length,o=0,s=x.event.special;for(;i>o;o++){if(n=e[o],x.acceptData(n)&&(t=q.access(n)))for(r in t.events)s[r]?x.event.remove(n,r):x.removeEvent(n,r,t.handle);L.discard(n),q.discard(n)}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"text",async:!1,global:!1,success:x.globalEval})}});function ct(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ft(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function pt(e){var t=at.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function ht(e,t){var n=e.length,r=0;for(;n>r;r++)q.set(e[r],"globalEval",!t||q.get(t[r],"globalEval"))}function dt(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(q.hasData(e)&&(o=q.access(e),s=x.extend({},o),l=o.events,q.set(t,s),l)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)x.event.add(t,i,l[i][n])}L.hasData(e)&&(a=L.access(e),u=x.extend({},a),L.set(t,u))}}function gt(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&x.nodeName(e,t)?x.merge([e],n):n}function mt(e,t){var n=t.nodeName.toLowerCase();"input"===n&&it.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}x.fn.extend({wrapAll:function(e){var t;return x.isFunction(e)?this.each(function(t){x(this).wrapAll(e.call(this,t))}):(this[0]&&(t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var yt,vt,xt=/^(none|table(?!-c[ea]).+)/,bt=/^margin/,wt=RegExp("^("+b+")(.*)$","i"),Tt=RegExp("^("+b+")(?!px)[a-z%]+$","i"),Ct=RegExp("^([+-])=("+b+")","i"),kt={BODY:"block"},Nt={position:"absolute",visibility:"hidden",display:"block"},Et={letterSpacing:0,fontWeight:400},St=["Top","Right","Bottom","Left"],jt=["Webkit","O","Moz","ms"];function Dt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=jt.length;while(i--)if(t=jt[i]+n,t in e)return t;return r}function At(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function Lt(t){return e.getComputedStyle(t,null)}function qt(e,t){var n,r,i,o=[],s=0,a=e.length;for(;a>s;s++)r=e[s],r.style&&(o[s]=q.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&At(r)&&(o[s]=q.access(r,"olddisplay",Pt(r.nodeName)))):o[s]||(i=At(r),(n&&"none"!==n||!i)&&q.set(r,"olddisplay",i?n:x.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}x.fn.extend({css:function(e,t){return x.access(this,function(e,t,n){var r,i,o={},s=0;if(x.isArray(t)){for(r=Lt(e),i=t.length;i>s;s++)o[t[s]]=x.css(e,t[s],!1,r);return o}return n!==undefined?x.style(e,t,n):x.css(e,t)},e,t,arguments.length>1)},show:function(){return qt(this,!0)},hide:function(){return qt(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:At(this))?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=yt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=x.camelCase(t),u=e.style;return t=x.cssProps[a]||(x.cssProps[a]=Dt(u,a)),s=x.cssHooks[t]||x.cssHooks[a],n===undefined?s&&"get"in s&&(i=s.get(e,!1,r))!==undefined?i:u[t]:(o=typeof n,"string"===o&&(i=Ct.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(x.css(e,t)),o="number"),null==n||"number"===o&&isNaN(n)||("number"!==o||x.cssNumber[a]||(n+="px"),x.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&(n=s.set(e,n,r))===undefined||(u[t]=n)),undefined)}},css:function(e,t,n,r){var i,o,s,a=x.camelCase(t);return t=x.cssProps[a]||(x.cssProps[a]=Dt(e.style,a)),s=x.cssHooks[t]||x.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),i===undefined&&(i=yt(e,t,r)),"normal"===i&&t in Et&&(i=Et[t]),""===n||n?(o=parseFloat(i),n===!0||x.isNumeric(o)?o||0:i):i}}),yt=function(e,t,n){var r,i,o,s=n||Lt(e),a=s?s.getPropertyValue(t)||s[t]:undefined,u=e.style;return s&&(""!==a||x.contains(e.ownerDocument,e)||(a=x.style(e,t)),Tt.test(a)&&bt.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=s.width,u.width=r,u.minWidth=i,u.maxWidth=o)),a};function Ht(e,t,n){var r=wt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ot(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;for(;4>o;o+=2)"margin"===n&&(s+=x.css(e,n+St[o],!0,i)),r?("content"===n&&(s-=x.css(e,"padding"+St[o],!0,i)),"margin"!==n&&(s-=x.css(e,"border"+St[o]+"Width",!0,i))):(s+=x.css(e,"padding"+St[o],!0,i),"padding"!==n&&(s+=x.css(e,"border"+St[o]+"Width",!0,i)));return s}function Ft(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Lt(e),s=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=yt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Tt.test(i))return i;r=s&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+Ot(e,t,n||(s?"border":"content"),r,o)+"px"}function Pt(e){var t=o,n=kt[e];return n||(n=Rt(e,t),"none"!==n&&n||(vt=(vt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(vt[0].contentWindow||vt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=Rt(e,t),vt.detach()),kt[e]=n),n}function Rt(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}x.each(["height","width"],function(e,t){x.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&xt.test(x.css(e,"display"))?x.swap(e,Nt,function(){return Ft(e,t,r)}):Ft(e,t,r):undefined},set:function(e,n,r){var i=r&&Lt(e);return Ht(e,n,r?Ot(e,t,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,t){return t?x.swap(e,{display:"inline-block"},yt,[e,"marginRight"]):undefined}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,t){x.cssHooks[t]={get:function(e,n){return n?(n=yt(e,t),Tt.test(n)?x(e).position()[t]+"px":n):undefined}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+St[r]+t]=o[r]||o[r-2]||o[0];return i}},bt.test(e)||(x.cssHooks[e+t].set=Ht)});var Mt=/%20/g,Wt=/\[\]$/,$t=/\r?\n/g,Bt=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&It.test(this.nodeName)&&!Bt.test(e)&&(this.checked||!it.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace($t,"\r\n")}}):{name:t.name,value:n.replace($t,"\r\n")}}).get()}}),x.param=function(e,t){var n,r=[],i=function(e,t){t=x.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){i(this.name,this.value)});else for(n in e)zt(n,e[n],t,i);return r.join("&").replace(Mt,"+")};function zt(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||Wt.test(e)?r(e,i):zt(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(i in t)zt(e+"["+i+"]",t[i],n,r)}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var _t,Xt,Ut=x.now(),Yt=/\?/,Vt=/#.*$/,Gt=/([?&])_=[^&]*/,Jt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Qt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Kt=/^(?:GET|HEAD)$/,Zt=/^\/\//,en=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,tn=x.fn.load,nn={},rn={},on="*/".concat("*");try{Xt=i.href}catch(sn){Xt=o.createElement("a"),Xt.href="",Xt=Xt.href}_t=en.exec(Xt.toLowerCase())||[];function an(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(w)||[];
if(x.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function un(e,t,n,r){var i={},o=e===rn;function s(a){var u;return i[a]=!0,x.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):undefined:(t.dataTypes.unshift(l),s(l),!1)}),u}return s(t.dataTypes[0])||!i["*"]&&s("*")}function ln(e,t){var n,r,i=x.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&x.extend(!0,e,r),e}x.fn.load=function(e,t,n){if("string"!=typeof e&&tn)return tn.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=e.slice(a),e=e.slice(0,a)),x.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(i="POST"),s.length>0&&x.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?x("<div>").append(x.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Xt,type:"GET",isLocal:Qt.test(_t[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":on,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ln(ln(e,x.ajaxSettings),t):ln(x.ajaxSettings,e)},ajaxPrefilter:an(nn),ajaxTransport:an(rn),ajax:function(e,t){"object"==typeof e&&(t=e,e=undefined),t=t||{};var n,r,i,o,s,a,u,l,c=x.ajaxSetup({},t),f=c.context||c,p=c.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),d=x.Callbacks("once memory"),g=c.statusCode||{},m={},y={},v=0,b="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===v){if(!o){o={};while(t=Jt.exec(i))o[t[1].toLowerCase()]=t[2]}t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===v?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return v||(e=y[n]=y[n]||e,m[e]=t),this},overrideMimeType:function(e){return v||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>v)for(t in e)g[t]=[g[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),k(0,t),this}};if(h.promise(T).complete=d.add,T.success=T.done,T.error=T.fail,c.url=((e||c.url||Xt)+"").replace(Vt,"").replace(Zt,_t[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=x.trim(c.dataType||"*").toLowerCase().match(w)||[""],null==c.crossDomain&&(a=en.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===_t[1]&&a[2]===_t[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(_t[3]||("http:"===_t[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=x.param(c.data,c.traditional)),un(nn,c,t,T),2===v)return T;u=c.global,u&&0===x.active++&&x.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Kt.test(c.type),r=c.url,c.hasContent||(c.data&&(r=c.url+=(Yt.test(r)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=Gt.test(r)?r.replace(Gt,"$1_="+Ut++):r+(Yt.test(r)?"&":"?")+"_="+Ut++)),c.ifModified&&(x.lastModified[r]&&T.setRequestHeader("If-Modified-Since",x.lastModified[r]),x.etag[r]&&T.setRequestHeader("If-None-Match",x.etag[r])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&T.setRequestHeader("Content-Type",c.contentType),T.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+on+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)T.setRequestHeader(l,c.headers[l]);if(c.beforeSend&&(c.beforeSend.call(f,T,c)===!1||2===v))return T.abort();b="abort";for(l in{success:1,error:1,complete:1})T[l](c[l]);if(n=un(rn,c,t,T)){T.readyState=1,u&&p.trigger("ajaxSend",[T,c]),c.async&&c.timeout>0&&(s=setTimeout(function(){T.abort("timeout")},c.timeout));try{v=1,n.send(m,k)}catch(C){if(!(2>v))throw C;k(-1,C)}}else k(-1,"No Transport");function k(e,t,o,a){var l,m,y,b,w,C=t;2!==v&&(v=2,s&&clearTimeout(s),n=undefined,i=a||"",T.readyState=e>0?4:0,l=e>=200&&300>e||304===e,o&&(b=cn(c,T,o)),b=fn(c,b,T,l),l?(c.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(x.lastModified[r]=w),w=T.getResponseHeader("etag"),w&&(x.etag[r]=w)),204===e?C="nocontent":304===e?C="notmodified":(C=b.state,m=b.data,y=b.error,l=!y)):(y=C,(e||!C)&&(C="error",0>e&&(e=0))),T.status=e,T.statusText=(t||C)+"",l?h.resolveWith(f,[m,C,T]):h.rejectWith(f,[T,C,y]),T.statusCode(g),g=undefined,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[T,c,l?m:y]),d.fireWith(f,[T,C]),u&&(p.trigger("ajaxComplete",[T,c]),--x.active||x.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,undefined,t,"script")}}),x.each(["get","post"],function(e,t){x[t]=function(e,n,r,i){return x.isFunction(n)&&(i=i||r,r=n,n=undefined),x.ajax({url:e,type:t,dataType:i,data:n,success:r})}});function cn(e,t,n){var r,i,o,s,a=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):undefined}function fn(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),x.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=x("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),o.head.appendChild(t[0])},abort:function(){n&&n()}}}});var pn=[],hn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=pn.pop()||x.expando+"_"+Ut++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(hn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&hn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=x.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(hn,"$1"+i):t.jsonp!==!1&&(t.url+=(Yt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||x.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,pn.push(i)),s&&x.isFunction(o)&&o(s[0]),s=o=undefined}),"script"):undefined}),x.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var dn=x.ajaxSettings.xhr(),gn={0:200,1223:204},mn=0,yn={};e.ActiveXObject&&x(e).on("unload",function(){for(var e in yn)yn[e]();yn=undefined}),x.support.cors=!!dn&&"withCredentials"in dn,x.support.ajax=dn=!!dn,x.ajaxTransport(function(e){var t;return x.support.cors||dn&&!e.crossDomain?{send:function(n,r){var i,o,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete yn[o],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?r(s.status||404,s.statusText):r(gn[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:undefined,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=yn[o=mn++]=t("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}:undefined});var vn,xn,bn=/^(?:toggle|show|hide)$/,wn=RegExp("^(?:([+-])=|)("+b+")([a-z%]*)$","i"),Tn=/queueHooks$/,Cn=[Dn],kn={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=wn.exec(t),s=i.cur(),a=+s||0,u=1,l=20;if(o){if(n=+o[2],r=o[3]||(x.cssNumber[e]?"":"px"),"px"!==r&&a){a=x.css(i.elem,e,!0)||n||1;do u=u||".5",a/=u,x.style(i.elem,e,a+r);while(u!==(u=i.cur()/s)&&1!==u&&--l)}i.unit=r,i.start=a,i.end=o[1]?a+(o[1]+1)*n:n}return i}]};function Nn(){return setTimeout(function(){vn=undefined}),vn=x.now()}function En(e,t){x.each(t,function(t,n){var r=(kn[t]||[]).concat(kn["*"]),i=0,o=r.length;for(;o>i;i++)if(r[i].call(e,t,n))return})}function Sn(e,t,n){var r,i,o=0,s=Cn.length,a=x.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;var t=vn||Nn(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;for(;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:vn||Nn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(jn(c,l.opts.specialEasing);s>o;o++)if(r=Cn[o].call(l,e,c,l.opts))return r;return En(l,c),x.isFunction(l.opts.start)&&l.opts.start.call(e,l),x.fx.timer(x.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function jn(e,t){var n,r,i,o,s;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=x.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}x.Animation=x.extend(Sn,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],kn[n]=kn[n]||[],kn[n].unshift(t)},prefilter:function(e,t){t?Cn.unshift(e):Cn.push(e)}});function Dn(e,t,n){var r,i,o,s,a,u,l,c,f,p=this,h=e.style,d={},g=[],m=e.nodeType&&At(e);n.queue||(c=x._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,f=c.empty.fire,c.empty.fire=function(){c.unqueued||f()}),c.unqueued++,p.always(function(){p.always(function(){c.unqueued--,x.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),a=q.get(e,"fxshow");for(r in t)if(o=t[r],bn.exec(o)){if(delete t[r],u=u||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||a===undefined||a[r]===undefined)continue;m=!0}g.push(r)}if(s=g.length){a=q.get(e,"fxshow")||q.access(e,"fxshow",{}),"hidden"in a&&(m=a.hidden),u&&(a.hidden=!m),m?x(e).show():p.done(function(){x(e).hide()}),p.done(function(){var t;q.remove(e,"fxshow");for(t in d)x.style(e,t,d[t])});for(r=0;s>r;r++)i=g[r],l=p.createTween(i,m?a[i]:0),d[i]=a[i]||x.style(e,i),i in a||(a[i]=l.start,m&&(l.end=l.start,l.start="width"===i||"height"===i?1:0))}}function An(e,t,n,r,i){return new An.prototype.init(e,t,n,r,i)}x.Tween=An,An.prototype={constructor:An,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=An.propHooks[this.prop];return e&&e.get?e.get(this):An.propHooks._default.get(this)},run:function(e){var t,n=An.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):An.propHooks._default.set(this),this}},An.prototype.init.prototype=An.prototype,An.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},An.propHooks.scrollTop=An.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Ln(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(At).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),s=function(){var t=Sn(this,x.extend({},e),o);s.finish=function(){t.stop(!0)},(i||q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=x.timers,s=q.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&Tn.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=q.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,s=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function Ln(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=St[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}x.each({slideDown:Ln("show"),slideUp:Ln("hide"),slideToggle:Ln("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=An.prototype.init,x.fx.tick=function(){var e,t=x.timers,n=0;for(vn=x.now();t.length>n;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||x.fx.stop(),vn=undefined},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){xn||(xn=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(xn),xn=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===undefined?this:this.each(function(t){x.offset.setOffset(this,e,t)});var t,n,i=this[0],o={top:0,left:0},s=i&&i.ownerDocument;if(s)return t=s.documentElement,x.contains(t,i)?(typeof i.getBoundingClientRect!==r&&(o=i.getBoundingClientRect()),n=qn(s),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o},x.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=x.css(e,"position"),f=x(e),p={};"static"===c&&(e.style.position="relative"),a=f.offset(),o=x.css(e,"top"),u=x.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),x.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):f.css(p)}},x.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===x.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(r=e.offset()),r.top+=x.css(e[0],"borderTopWidth",!0),r.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-x.css(n,"marginTop",!0),left:t.left-r.left-x.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position"))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;x.fn[t]=function(i){return x.access(this,function(t,i,o){var s=qn(t);return o===undefined?s?s[n]:t[i]:(s?s.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o,undefined)},t,i,arguments.length,null)}});function qn(e){return x.isWindow(e)?e:9===e.nodeType&&e.defaultView}x.each({Height:"height",Width:"width"},function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){x.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return x.access(this,function(t,n,r){var i;return x.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?x.css(t,n,s):x.style(t,n,r,s)},t,o?r:undefined,o,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&"object"==typeof module.exports?module.exports=x:"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=x)})(window);(function(){var au=this,af=au._,ak={},ah=Array.prototype,ap=Object.prototype,ag=Function.prototype,aj=ah.push,ae=ah.slice,ay=ah.concat,at=ah.unshift,am=ap.toString,aw=ap.hasOwnProperty,aq=ah.forEach,ai=ah.map,av=ah.reduce,ad=ah.reduceRight,al=ah.filter,ar=ah.every,aa=ah.some,ax=ah.indexOf,ac=ah.lastIndexOf,V=Array.isArray,z=Object.keys,ab=ag.bind,q=function(a){if(a instanceof q){return a}if(!(this instanceof q)){return new q(a)}this._wrapped=a};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=q),exports._=q):au._=q,q.VERSION="1.4.0";var J=q.each=q.forEach=function(f,b,d){if(aq&&f.forEach===aq){f.forEach(b,d)}else{if(f.length===+f.length){for(var a=0,c=f.length;a<c;a++){if(b.call(d,f[a],a,f)===ak){return}}}else{for(var g in f){if(q.has(f,g)&&b.call(d,f[g],g,f)===ak){return}}}}};q.map=q.collect=function(c,a,d){var b=[];return ai&&c.map===ai?c.map(a,d):(J(c,function(h,f,g){b[b.length]=a.call(d,h,f,g)}),b)},q.reduce=q.foldl=q.inject=function(d,b,f,c){var a=arguments.length>2;if(av&&d.reduce===av){return c&&(b=q.bind(b,c)),a?d.reduce(b,f):d.reduce(b)}J(d,function(h,g,i){a?f=b.call(c,f,h,g,i):(f=h,a=!0)});if(!a){throw new TypeError("Reduce of empty array with no initial value")}return f},q.reduceRight=q.foldr=function(f,b,h,d){var a=arguments.length>2;if(ad&&f.reduceRight===ad){return d&&(b=q.bind(b,d)),arguments.length>2?f.reduceRight(b,h):f.reduceRight(b)}var c=f.length;if(c!==+c){var g=q.keys(f);c=g.length}J(f,function(i,e,j){e=g?g[--c]:--c,a?h=b.call(d,h,f[e],e,j):(h=f[e],a=!0)});if(!a){throw new TypeError("Reduce of empty array with no initial value")}return h},q.find=q.detect=function(c,a,d){var b;return X(c,function(h,f,g){if(a.call(d,h,f,g)){return b=h,!0}}),b},q.filter=q.select=function(c,a,d){var b=[];return al&&c.filter===al?c.filter(a,d):(J(c,function(h,f,g){a.call(d,h,f,g)&&(b[b.length]=h)}),b)},q.reject=function(c,a,d){var b=[];return J(c,function(h,f,g){a.call(d,h,f,g)||(b[b.length]=h)}),b},q.every=q.all=function(d,b,c){b||(b=q.identity);var a=!0;return ar&&d.every===ar?d.every(b,c):(J(d,function(g,f,h){if(!(a=a&&b.call(c,g,f,h))){return ak}}),!!a)};var X=q.some=q.any=function(d,b,c){b||(b=q.identity);var a=!1;return aa&&d.some===aa?d.some(b,c):(J(d,function(g,f,h){if(a||(a=b.call(c,g,f,h))){return ak}}),!!a)};q.contains=q.include=function(b,a){var c=!1;return ax&&b.indexOf===ax?b.indexOf(a)!=-1:(c=X(b,function(d){return d===a}),c)},q.invoke=function(b,a){var c=ae.call(arguments,2);return q.map(b,function(d){return(q.isFunction(a)?a:d[a]).apply(d,c)})},q.pluck=function(b,a){return q.map(b,function(c){return c[a]})},q.where=function(b,a){return q.isEmpty(a)?[]:q.filter(b,function(c){for(var d in a){if(a[d]!==c[d]){return !1}}return !0})},q.max=function(c,a,d){if(!a&&q.isArray(c)&&c[0]===+c[0]&&c.length<65535){return Math.max.apply(Math,c)}if(!a&&q.isEmpty(c)){return -Infinity}var b={computed:-Infinity};return J(c,function(h,f,g){var j=a?a.call(d,h,f,g):h;j>=b.computed&&(b={value:h,computed:j})}),b.value},q.min=function(c,a,d){if(!a&&q.isArray(c)&&c[0]===+c[0]&&c.length<65535){return Math.min.apply(Math,c)}if(!a&&q.isEmpty(c)){return Infinity}var b={computed:Infinity};return J(c,function(h,f,g){var j=a?a.call(d,h,f,g):h;j<b.computed&&(b={value:h,computed:j})}),b.value},q.shuffle=function(c){var a,d=0,b=[];return J(c,function(f){a=q.random(d++),b[d-1]=b[a],b[a]=f}),b};var an=function(a){return q.isFunction(a)?a:function(b){return b[a]}};q.sortBy=function(c,a,d){var b=an(a);return q.pluck(q.map(c,function(h,g,f){return{value:h,index:g,criteria:b.call(d,h,g,f)}}).sort(function(h,f){var i=h.criteria,g=f.criteria;if(i!==g){if(i>g||i===void 0){return 1}if(i<g||g===void 0){return -1}}return h.index<f.index?-1:1}),"value")};var Q=function(f,b,g,d){var a={},c=an(b);return J(f,function(h,i){var e=c.call(g,h,i,f);d(a,e,h)}),a};q.groupBy=function(b,a,c){return Q(b,a,c,function(f,d,g){(q.has(f,d)?f[d]:f[d]=[]).push(g)})},q.countBy=function(b,a,c){return Q(b,a,c,function(f,d,g){q.has(f,d)||(f[d]=0),f[d]++})},q.sortedIndex=function(g,c,j,f){j=j==null?q.identity:an(j);var b=j.call(f,c),d=0,h=g.length;while(d<h){var a=d+h>>>1;j.call(f,g[a])<b?d=a+1:h=a}return d},q.toArray=function(a){return a?a.length===+a.length?ae.call(a):q.values(a):[]},q.size=function(a){return a.length===+a.length?a.length:q.keys(a).length},q.first=q.head=q.take=function(b,a,c){return a!=null&&!c?ae.call(b,0,a):b[0]},q.initial=function(b,a,c){return ae.call(b,0,b.length-(a==null||c?1:a))},q.last=function(b,a,c){return a!=null&&!c?ae.call(b,Math.max(b.length-a,0)):b[b.length-1]},q.rest=q.tail=q.drop=function(b,a,c){return ae.call(b,a==null||c?1:a)},q.compact=function(a){return q.filter(a,function(b){return !!b})};var Z=function(b,a,c){return J(b,function(d){q.isArray(d)?a?aj.apply(c,d):Z(d,a,c):c.push(d)}),c};q.flatten=function(b,a){return Z(b,a,[])},q.without=function(a){return q.difference(a,ae.call(arguments,1))},q.uniq=q.unique=function(f,b,h,d){var a=h?q.map(f,h,d):f,c=[],g=[];return J(a,function(i,e){if(b?!e||g[g.length-1]!==i:!q.contains(g,i)){g.push(i),c.push(f[e])}}),c},q.union=function(){return q.uniq(ay.apply(ah,arguments))},q.intersection=function(b){var a=ae.call(arguments,1);return q.filter(q.uniq(b),function(c){return q.every(a,function(d){return q.indexOf(d,c)>=0})})},q.difference=function(b){var a=ay.apply(ah,ae.call(arguments,1));return q.filter(b,function(c){return !q.contains(a,c)})},q.zip=function(){var c=ae.call(arguments),a=q.max(q.pluck(c,"length")),d=new Array(a);for(var b=0;b<a;b++){d[b]=q.pluck(c,""+b)}return d},q.object=function(d,b){var f={};for(var c=0,a=d.length;c<a;c++){b?f[d[c]]=b[c]:f[d[c][0]]=d[c][1]}return f},q.indexOf=function(d,b,f){var c=0,a=d.length;if(f){if(typeof f!="number"){return c=q.sortedIndex(d,b),d[c]===b?c:-1}c=f<0?Math.max(0,a+f):f}if(ax&&d.indexOf===ax){return d.indexOf(b,f)}for(;c<a;c++){if(d[c]===b){return c}}return -1},q.lastIndexOf=function(c,a,d){if(ac&&c.lastIndexOf===ac){return c.lastIndexOf(a,d)}var b=d!=null?d:c.length;while(b--){if(c[b]===a){return b}}return -1},q.range=function(f,b,g){arguments.length<=1&&(b=f||0,f=0),g=arguments[2]||1;var d=Math.max(Math.ceil((b-f)/g),0),a=0,c=new Array(d);while(a<d){c[a++]=f,f+=g}return c};var I=function(){};q.bind=function(b,d){var c,a;if(b.bind===ab&&ab){return ab.apply(b,ae.call(arguments,1))}if(!q.isFunction(b)){throw new TypeError}return a=ae.call(arguments,2),c=function(){if(this instanceof c){I.prototype=b.prototype;var g=new I,f=b.apply(g,a.concat(ae.call(arguments)));return Object(f)===f?f:g}return b.apply(d,a.concat(ae.call(arguments)))}},q.bindAll=function(b){var a=ae.call(arguments,1);return a.length==0&&(a=q.functions(b)),J(a,function(c){b[c]=q.bind(b[c],b)}),b},q.memoize=function(b,a){var c={};return a||(a=q.identity),function(){var d=a.apply(this,arguments);return q.has(c,d)?c[d]:c[d]=b.apply(this,arguments)}},q.delay=function(b,a){var c=ae.call(arguments,2);return setTimeout(function(){return b.apply(null,c)},a)},q.defer=function(a){return q.delay.apply(q,[a,1].concat(ae.call(arguments,1)))},q.throttle=function(g,k){var d,b,f,l,c,j,h=q.debounce(function(){c=l=!1},k);return function(){d=this,b=arguments;var a=function(){f=null,c&&(j=g.apply(d,b)),h()};return f||(f=setTimeout(a,k)),l?c=!0:(l=!0,j=g.apply(d,b)),h(),j}},q.debounce=function(d,b,f){var c,a;return function(){var h=this,i=arguments,g=function(){c=null,f||(a=d.apply(h,i))},e=f&&!c;return clearTimeout(c),c=setTimeout(g,b),e&&(a=d.apply(h,i)),a}},q.once=function(b){var a=!1,c;return function(){return a?c:(a=!0,c=b.apply(this,arguments),b=null,c)}},q.wrap=function(b,a){return function(){var c=[b];return aj.apply(c,arguments),a.apply(this,c)}},q.compose=function(){var a=arguments;return function(){var b=arguments;for(var c=a.length-1;c>=0;c--){b=[a[c].apply(this,b)]}return b[0]}},q.after=function(b,a){return b<=0?a():function(){if(--b<1){return a.apply(this,arguments)}}},q.keys=z||function(b){if(b!==Object(b)){throw new TypeError("Invalid object")}var a=[];for(var c in b){q.has(b,c)&&(a[a.length]=c)}return a},q.values=function(b){var a=[];for(var c in b){q.has(b,c)&&a.push(b[c])}return a},q.pairs=function(b){var a=[];for(var c in b){q.has(b,c)&&a.push([c,b[c]])}return a},q.invert=function(b){var a={};for(var c in b){q.has(b,c)&&(a[b[c]]=c)}return a},q.functions=q.methods=function(b){var a=[];for(var c in b){q.isFunction(b[c])&&a.push(c)}return a.sort()},q.extend=function(a){return J(ae.call(arguments,1),function(b){for(var c in b){a[c]=b[c]}}),a},q.pick=function(b){var a={},c=ay.apply(ah,ae.call(arguments,1));return J(c,function(d){d in b&&(a[d]=b[d])}),a},q.omit=function(c){var b={},d=ay.apply(ah,ae.call(arguments,1));for(var a in c){q.contains(d,a)||(b[a]=c[a])}return b},q.defaults=function(a){return J(ae.call(arguments,1),function(b){for(var c in b){a[c]==null&&(a[c]=b[c])}}),a},q.clone=function(a){return q.isObject(a)?q.isArray(a)?a.slice():q.extend({},a):a},q.tap=function(b,a){return a(b),b};var K=function(k,v,g,b){if(k===v){return k!==0||1/k==1/v}if(k==null||v==null){return k===v}k instanceof q&&(k=k._wrapped),v instanceof q&&(v=v._wrapped);var h=am.call(k);if(h!=am.call(v)){return !1}switch(h){case"[object String]":return k==String(v);case"[object Number]":return k!=+k?v!=+v:k==0?1/k==1/v:k==+v;case"[object Date]":case"[object Boolean]":return +k==+v;case"[object RegExp]":return k.source==v.source&&k.global==v.global&&k.multiline==v.multiline&&k.ignoreCase==v.ignoreCase}if(typeof k!="object"||typeof v!="object"){return !1}var w=g.length;while(w--){if(g[w]==k){return b[w]==v}}g.push(k),b.push(v);var d=0,p=!0;if(h=="[object Array]"){d=k.length,p=d==v.length;if(p){while(d--){if(!(p=K(k[d],v[d],g,b))){break}}}}else{var m=k.constructor,j=v.constructor;if(m!==j&&!(q.isFunction(m)&&m instanceof m&&q.isFunction(j)&&j instanceof j)){return !1}for(var l in k){if(q.has(k,l)){d++;if(!(p=q.has(v,l)&&K(k[l],v[l],g,b))){break}}}if(p){for(l in v){if(q.has(v,l)&&!(d--)){break}}p=!d}}return g.pop(),b.pop(),p};q.isEqual=function(b,a){return K(b,a,[],[])},q.isEmpty=function(b){if(b==null){return !0}if(q.isArray(b)||q.isString(b)){return b.length===0}for(var a in b){if(q.has(b,a)){return !1}}return !0},q.isElement=function(a){return !!a&&a.nodeType===1},q.isArray=V||function(a){return am.call(a)=="[object Array]"},q.isObject=function(a){return a===Object(a)},J(["Arguments","Function","String","Number","Date","RegExp"],function(a){q["is"+a]=function(b){return am.call(b)=="[object "+a+"]"}}),q.isArguments(arguments)||(q.isArguments=function(a){return !!a&&!!q.has(a,"callee")}),typeof/./!="function"&&(q.isFunction=function(a){return typeof a=="function"}),q.isFinite=function(a){return q.isNumber(a)&&isFinite(a)},q.isNaN=function(a){return q.isNumber(a)&&a!=+a},q.isBoolean=function(a){return a===!0||a===!1||am.call(a)=="[object Boolean]"},q.isNull=function(a){return a===null},q.isUndefined=function(a){return a===void 0},q.has=function(b,a){return aw.call(b,a)},q.noConflict=function(){return au._=af,this},q.identity=function(a){return a},q.times=function(c,a,d){for(var b=0;b<c;b++){a.call(d,b)}},q.random=function(b,a){return a==null&&(a=b,b=0),b+(0|Math.random()*(a-b+1))};var az={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};az.unescape=q.invert(az.escape);var W={escape:new RegExp("["+q.keys(az.escape).join("")+"]","g"),unescape:new RegExp("("+q.keys(az.unescape).join("|")+")","g")};q.each(["escape","unescape"],function(a){q[a]=function(b){return b==null?"":(""+b).replace(W[a],function(c){return az[a][c]})}}),q.result=function(b,a){if(b==null){return null}var c=b[a];return q.isFunction(c)?c.call(b):c},q.mixin=function(a){J(q.functions(a),function(b){var c=q[b]=a[b];q.prototype[b]=function(){var d=[this._wrapped];return aj.apply(d,arguments),U.call(this,c.apply(q,d))}})};var G=0;q.uniqueId=function(b){var a=G++;return b?b+a:a},q.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,Y={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},ao=/\\|'|\r|\n|\t|\u2028|\u2029/g;q.template=function(g,k,d){d=q.defaults({},d,q.templateSettings);var b=new RegExp([(d.escape||R).source,(d.interpolate||R).source,(d.evaluate||R).source].join("|")+"|$","g"),f=0,l="__p+='";g.replace(b,function(e,p,i,m,a){l+=g.slice(f,a).replace(ao,function(n){return"\\"+Y[n]}),l+=p?"'+\n((__t=("+p+"))==null?'':_.escape(__t))+\n'":i?"'+\n((__t=("+i+"))==null?'':__t)+\n'":m?"';\n"+m+"\n__p+='":"",f=a+e.length}),l+="';\n",d.variable||(l="with(obj||{}){\n"+l+"}\n"),l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{var c=new Function(d.variable||"obj","_",l)}catch(j){throw j.source=l,j}if(k){return c(k,q)}var h=function(a){return c.call(this,a,q)};return h.source="function("+(d.variable||"obj")+"){\n"+l+"}",h},q.chain=function(a){return q(a).chain()};var U=function(a){return this._chain?q(a).chain():a};q.mixin(q),J(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var a=ah[b];q.prototype[b]=function(){var c=this._wrapped;return a.apply(c,arguments),(b=="shift"||b=="splice")&&c.length===0&&delete c[0],U.call(this,c)}}),J(["concat","join","slice"],function(b){var a=ah[b];q.prototype[b]=function(){return U.call(this,a.apply(this._wrapped,arguments))}}),q.extend(q.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(){var V=this,b=V.Backbone,a=Array.prototype.slice,Q=Array.prototype.splice,Y;Y="undefined"!==typeof exports?exports:V.Backbone={};Y.VERSION="0.9.2";var Z=V._;!Z&&"undefined"!==typeof require&&(Z=require("underscore"));var X=V.jQuery||V.Zepto||V.ender;Y.setDomLibrary=function(f){X=f};Y.noConflict=function(){V.Backbone=b;return this};Y.emulateHTTP=!1;Y.emulateJSON=!1;var R=/\s+/,W=Y.Events={on:function(k,i,r){var p,o,n,m,l;if(!i){return this}k=k.split(R);for(p=this._callbacks||(this._callbacks={});o=k.shift();){n=(l=p[o])?l.tail:{},n.next=m={},n.context=r,n.callback=i,p[o]={tail:m,next:l?l.next:n}}return this},off:function(r,p,o){var n,m,k,l,i,f;if(m=this._callbacks){if(!r&&!p&&!o){return delete this._callbacks,this}for(r=r?r.split(R):Z.keys(m);n=r.shift();){if(k=m[n],delete m[n],k&&(p||o)){for(l=k.tail;(k=k.next)!==l;){if(i=k.callback,f=k.context,p&&i!==p||o&&f!==o){this.on(n,i,f)}}}}return this}},trigger:function(k){var i,p,o,n,m,l;if(!(o=this._callbacks)){return this}m=o.all;k=k.split(R);for(l=a.call(arguments,1);i=k.shift();){if(p=o[i]){for(n=p.tail;(p=p.next)!==n;){p.callback.apply(p.context||this,l)}}if(p=m){n=p.tail;for(i=[i].concat(l);(p=p.next)!==n;){p.callback.apply(p.context||this,i)}}}return this}};W.bind=W.on;W.unbind=W.off;var S=Y.Model=function(g,f){var i;g||(g={});f&&f.parse&&(g=this.parse(g));if(i=T(this,"defaults")){g=Z.extend({},i,g)}f&&f.collection&&(this.collection=f.collection);this.attributes={};this._escapedAttributes={};this.cid=Z.uniqueId("c");this.changed={};this._silent={};this._pending={};this.set(g,{silent:!0});this.changed={};this._silent={};this._pending={};this._previousAttributes=Z.clone(this.attributes);this.initialize.apply(this,arguments)};Z.extend(S.prototype,W,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return Z.clone(this.attributes)},get:function(f){return this.attributes[f]},escape:function(g){var f;if(f=this._escapedAttributes[g]){return f}f=this.get(g);return this._escapedAttributes[g]=Z.escape(null==f?"":""+f)},has:function(f){return null!=this.get(f)},set:function(i,f,p){var o,n;Z.isObject(i)||null==i?(o=i,p=f):(o={},o[i]=f);p||(p={});if(!o){return this}o instanceof S&&(o=o.attributes);if(p.unset){for(n in o){o[n]=void 0}}if(!this._validate(o,p)){return !1}this.idAttribute in o&&(this.id=o[this.idAttribute]);var f=p.changes={},l=this.attributes,m=this._escapedAttributes,k=this._previousAttributes||{};for(n in o){i=o[n];if(!Z.isEqual(l[n],i)||p.unset&&Z.has(l,n)){delete m[n],(p.silent?this._silent:f)[n]=!0}p.unset?delete l[n]:l[n]=i;!Z.isEqual(k[n],i)||Z.has(l,n)!=Z.has(k,n)?(this.changed[n]=i,p.silent||(this._pending[n]=!0)):(delete this.changed[n],delete this._pending[n])}p.silent||this.change(p);return this},unset:function(g,f){(f||(f={})).unset=!0;return this.set(g,null,f)},clear:function(f){(f||(f={})).unset=!0;return this.set(Z.clone(this.attributes),f)},fetch:function(g){var g=g?Z.clone(g):{},f=this,i=g.success;g.success=function(m,l,k){if(!f.set(f.parse(m,k),g)){return !1}i&&i(f,m)};g.error=Y.wrapError(g.error,f,g);return(this.sync||Y.sync).call(this,"read",this,g)},save:function(g,f,o){var n,m;Z.isObject(g)||null==g?(n=g,o=f):(n={},n[g]=f);o=o?Z.clone(o):{};if(o.wait){if(!this._validate(n,o)){return !1}m=Z.clone(this.attributes)}g=Z.extend({},o,{silent:!0});if(n&&!this.set(n,o.wait?g:o)){return !1}var l=this,k=o.success;o.success=function(p,i,r){i=l.parse(p,r);if(o.wait){delete o.wait;i=Z.extend(n||{},i)}if(!l.set(i,o)){return false}k?k(l,p):l.trigger("sync",l,p,o)};o.error=Y.wrapError(o.error,l,o);f=this.isNew()?"create":"update";f=(this.sync||Y.sync).call(this,f,this,o);o.wait&&this.set(m,g);return f},destroy:function(g){var g=g?Z.clone(g):{},f=this,l=g.success,k=function(){f.trigger("destroy",f,f.collection,g)};if(this.isNew()){return k(),!1}g.success=function(m){g.wait&&k();l?l(f,m):f.trigger("sync",f,m,g)};g.error=Y.wrapError(g.error,f,g);var i=(this.sync||Y.sync).call(this,"delete",this,g);g.wait||k();return i},url:function(){var f=T(this,"urlRoot")||T(this.collection,"url")||J();return this.isNew()?f:f+("/"==f.charAt(f.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(f){return f},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(g){g||(g={});var f=this._changing;this._changing=!0;for(var k in this._silent){this._pending[k]=!0}var i=Z.extend({},g.changes,this._silent);this._silent={};for(k in i){this.trigger("change:"+k,this,this.get(k),g)}if(f){return this}for(;!Z.isEmpty(this._pending);){this._pending={};this.trigger("change",this,g);for(k in this.changed){!this._pending[k]&&!this._silent[k]&&delete this.changed[k]}this._previousAttributes=Z.clone(this.attributes)}this._changing=!1;return this},hasChanged:function(f){return !arguments.length?!Z.isEmpty(this.changed):Z.has(this.changed,f)},changedAttributes:function(g){if(!g){return this.hasChanged()?Z.clone(this.changed):!1}var f,l=!1,k=this._previousAttributes,i;for(i in g){if(!Z.isEqual(k[i],f=g[i])){(l||(l={}))[i]=f}}return l},previous:function(f){return !arguments.length||!this._previousAttributes?null:this._previousAttributes[f]},previousAttributes:function(){return Z.clone(this._previousAttributes)},isValid:function(){return !this.validate(this.attributes)},_validate:function(g,f){if(f.silent||!this.validate){return !0}var g=Z.extend({},this.attributes,g),i=this.validate(g,f);if(!i){return !0}f&&f.error?f.error(this,i,f):this.trigger("error",this,i,f);return !1}});var O=Y.Collection=function(g,f){f||(f={});f.model&&(this.model=f.model);f.comparator&&(this.comparator=f.comparator);this._reset();this.initialize.apply(this,arguments);g&&this.reset(g,{silent:!0,parse:f.parse})};Z.extend(O.prototype,W,{model:S,initialize:function(){},toJSON:function(f){return this.map(function(g){return g.toJSON(f)})},add:function(v,u){var t,s,r,p,o,n={},m={},f=[];u||(u={});v=Z.isArray(v)?v.slice():[v];t=0;for(s=v.length;t<s;t++){if(!(r=v[t]=this._prepareModel(v[t],u))){throw Error("Can't add an invalid model to a collection")}p=r.cid;o=r.id;n[p]||this._byCid[p]||null!=o&&(m[o]||this._byId[o])?f.push(t):n[p]=m[o]=r}for(t=f.length;t--;){v.splice(f[t],1)}t=0;for(s=v.length;t<s;t++){(r=v[t]).on("all",this._onModelEvent,this),this._byCid[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)}this.length+=s;Q.apply(this.models,[null!=u.at?u.at:this.models.length,0].concat(v));this.comparator&&this.sort({silent:!0});if(u.silent){return this}t=0;for(s=this.models.length;t<s;t++){if(n[(r=this.models[t]).cid]){u.index=t,r.trigger("add",r,this,u)}}return this},remove:function(i,f){var n,m,l,k;f||(f={});i=Z.isArray(i)?i.slice():[i];n=0;for(m=i.length;n<m;n++){if(k=this.getByCid(i[n])||this.get(i[n])){delete this._byId[k.id],delete this._byCid[k.cid],l=this.indexOf(k),this.models.splice(l,1),this.length--,f.silent||(f.index=l,k.trigger("remove",k,this,f)),this._removeReference(k)}}return this},push:function(g,f){g=this._prepareModel(g,f);this.add(g,f);return g},pop:function(g){var f=this.at(this.length-1);this.remove(f,g);return f},unshift:function(g,f){g=this._prepareModel(g,f);this.add(g,Z.extend({at:0},f));return g},shift:function(g){var f=this.at(0);this.remove(f,g);return f},get:function(f){return null==f?void 0:this._byId[null!=f.id?f.id:f]},getByCid:function(f){return f&&this._byCid[f.cid||f]},at:function(f){return this.models[f]},where:function(f){return Z.isEmpty(f)?[]:this.filter(function(g){for(var i in f){if(f[i]!==g.get(i)){return !1}}return !0})},sort:function(g){g||(g={});if(!this.comparator){throw Error("Cannot sort a set without a comparator")}var f=Z.bind(this.comparator,this);1==this.comparator.length?this.models=this.sortBy(f):this.models.sort(f);g.silent||this.trigger("reset",this,g);return this},pluck:function(f){return Z.map(this.models,function(g){return g.get(f)})},reset:function(g,f){g||(g=[]);f||(f={});for(var k=0,i=this.models.length;k<i;k++){this._removeReference(this.models[k])}this._reset();this.add(g,Z.extend({silent:!0},f));f.silent||this.trigger("reset",this,f);return this},fetch:function(g){g=g?Z.clone(g):{};void 0===g.parse&&(g.parse=!0);var f=this,i=g.success;g.success=function(m,l,k){f[g.add?"add":"reset"](f.parse(m,k),g);i&&i(f,m)};g.error=Y.wrapError(g.error,f,g);return(this.sync||Y.sync).call(this,"read",this,g)},create:function(g,f){var k=this,f=f?Z.clone(f):{},g=this._prepareModel(g,f);if(!g){return !1}f.wait||k.add(g,f);var i=f.success;f.success=function(m,l){f.wait&&k.add(m,f);i?i(m,l):m.trigger("sync",g,l,f)};g.save(null,f);return g},parse:function(f){return f},chain:function(){return Z(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(g,f){f||(f={});g instanceof S?g.collection||(g.collection=this):(f.collection=this,g=new this.model(g,f),g._validate(g.attributes,f)||(g=!1));return g},_removeReference:function(f){this==f.collection&&delete f.collection;f.off("all",this._onModelEvent,this)},_onModelEvent:function(g,f,k,i){("add"==g||"remove"==g)&&k!=this||("destroy"==g&&this.remove(f,i),f&&g==="change:"+f.idAttribute&&(delete this._byId[f.previous(f.idAttribute)],this._byId[f.id]=f),this.trigger.apply(this,arguments))}});Z.each("forEach,each,map,reduce,reduceRight,find,detect,filter,select,reject,every,all,some,any,include,contains,invoke,max,min,sortBy,sortedIndex,toArray,size,first,initial,rest,last,without,indexOf,shuffle,lastIndexOf,isEmpty,groupBy".split(","),function(f){O.prototype[f]=function(){return Z[f].apply(Z,[this.models].concat(Z.toArray(arguments)))}});var I=Y.Router=function(f){f||(f={});f.routes&&(this.routes=f.routes);this._bindRoutes();this.initialize.apply(this,arguments)},P=/:\w+/g,N=/\*\w+/g,M=/[-[\]{}()+?.,\\^$|#\s]/g;Z.extend(I.prototype,W,{initialize:function(){},route:function(g,f,i){Y.history||(Y.history=new U);Z.isRegExp(g)||(g=this._routeToRegExp(g));i||(i=this[f]);Y.history.route(g,Z.bind(function(k){k=this._extractParameters(g,k);i&&i.apply(this,k);this.trigger.apply(this,["route:"+f].concat(k));Y.history.trigger("route",this,f,k)},this));return this},navigate:function(g,f){Y.history.navigate(g,f)},_bindRoutes:function(){if(this.routes){var g=[],f;for(f in this.routes){g.unshift([f,this.routes[f]])}f=0;for(var i=g.length;f<i;f++){this.route(g[f][0],g[f][1],this[g[f][1]])}}},_routeToRegExp:function(f){f=f.replace(M,"\\$&").replace(P,"([^/]+)").replace(N,"(.*?)");return RegExp("^"+f+"$")},_extractParameters:function(g,f){return g.exec(f).slice(1)}});var U=Y.History=function(){this.handlers=[];Z.bindAll(this,"checkUrl")},L=/^[#\/]/,K=/msie [\w.]+/;U.started=!1;Z.extend(U.prototype,W,{interval:50,getHash:function(f){return(f=(f?f.location:window.location).href.match(/#(.*)$/))?f[1]:""},getFragment:function(g,f){if(null==g){if(this._hasPushState||f){var g=window.location.pathname,i=window.location.search;i&&(g+=i)}else{g=this.getHash()}}g.indexOf(this.options.root)||(g=g.substr(this.options.root.length));return g.replace(L,"")},start:function(g){if(U.started){throw Error("Backbone.history has already been started")}U.started=!0;this.options=Z.extend({},{root:"/"},this.options,g);this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);var g=this.getFragment(),f=document.documentMode;if(f=K.exec(navigator.userAgent.toLowerCase())&&(!f||7>=f)){this.iframe=X('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(g)}this._hasPushState?X(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange" in window&&!f?X(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=g;g=window.location;f=g.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!f){return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0}this._wantsPushState&&this._hasPushState&&f&&g.hash&&(this.fragment=this.getHash().replace(L,""),window.history.replaceState({},document.title,g.protocol+"//"+g.host+this.options.root+this.fragment));if(!this.options.silent){return this.loadUrl()}},stop:function(){X(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);U.started=!1},route:function(g,f){this.handlers.unshift({route:g,callback:f})},checkUrl:function(){var f=this.getFragment();f==this.fragment&&this.iframe&&(f=this.getFragment(this.getHash(this.iframe)));if(f==this.fragment){return !1}this.iframe&&this.navigate(f);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(g){var f=this.fragment=this.getFragment(g);return Z.any(this.handlers,function(i){if(i.route.test(f)){return i.callback(f),!0}})},navigate:function(g,f){if(!U.started){return !1}if(!f||!0===f){f={trigger:f}}var i=(g||"").replace(L,"");this.fragment!=i&&(this._hasPushState?(0!=i.indexOf(this.options.root)&&(i=this.options.root+i),this.fragment=i,window.history[f.replace?"replaceState":"pushState"]({},document.title,i)):this._wantsHashChange?(this.fragment=i,this._updateHash(window.location,i,f.replace),this.iframe&&i!=this.getFragment(this.getHash(this.iframe))&&(f.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,i,f.replace))):window.location.assign(this.options.root+g),f.trigger&&this.loadUrl(g))},_updateHash:function(g,f,i){i?g.replace(g.toString().replace(/(javascript:|#).*$/,"")+"#"+f):g.hash=f}});var j=Y.View=function(f){this.cid=Z.uniqueId("view");this._configure(f||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},q=/^(\S+)\s*(.*)$/,e="model,collection,el,id,attributes,className,tagName".split(",");Z.extend(j.prototype,W,{tagName:"div",$:function(f){return this.$el.find(f)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(g,f,i){g=document.createElement(g);f&&X(g).attr(f);i&&X(g).html(i);return g},setElement:function(g,f){this.$el&&this.undelegateEvents();this.$el=g instanceof X?g:X(g);this.el=this.$el[0];!1!==f&&this.delegateEvents();return this},delegateEvents:function(g){if(g||(g=T(this,"events"))){this.undelegateEvents();for(var f in g){var l=g[f];Z.isFunction(l)||(l=this[g[f]]);if(!l){throw Error('Method "'+g[f]+'" does not exist')}var k=f.match(q),i=k[1],k=k[2],l=Z.bind(l,this),i=i+(".delegateEvents"+this.cid);""===k?this.$el.bind(i,l):this.$el.delegate(k,i,l)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(g){this.options&&(g=Z.extend({},this.options,g));for(var f=0,k=e.length;f<k;f++){var i=e[f];g[i]&&(this[i]=g[i])}this.options=g},_ensureElement:function(){if(this.el){this.setElement(this.el,!1)}else{var f=T(this,"attributes")||{};this.id&&(f.id=this.id);this.className&&(f["class"]=this.className);this.setElement(this.make(this.tagName,f),!1)}}});S.extend=O.extend=I.extend=j.extend=function(g,f){var i=h(this,g,f);i.extend=this.extend;return i};var d={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};Y.sync=function(g,f,l){var k=d[g];l||(l={});var i={type:k,dataType:"json"};l.url||(i.url=T(f,"url")||J());if(!l.data&&f&&("create"==g||"update"==g)){i.contentType="application/json",i.data=JSON.stringify(f.toJSON())}Y.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{});if(Y.emulateHTTP&&("PUT"===k||"DELETE"===k)){Y.emulateJSON&&(i.data._method=k),i.type="POST",i.beforeSend=function(m){m.setRequestHeader("X-HTTP-Method-Override",k)}}"GET"!==i.type&&!Y.emulateJSON&&(i.processData=!1);return X.ajax(Z.extend(i,l))};Y.wrapError=function(g,f,i){return function(l,k){k=l===f?k:l;g?g(f,k,i):f.trigger("error",f,k,i)}};var c=function(){},h=function(g,f,k){var i;i=f&&f.hasOwnProperty("constructor")?f.constructor:function(){g.apply(this,arguments)};Z.extend(i,g);c.prototype=g.prototype;i.prototype=new c;f&&Z.extend(i.prototype,f);k&&Z.extend(i,k);i.prototype.constructor=i;i.__super__=g.prototype;return i},T=function(g,f){return !g||!g[f]?null:Z.isFunction(g[f])?g[f]():g[f]},J=function(){throw Error('A "url" property or function must be specified')}}).call(this);var Mustache;(function(b){if(typeof module!=="undefined"&&module.exports){module.exports=b}else{if(typeof define==="function"){define(b)}else{Mustache=b}}}((function(){var x={};x.name="mustache.js";x.version="0.7.0";x.tags=["{{","}}"];x.Scanner=y;x.Context=A;x.Writer=C;var O=/\s*/;var G=/\s+/;var I=/\S/;var K=/\s*=/;var E=/\s*\}/;var z=/#|\^|\/|>|\{|&|=|!/;function D(a,b){return RegExp.prototype.test.call(a,b)}function L(a){return !D(I,a)}var H=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function M(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function F(a){return String(a).replace(/[&<>"'\/]/g,function(b){return P[b]})}x.escape=F;function y(a){this.string=a;this.tail=a;this.pos=0}y.prototype.eos=function(){return this.tail===""};y.prototype.scan=function(a){var b=this.tail.match(a);if(b&&b.index===0){this.tail=this.tail.substring(b[0].length);this.pos+=b[0].length;return b[0]}return""};y.prototype.scanUntil=function(a){var b,c=this.tail.search(a);switch(c){case -1:b=this.tail;this.pos+=this.tail.length;this.tail="";break;case 0:b="";break;default:b=this.tail.substring(0,c);this.tail=this.tail.substring(c);this.pos+=c}return b};function A(b,a){this.view=b;this.parent=a;this.clearCache()}A.make=function(a){return(a instanceof A)?a:new A(a)};A.prototype.clearCache=function(){this._cache={}};A.prototype.push=function(a){return new A(a,this)};A.prototype.lookup=function(c){var d=this._cache[c];if(!d){if(c==="."){d=this.view}else{var e=this;while(e){if(c.indexOf(".")>0){var b=c.split("."),a=0;d=e.view;while(d&&a<b.length){d=d[b[a++]]}}else{d=e.view[c]}if(d!=null){break}e=e.parent}}this._cache[c]=d}if(typeof d==="function"){d=d.call(this.view)}return d};function C(){this.clearCache()}C.prototype.clearCache=function(){this._cache={};this._partialCache={}};C.prototype.compile=function(d,b){var a=this._cache[d];if(!a){var c=x.parse(d,b);a=this._cache[d]=this.compileTokens(c,d)}return a};C.prototype.compilePartial=function(a,c,b){var d=this.compile(c,b);this._partialCache[a]=d;return d};C.prototype.compileTokens=function(c,d){var a=N(c);var b=this;return function(e,f){if(f){if(typeof f==="function"){b._loadPartial=f}else{for(var g in f){b.compilePartial(g,f[g])}}}return a(b,A.make(e),d)}};C.prototype.render=function(c,b,a){return this.compile(c)(b,a)};C.prototype._section=function(h,g,j,a){var b=g.lookup(h);switch(typeof b){case"object":if(H(b)){var f="";for(var e=0,c=b.length;e<c;++e){f+=a(this,g.push(b[e]))}return f}return b?a(this,g.push(b)):"";case"function":var i=this;var d=function(k){return i.render(k,g)};return b.call(g.view,j,d)||"";default:if(b){return a(this,g)}}return""};C.prototype._inverted=function(b,a,c){var d=a.lookup(b);if(!d||(H(d)&&d.length===0)){return c(this,a)}return""};C.prototype._partial=function(b,a){if(!(b in this._partialCache)&&this._loadPartial){this.compilePartial(b,this._loadPartial(b))}var c=this._partialCache[b];return c?c(a):""};C.prototype._name=function(b,a){var c=a.lookup(b);if(typeof c==="function"){c=c.call(a.view)}return(c==null)?"":String(c)};C.prototype._escaped=function(b,a){return x.escape(this._name(b,a))};function J(a){var c=a[3];var b=c;var d;while((d=a[4])&&d.length){a=d[d.length-1];b=a[3]}return[c,b]}function N(c){var b={};function a(f,e,g){if(!b[f]){var d=N(e);b[f]=function(h,i){return d(h,i,g)}}return b[f]}return function(f,h,g){var d="";var j,e;for(var k=0,i=c.length;k<i;++k){j=c[k];switch(j[0]){case"#":e=g.slice.apply(g,J(j));d+=f._section(j[1],h,e,a(k,j[4],g));break;case"^":d+=f._inverted(j[1],h,a(k,j[4],g));break;case">":d+=f._partial(j[1],h);break;case"&":d+=f._name(j[1],h);break;case"name":d+=f._escaped(j[1],h);break;case"text":d+=j[1];break}}return d}}function w(g){var c=[];var b=c;var e=[];var f,d;for(var a=0;a<g.length;++a){f=g[a];switch(f[0]){case"#":case"^":f[4]=[];e.push(f);b.push(f);b=f[4];break;case"/":if(e.length===0){throw new Error("Unopened section: "+f[1])}d=e.pop();if(d[1]!==f[1]){throw new Error("Unclosed section: "+d[1])}if(e.length>0){b=e[e.length-1][4]}else{b=c}break;default:b.push(f)}}d=e.pop();if(d){throw new Error("Unclosed section: "+d[1])}return c}function R(c){var d,b;for(var a=0;a<c.length;++a){d=c[a];if(b&&b[0]==="text"&&d[0]==="text"){b[1]+=d[1];b[3]=d[3];c.splice(a--,1)}else{b=d}}}function B(a){if(a.length!==2){throw new Error("Invalid tags: "+a.join(" "))}return[new RegExp(M(a[0])+"\\s*"),new RegExp("\\s*"+M(a[1]))]}x.parse=function(l,h){h=h||x.tags;var j=B(h);var e=new y(l);var n=[],p=[],b=false,f=false;function i(){if(b&&!f){while(p.length){n.splice(p.pop(),1)}}else{p=[]}b=false;f=false}var k,o,m,d;while(!e.eos()){k=e.pos;m=e.scanUntil(j[0]);if(m){for(var c=0,a=m.length;c<a;++c){d=m.charAt(c);if(L(d)){p.push(n.length)}else{f=true}n.push(["text",d,k,k+1]);k+=1;if(d==="\n"){i()}}}k=e.pos;if(!e.scan(j[0])){break}b=true;o=e.scan(z)||"name";e.scan(O);if(o==="="){m=e.scanUntil(K);e.scan(K);e.scanUntil(j[1])}else{if(o==="{"){var g=new RegExp("\\s*"+M("}"+h[1]));m=e.scanUntil(g);e.scan(E);e.scanUntil(j[1]);o="&"}else{m=e.scanUntil(j[1])}}if(!e.scan(j[1])){throw new Error("Unclosed tag at "+e.pos)}n.push([o,m,k,e.pos]);if(o==="name"||o==="{"||o==="&"){f=true}if(o==="="){h=m.split(G);j=B(h)}}R(n);return w(n)};var Q=new C();x.clearCache=function(){return Q.clearCache()};x.compile=function(a,b){return Q.compile(a,b)};x.compilePartial=function(a,c,b){return Q.compilePartial(a,c,b)};x.compileTokens=function(a,b){return Q.compileTokens(a,b)};x.render=function(c,b,a){return Q.render(c,b,a)};x.to_html=function(d,b,e,a){var c=x.render(d,b,e);if(typeof a==="function"){a(c)}else{return c}};return x}())));(function(J){var O=/^[\s,#]+/,U=/\s+$/,T=0,af=Math,F=af.round,aa=af.min,X=af.max,Y=af.random;function H(g,a){g=(g)?g:"";if(typeof g=="object"&&g.hasOwnProperty("_tc_id")){return g}var e=S(g);var i=e.r,f=e.g,d=e.b,c=parseFloat(e.a),h=F(100*c)/100,b=e.format;if(i<1){i=F(i)}if(f<1){f=F(f)}if(d<1){d=F(d)}return{ok:e.ok,format:b,_tc_id:T++,alpha:c,toHsv:function(){var j=Q(i,f,d);return{h:j.h*360,s:j.s,v:j.v,a:c}},toHsvString:function(){var l=Q(i,f,d);var j=F(l.h*360),k=F(l.s*100),m=F(l.v*100);return(c==1)?"hsv("+j+", "+k+"%, "+m+"%)":"hsva("+j+", "+k+"%, "+m+"%, "+h+")"},toHsl:function(){var j=E(i,f,d);return{h:j.h*360,s:j.s,l:j.l,a:c}},toHslString:function(){var l=E(i,f,d);var j=F(l.h*360),k=F(l.s*100),m=F(l.l*100);return(c==1)?"hsl("+j+", "+k+"%, "+m+"%)":"hsla("+j+", "+k+"%, "+m+"%, "+h+")"},toHex:function(){return G(i,f,d)},toHexString:function(){return"#"+G(i,f,d)},toRgb:function(){return{r:F(i),g:F(f),b:F(d),a:c}},toRgbString:function(){return(c==1)?"rgb("+F(i)+", "+F(f)+", "+F(d)+")":"rgba("+F(i)+", "+F(f)+", "+F(d)+", "+h+")"},toName:function(){return M[G(i,f,d)]||false},toFilter:function(){var k=secondHex=G(i,f,d);var j=secondAlphaHex=Math.round(parseFloat(c)*255).toString(16);var m=a&&a.gradientType?"GradientType = 1, ":"";if(secondColor){var l=H(secondColor);secondHex=l.toHex();secondAlphaHex=Math.round(parseFloat(l.alpha)*255).toString(16)}return"progid:DXImageTransform.Microsoft.gradient("+m+"startColorstr=#"+ac(j)+k+",endColorstr=#"+ac(secondAlphaHex)+secondHex+")"},toString:function(j){j=j||this.format;var k=false;if(j==="rgb"){k=this.toRgbString()}if(j==="hex"){k=this.toHexString()}if(j==="name"){k=this.toName()}if(j==="hsl"){k=this.toHslString()}if(j==="hsv"){k=this.toHsvString()}return k||this.toHexString()}}}H.fromRatio=function(c){if(typeof c=="object"){var b={};for(var a in c){b[a]=ab(c[a])}c=b}return H(c)};function S(d){var c={r:255,g:255,b:255};var e=1;var b=false;var a=false;if(typeof d=="string"){d=Z(d)}if(typeof d=="object"){if(d.hasOwnProperty("r")&&d.hasOwnProperty("g")&&d.hasOwnProperty("b")){c=W(d.r,d.g,d.b);b=true;a="rgb"}else{if(d.hasOwnProperty("h")&&d.hasOwnProperty("s")&&d.hasOwnProperty("v")){d.s=ab(d.s);d.v=ab(d.v);c=I(d.h,d.s,d.v);b=true;a="hsv"}else{if(d.hasOwnProperty("h")&&d.hasOwnProperty("s")&&d.hasOwnProperty("l")){d.s=ab(d.s);d.l=ab(d.l);var c=V(d.h,d.s,d.l);b=true;a="hsl"}}}if(d.hasOwnProperty("a")){e=d.a}}return{ok:b,format:d.format||a,r:aa(255,X(c.r,0)),g:aa(255,X(c.g,0)),b:aa(255,X(c.b,0)),a:e}}function W(a,b,c){return{r:P(a,255)*255,g:P(b,255)*255,b:P(c,255)*255}}function E(a,f,d){a=P(a,255);f=P(f,255);d=P(d,255);var c=X(a,f,d),h=aa(a,f,d);var g,b,i=(c+h)/2;if(c==h){g=b=0}else{var e=c-h;b=i>0.5?e/(2-c-h):e/(c+h);switch(c){case a:g=(f-d)/e+(f<d?6:0);break;case f:g=(d-a)/e+2;break;case d:g=(a-f)/e+4;break}g/=6}return{h:g,s:b,l:i}}function V(e,b,f){var a,d,c;e=P(e,360);b=P(b,100);f=P(f,100);function g(j,k,l){if(l<0){l+=1}if(l>1){l-=1}if(l<1/6){return j+(k-j)*6*l}if(l<1/2){return k}if(l<2/3){return j+(k-j)*(2/3-l)*6}return j}if(b==0){a=d=c=f}else{var i=f<0.5?f*(1+b):f+b-f*b;var h=2*f-i;a=g(h,i,e+1/3);d=g(h,i,e);c=g(h,i,e-1/3)}return{r:a*255,g:d*255,b:c*255}}function Q(a,g,e){a=P(a,255);g=P(g,255);e=P(e,255);var d=X(a,g,e),i=aa(a,g,e);var h,b,c=d;var f=d-i;b=d==0?0:f/d;if(d==i){h=0}else{switch(d){case a:h=(g-e)/f+(g<e?6:0);break;case g:h=(e-a)/f+2;break;case e:h=(a-g)/f+4;break}h/=6}return{h:h,s:b,v:c}}function I(i,b,d){var a,h,e;i=P(i,360)*6;b=P(b,100);d=P(d,100);var j=af.floor(i),g=i-j,k=d*(1-b),l=d*(1-g*b),c=d*(1-(1-g)*b),f=j%6,a=[d,l,k,k,c,d][f],h=[c,d,d,l,k,k][f],e=[k,k,c,d,d,l][f];return{r:a*255,g:h*255,b:e*255}}function G(a,b,d){var c=[ac(F(a).toString(16)),ac(F(b).toString(16)),ac(F(d).toString(16))];if(c[0][0]==c[0][1]&&c[1][0]==c[1][1]&&c[2][0]==c[2][1]){return c[0][0]+c[1][0]+c[2][0]}return c.join("")}H.equals=function(a,b){if(!a||!b){return false}return H(a).toRgbString()==H(b).toRgbString()};H.random=function(){return H.fromRatio({r:Y(),g:Y(),b:Y()})};H.desaturate=function(b,a){var c=H(b).toHsl();c.s-=((a||10)/100);c.s=K(c.s);return H(c)};H.saturate=function(b,a){var c=H(b).toHsl();c.s+=((a||10)/100);c.s=K(c.s);return H(c)};H.greyscale=function(a){return H.desaturate(a,100)};H.lighten=function(b,a){var c=H(b).toHsl();c.l+=((a||10)/100);c.l=K(c.l);return H(c)};H.darken=function(b,a){var c=H(b).toHsl();c.l-=((a||10)/100);c.l=K(c.l);return H(c)};H.complement=function(a){var b=H(a).toHsl();b.h=(b.h+180)%360;return H(b)};H.triad=function(b){var c=H(b).toHsl();var a=c.h;return[H(b),H({h:(a+120)%360,s:c.s,l:c.l}),H({h:(a+240)%360,s:c.s,l:c.l})]};H.tetrad=function(b){var c=H(b).toHsl();var a=c.h;return[H(b),H({h:(a+90)%360,s:c.s,l:c.l}),H({h:(a+180)%360,s:c.s,l:c.l}),H({h:(a+270)%360,s:c.s,l:c.l})]};H.splitcomplement=function(b){var c=H(b).toHsl();var a=c.h;return[H(b),H({h:(a+72)%360,s:c.s,l:c.l}),H({h:(a+216)%360,s:c.s,l:c.l})]};H.analogous=function(e,b,a){b=b||6;a=a||30;var f=H(e).toHsl();var c=360/a;var d=[H(e)];for(f.h=((f.h-(c*b>>1))+720)%360;--b;){f.h=(f.h+c)%360;d.push(H(f))}return d};H.monochromatic=function(f,c){c=c||6;var d=H(f).toHsv();var a=d.h,b=d.s,g=d.v;var e=[];var h=1/c;while(c--){e.push(H({h:a,s:b,v:g}));g=(g+h)%1}return e};H.readable=function(a,c){var b=H(a).toRgb(),d=H(c).toRgb();return((d.r-b.r)*(d.r-b.r)+(d.g-b.g)*(d.g-b.g)+(d.b-b.b)*(d.b-b.b))>10404};var R=H.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var M=H.hexNames=ad(R);function ad(a){var b={};for(var c in a){if(a.hasOwnProperty(c)){b[a[c]]=c}}return b}function P(a,c){if(L(a)){a="100%"}var b=N(a);a=aa(c,X(0,parseFloat(a)));if(b){a=parseInt(a*c)/100}if((af.abs(a-c)<0.000001)){return 1}return(a%c)/parseFloat(c)}function K(a){return aa(1,X(0,a))}function D(a){return parseInt(a,16)}function L(a){return typeof a=="string"&&a.indexOf(".")!=-1&&parseFloat(a)===1}function N(a){return typeof a==="string"&&a.indexOf("%")!=-1}function ac(a){return a.length==1?"0"+a:""+a}function ab(a){if(a<=1){a=(a*100)+"%"}return a}var ae=(function(){var a="[-\\+]?\\d+%?";var b="[-\\+]?\\d*\\.\\d+%?";var e="(?:"+b+")|(?:"+a+")";var c="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";var d="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{rgb:new RegExp("rgb"+c),rgba:new RegExp("rgba"+d),hsl:new RegExp("hsl"+c),hsla:new RegExp("hsla"+d),hsv:new RegExp("hsv"+c),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function Z(b){b=b.replace(O,"").replace(U,"").toLowerCase();var c=false;if(R[b]){b=R[b];c=true}else{if(b=="transparent"){return{r:0,g:0,b:0,a:0}}}var a;if((a=ae.rgb.exec(b))){return{r:a[1],g:a[2],b:a[3]}}if((a=ae.rgba.exec(b))){return{r:a[1],g:a[2],b:a[3],a:a[4]}}if((a=ae.hsl.exec(b))){return{h:a[1],s:a[2],l:a[3]}}if((a=ae.hsla.exec(b))){return{h:a[1],s:a[2],l:a[3],a:a[4]}}if((a=ae.hsv.exec(b))){return{h:a[1],s:a[2],v:a[3]}}if((a=ae.hex6.exec(b))){return{r:D(a[1]),g:D(a[2]),b:D(a[3]),format:c?"name":"hex"}}if((a=ae.hex3.exec(b))){return{r:D(a[1]+""+a[1]),g:D(a[2]+""+a[2]),b:D(a[3]+""+a[3]),format:c?"name":"hex"}}return false}if(typeof module!=="undefined"&&module.exports){module.exports=H}else{J.tinycolor=H}})(this);(function(){var b=function(){var f={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7};var c={s:[0,0,59],m:[1,0,59],h:[2,0,23],D:[3,1,31],M:[4,1,12],Y:[6,1970,2099],d:[5,1,7,1]};var g=function(o,p){return isNaN(o)?f[o]:+o+(p||0)};var j=function(o){var q={},p;for(p in o){if(p!=="dc"&&p!=="d"){q[p]=o[p].slice(0)}}return q};var m=function(p,q,s,o,t){var r=s;if(!p[q]){p[q]=[]}while(r<=o){if(p[q].indexOf(r)<0){p[q].push(r)}r+=t||1}};var h=function(p,o,q,r){if((o.d&&!o.dc)||(o.dc&&o.dc.indexOf(r)<0)){p.push(j(o));o=p[p.length-1]}m(o,"d",q,q);m(o,"dc",r,r)};var i=function(q,o,t){var r={},p={};if(t===1){m(o,"D",1,3);m(o,"d",f.MON,f.FRI);m(r,"D",2,2);m(r,"d",f.TUE,f.FRI);m(p,"D",3,3);m(p,"d",f.TUE,f.FRI)}else{m(o,"D",t-1,t+1);m(o,"d",f.MON,f.FRI);m(r,"D",t-1,t-1);m(r,"d",f.MON,f.THU);m(p,"D",t+1,t+1);m(p,"d",f.TUE,f.FRI)}q.exceptions.push(r);q.exceptions.push(p)};var l=function(x,w,o,r,u,q){var v=x.split("/"),p=+v[1],t=v[0];if(t!=="*"&&t!=="0"){var s=t.split("-");r=g(s[0],q);u=g(s[1],q)}m(w,o,r,u,p)};var d=function(x,y,o,r,u,q){var w,t,p=y.schedules,v=p[p.length-1];if(x==="L"){x=r-1}if((w=g(x,q))!=null){m(v,o,w,w)}else{if((w=g(x.replace("W",""),q))!=null){i(y,v,w)}else{if((w=g(x.replace("L",""),q))!=null){h(p,v,w,r-1)}else{if((t=x.split("#")).length===2){w=g(t[0],q);h(p,v,w,g(t[1]))}else{l(x,v,o,r,u,q)}}}}};var n=function(o){return o.indexOf("#")>-1||o.indexOf("L")>0};var e=function(p,o){return n(p)&&!n(o)?1:0};var k=function(w){var q={schedules:[{}],exceptions:[]},r=w.split(" "),v,s,u,t;for(v in c){s=c[v];u=r[s[0]];if(u&&u!=="*"&&u!=="?"){t=u.split(",").sort(e);var p,o=t.length;for(p=0;p<o;p++){d(t[p],q,v,s[1],s[2],s[3])}}}return q};return{parse:function(q,o){var p=q.toUpperCase();return k(o?p:"0 "+p)}}};var a=typeof exports!=="undefined"&&exports!==null?exports:window;a.cronParser=b}).call(this);var root=typeof exports!=="undefined"&&exports!==null?exports:window;var recur=root.recur;if(!recur&&(typeof require!=="undefined")){recur=require("./recur").recur}(function(){var a=function(){var e=0,i="",p;var f={eof:/^$/,rank:/^((\d\d\d\d)|([2-5]?1(st)?|[2-5]?2(nd)?|[2-5]?3(rd)?|(0|[1-5]?[4-9]|[1-5]0|1[1-3])(th)?))\b/,time:/^((([0]?[1-9]|1[0-2]):[0-5]\d(\s)?(am|pm))|(([0]?\d|1\d|2[0-3]):[0-5]\d))\b/,dayName:/^((sun|mon|tue(s)?|wed(nes)?|thu(r(s)?)?|fri|sat(ur)?)(day)?)\b/,monthName:/^(jan(uary)?|feb(ruary)?|ma((r(ch)?)?|y)|apr(il)?|ju(ly|ne)|aug(ust)?|oct(ober)?|(sept|nov|dec)(ember)?)\b/,yearIndex:/^(\d\d\d\d)\b/,every:/^every\b/,after:/^after\b/,second:/^(s|sec(ond)?(s)?)\b/,minute:/^(m|min(ute)?(s)?)\b/,hour:/^(h|hour(s)?)\b/,day:/^(day(s)?( of the month)?)\b/,dayInstance:/^day instance\b/,dayOfWeek:/^day(s)? of the week\b/,dayOfYear:/^day(s)? of the year\b/,weekOfYear:/^week(s)?( of the year)?\b/,weekOfMonth:/^week(s)? of the month\b/,weekday:/^weekday\b/,weekend:/^weekend\b/,month:/^month(s)?\b/,year:/^year(s)?\b/,between:/^between (the)?\b/,start:/^(start(ing)? (at|on( the)?)?)\b/,at:/^(at|@)\b/,and:/^(,|and\b)/,except:/^(except\b)/,also:/(also)\b/,first:/^(first)\b/,last:/^last\b/,"in":/^in\b/,of:/^of\b/,onthe:/^on the\b/,on:/^on\b/,through:/(-|^(to|through)\b)/};var c={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7,"1st":1,fir:1,"2nd":2,sec:2,"3rd":3,thi:3,"4th":4,"for":4};var k=function(w,t,v,u){return{startPos:w,endPos:t,text:v,type:u}};var m=function(C){var v=C instanceof Array?C:[C],D=/\s+/,x,y,w,A,t,B;v.push(D);t=e;while(!x||x.type===D){B=-1;y=i.substring(t);x=k(t,t,i.split(D)[0]);var z,u=v.length;for(z=0;z<u;z++){A=v[z];w=A.exec(y);if(w&&w.index===0&&w[0].length>B){B=w[0].length;x=k(t,t+B,y.substring(0,B),A)}}if(x.type===D){t=x.endPos}}return x};var l=function(u){var t=m(u);e=t.endPos;return t};var n=function(w){var x=+q(w),t=r(f.through)?+q(w):x,v=[];for(var u=x;u<=t;u++){v.push(u)}return v};var j=function(u){var t=n(u);while(r(f.and)){t=t.concat(n(u))}return t};var b=function(v){var u,w,x,t;if(r(f.weekend)){v.on(c.sun,c.sat).dayOfWeek()}else{if(r(f.weekday)){v.on(c.mon,c.tue,c.wed,c.thu,c.fri).dayOfWeek()}else{u=q(f.rank);v.every(u);w=d(v);if(r(f.start)){u=q(f.rank);v.startingOn(u);g(w.type)}else{if(r(f.between)){x=q(f.rank);if(r(f.and)){t=q(f.rank);v.between(x,t)}}}}}};var o=function(t){if(r(f.first)){t.first()}else{if(r(f.last)){t.last()}else{t.on(j(f.rank))}}d(t)};var s=function(v){e=0;i=v;p=-1;var u=recur();while(e<i.length&&p<0){var t=g([f.every,f.after,f.onthe,f.on,f.of,f["in"],f.at,f.and,f.except,f.also]);switch(t.type){case f.every:b(u);break;case f.after:u.after(q(f.rank));d(u);break;case f.onthe:o(u);break;case f.on:u.on(j(f.dayName)).dayOfWeek();break;case f.of:u.on(j(f.monthName)).month();break;case f["in"]:u.on(j(f.yearIndex)).year();break;case f.at:u.at(q(f.time));while(r(f.and)){u.at(q(f.time))}break;case f.also:u.and();break;case f.except:u.except();break;default:p=e}}return{schedules:u.schedules,exceptions:u.exceptions,error:p}};var d=function(u){var t=g([f.second,f.minute,f.hour,f.dayOfYear,f.dayOfWeek,f.dayInstance,f.day,f.month,f.year,f.weekOfMonth,f.weekOfYear]);switch(t.type){case f.second:u.second();break;case f.minute:u.minute();break;case f.hour:u.hour();break;case f.dayOfYear:u.dayOfYear();break;case f.dayOfWeek:u.dayOfWeek();break;case f.dayInstance:u.dayOfWeekCount();break;case f.day:u.dayOfMonth();break;case f.weekOfMonth:u.weekOfMonth();break;case f.weekOfYear:u.weekOfYear();break;case f.month:u.month();break;case f.year:u.year();break;default:p=e}return t};var r=function(u){var t=(m(u)).type===u;if(t){l(u)}return t};var g=function(v){var u=l(v);if(u.type){u.text=h(u.text,v)}else{p=e}return u};var q=function(t){return(g(t)).text};var h=function(y,x){var u=y;switch(x){case f.time:var w=y.split(/(:|am|pm)/),t=w[3]==="pm"?parseInt(w[0],10)+12:w[0],v=w[2].trim();u=(t.length===1?"0":"")+t+":"+v;break;case f.rank:u=parseInt((/^\d+/.exec(y))[0],10);break;case f.monthName:case f.dayName:u=c[y.substring(0,3)];break}return u};return{parse:function(t){return s(t.toLowerCase())}}};root.enParser=a}).call(this);(function(){var b=function(s,m){var x=m||false,E="get"+(x?"":"UTC"),r=true,F=1000,v=F*60,p=v*60,D=p*24,d=Math.ceil,y=Math.floor,t=Math.max,w=Date.prototype,c=w[E+"FullYear"],i=w[E+"Month"],l=w[E+"Date"],h=w[E+"Day"],z=w[E+"Hours"],g=w[E+"Minutes"],k=w[E+"Seconds"];s=s===undefined?1:s;var q=function(M,G,K){var L,J=null,I=G[0],H=G.length;while(H--){L=G[H];if(L===M){return M}I=L<I?L:I;J=L>M&&(!J||L<J)?L:J}return J||(K===undefined?I:(I+K))};var f=function(M,H,J){var L,K=null,I=H.length,G=H[I-1];while(I--){L=H[I];if(L===M){return M}G=L>G?L:G;K=L<M&&(!K||L>K)?L:K}return K!==null?K:(J===undefined?G:(G-J))};var j=function(J,G,I,H,K,L){G=G===undefined?0:G;I=I===undefined?1:I;H=H===undefined?0:H;K=K===undefined?0:K;L=L===undefined?0:L;return x?new Date(J,G,I,H,K,L):new Date(Date.UTC(J,G,I,H,K,L))};var C=function(J,G,I,H,K,L){G=G===undefined?11:G;I=I===undefined?l.call(j(J,G+1,0)):I;H=H===undefined?23:H;K=K===undefined?59:K;L=L===undefined?59:L;return x?new Date(J,G,I,H,K,L):new Date(Date.UTC(J,G,I,H,K,L))};var B=function(G){return(G<10?"0":"")+G};var A=function(S,L,O){var H,N,X,ah,af,aa,W,Z,ag,ae,K,J,ab,T,Q,ak,I,aj,al,G,ad,ac,V,R,P;var U=O?f:q,ai=O?C:j;H=c.call(L);N=i.call(L);X=l.call(L);af=z.call(L);aa=g.call(L);W=k.call(L);T=B(af)+":"+B(aa)+":"+B(W);if(S.t&&U(T,S.t)===T){return O?(ai(H,N,X,af,aa,W-1)):(ai(H,N,X,af,aa,W+1))}if(S.s&&U(W,S.s,60)===W){return O?(ai(H,N,X,af,aa,W-1)):(ai(H,N,X,af,aa,W+1))}if(S.m&&U(aa,S.m,60)===aa){return O?(ai(H,N,X,af,aa-1)):(ai(H,N,X,af,aa+1))}if(S.h&&U(af,S.h,24)===af){return O?(ai(H,N,X,af-1)):(ai(H,N,X,af+1))}if(S.tb){if(T<S.tb[0]){P=S.tb[0].split(":");if(O){return(ai(H,N,X-1,P[0],P[1],P[2]-1))}else{return(ai(H,N,X,P[0],P[1],P[2]))}}}if(S.ta){if(T>=S.ta[0]){if(O){P=S.ta[0].split(":");return(ai(H,N,X,P[0],P[1],P[2]-1))}else{return(ai(H,N,X+1))}}}if(S.dc){aj=y((X-1)/7)+1;if(U(aj,S.dc,0)===aj){return O?(ai(H,N,X-1)):(ai(H,N,X+1))}}ah=h.call(L);if(S.d&&U(ah+1,S.d,7)===ah+1){return O?(ai(H,N,X-1)):(ai(H,N,X+1))}if(S.wm){ad=h.call(j(H,N,1));I=y((((X+ad-1)/7))+1);R=y((((G+ad-1)/7))+1);if((U(I,S.wm,R)||R)===I){return O?(ai(H,N,X-1)):(ai(H,N,X+1))}}J=j(H,N+1,0);G=l.call(J);if(S.D&&(U(X,S.D,G)||G)===X){return O?(ai(H,N,X-1)):(ai(H,N,X+1))}Z=j(H,0,1,12);ab=j(H+1,0,0,12);if(S.wy){ae=ai(H,N,X+4-(ah||7));K=ai(c.call(ae),0,1);V=h.call(Z)===4||h.call(ab)===4?53:52;ak=d((((ae.getTime()-K.getTime())/D)+1)/7);if((U(ak,S.wy,V)||V)===ak){return O?(ai(H,N,X-1)):(ai(H,N,X+1))}}if(S.M&&U(N+1,S.M,12)===N+1){return O?(ai(H,N-1)):(ai(H,N+1))}if(S.dy){Q=d((L.getTime()-Z.getTime())/D)+1;al=d((ab.getTime()-Z.getTime())/D)+1;if((U(Q,S.dy,al)||al)===Q){return O?(ai(H,N-1)):(ai(H,N+1))}}if(S.Y&&U(H,S.Y,0)===H){return O?(ai(H-1)):(ai(H+1))}return L};var n=function(L,ab,X,am){var J,ar,aj,O,I,Q,S,at,aq,an,al,W,ae,ai,af,Z,ac,ak,K,ao,G,T,aa,N,H,V,P,ad,ah=1000;var R=am?f:q,ap=am?C:j;J=am?ab:e(ab,L);while(J&&ah--){if(X&&((!am&&J.getTime()>X.getTime())||(am&&J.getTime()<X.getTime()))){return null}I=c.call(J);Q=i.call(J);S=l.call(J);if(L.Y&&(ar=R(I,L.Y,0))!==I){J=(!am&&ar>I)||(am&&ar<I)?ap(ar):null;continue}W=j(I,0,1,12,0,0);var ag=j(I,Q,S,12,0,0);ac=j(I+1,0,0);if(L.dy){K=d((ag.getTime()-W.getTime())/D)+1;aa=d((ac.getTime()-W.getTime())/D)+1;if(((ar=R(K,L.dy,aa))||aa)!==K){J=ap(I,0,ar);continue}}if(L.M&&(ar=R(Q+1,L.M,12))!==Q+1){J=ap(I,ar-1);continue}at=h.call(J);if(L.wy){ai=ap(I,Q,S+4-(at||7),12);af=ap(c.call(ai),0,1,12);P=h.call(W)===4||h.call(ac)===4?53:52;ao=d((((ai.getTime()-af.getTime())/D)+1)/7);if(((ar=R(ao,L.wy,P))||P)!==ao){if(ar<0){ar+=1}J=ap(c.call(ai),i.call(ai),l.call(ai)-3+(ar-ao)*7+(am?6:0));continue}}Z=j(I,Q+1,0,12);N=l.call(Z);if(L.D&&((ar=R(S,L.D,N))||N)!==S){J=ap(I,Q,ar<0?0:ar);continue}if(L.wm){H=h.call(j(I,Q,1));G=y((((S+H-1)/7))+1);ad=y((((N+H-1)/7))+1);if(((ar=R(G,L.wm,ad))||ad)!==G){if(ar===0){J=ap(I,Q,ar)}else{J=ap(I,Q,(ar<0?ar+1:ar-1)*7-(H-1)-(ar>ad&&h.call(Z)<6?7:0)+(ar===ad+1?h.call(Z)+1:0)+(am?6:0))}continue}}if(L.d&&(ar=R(at+1,L.d,7))!==at+1){J=ap(I,Q,S+(ar-1)-at);continue}if(L.dc){T=y((S-1)/7)+1;if((ar=R(T,L.dc,0))!==T){if(am){if(ar>0){J=ap(I,Q+(ar<T?0:-1),7+(7*(ar-1)));continue}else{if(ar===0&&S<(N-6)){J=ap(I,Q,ar);continue}}}else{if(ar>0){J=ap(I,Q+(ar<T?1:0),1+(7*(ar-1)));continue}else{if(ar<1&&S<(N-6)){J=ap(I,Q,N-6);continue}}}}}aq=z.call(J);an=g.call(J);al=k.call(J);ak=B(aq)+":"+B(an)+":"+B(al);if(L.ta){if(ak<L.ta[0]){if(am){J=ap(I,Q,S-1)}else{aj=L.ta[0].split(":");J=ap(I,Q,S,aj[0],aj[1],aj[2])}continue}}if(L.tb){if(ak>=L.tb[0]){if(am){aj=L.tb[0].split(":");J=ap(I,Q,S,aj[0],aj[1],aj[2]-1)}else{J=ap(I,Q,S+1)}continue}}if(L.h&&(ar=R(aq,L.h,24))!==aq){J=ap(I,Q,S,ar);continue}if(L.m&&(ar=R(an,L.m,60))!==an){J=ap(I,Q,S,aq,ar);continue}if(L.s&&(ar=R(al,L.s,60))!==al){J=ap(I,Q,S,aq,an,ar);continue}if(L.t){if((ar=R(ak,L.t))!==ak){aj=ar.split(":");var U=!am?(ak>ar?1:0):(ak<ar?-1:0);J=ap(I,Q,S+U,aj[0],aj[1],aj[2]);continue}}break}return ah>0?J:null};var e=function(N,G){var K=c.call(N)+o(G.aY),H=i.call(N)+o(G.aM),J=l.call(N)+t(o(G.aD),o(G.ady),o(G.ad),o(G.awy)*7,o(G.awm)*7),I=z.call(N)+o(G.ah),L=g.call(N)+o(G.am),M=k.call(N)+o(G.as);return j(K,H,J,I,L,M)};var o=function(G){return G&&G[0]?G[0]:0};var u=function(H,G){return !G?new Date(H.getTime()+(s*1000)):new Date(H.getTime()-(s*1000))};return{isValid:function(I,G){G.setMilliseconds(0);var H=this.getNext(I,G);return H?G.getTime()===H.getTime():false},get:function(J,K,G,L,I){var M=[],H;while(K-->0&&(H=!I?this.getNext(J,H||G,L):this.getPrevious(J,H||G,L))){M.push(H);H=u(H,I)}return M},getNext:function(P,H,O){var K=P?P.schedules||[]:[],I=P?P.exceptions||[]:[],Q=K.length,L=I.length,G=H||new Date(),J;while(G){var N;if(O&&G.getTime()>O.getTime()){J=undefined;break}if(Q){for(var M=0;M<Q;M++){N=n(K[M],G,O);if(N&&(!J||(N.getTime()<J.getTime()))){J=N}}}else{J=G}G=null;if(J&&L){N=this.getNextInvalid({schedules:I},J);if(N.getTime()!==J.getTime()){G=N;J=undefined}}}return J},getNextInvalid:function(P,I){var L=P?P.schedules||[]:[],J=P?P.exceptions||[]:[],Q=L.length,M=J.length,G=I||new Date();while(G&&this.isValid(P,G)){var K,H;for(var N=0;N<Q;N++){var O=A(L[N],G);if(O&&(!H||(O.getTime()>H.getTime()))){H=O}}if(M){K=this.getNext({schedules:J},G)}if(!H&&!K){G=undefined}else{G=new Date(H&&K?Math.min(H.getTime(),K.getTime()):K||H)}}return G},getPrevious:function(O,G,M){var K=O?O.schedules||[]:[],H={schedules:O?O.exceptions||[]:[]},J=G||new Date(),I,N,L=K.length;if(M&&G.getTime()<M.getTime()){return null}if(L===0){I=J}else{while(L--){N=n(K[L],J,M,true);if(!I||(N>I)){I=N}}}if(I&&H.schedules.length>0&&this.isValid(H,I)){I=this.getPrevious(O,u(I,true),M)}return I},exec:function(J,H,K,G){var I=this.getNext(J,u(H));if(I){I=I.getTime()-(new Date()).getTime();if(I>2147483647){r=setTimeout(this.exec,2147483647,J,H,K,G)}else{r=setTimeout(this.handleExec,I,this,J,K,G)}return true}},stopExec:function(){if(r){clearTimeout(r);r=false}},handleExec:function(H,I,J,G){J(G);if(r){H.exec(I,(new Date()),J,G)}}}};var a=typeof exports!=="undefined"&&exports!==null?exports:window;a.later=b}).call(this);(function(){var a=function(){var g=[],f=[],m,p=g,d,n,j,c,e,k,h,l;var o=function(q,r,i){q=c?"a"+q:q;if(!m){p.push({});m=p[0]}if(!m[q]){m[q]=[]}d=m[q];if(j){n=[];for(h=r;h<=i;h+=j){n.push(h)}l={n:q,x:j,c:d.length,m:i}}n=e?[r]:k?[i]:n;var s=n.length;for(h=0;h<s;h+=1){if(d.indexOf(n[h])<0){d.push(n[h])}}n=j=c=e=k=0};return{schedules:g,exceptions:f,on:function(){n=arguments[0] instanceof Array?arguments[0]:arguments;return this},every:function(i){j=i;return this},after:function(i){c=true;n=[i];return this},first:function(){e=1;return this},last:function(){k=1;return this},at:function(){n=arguments;for(var s=0,q=n.length;s<q;s++){var r=n[s].split(":");if(r.length<3){n[s]+=":00"}}o("t");return this},afterTime:function(){n=arguments;for(var s=0,q=n.length;s<q;s++){var r=n[s].split(":");if(r.length<3){n[s]+=":00"}}o("ta");return this},beforeTime:function(){n=arguments;for(var s=0,q=n.length;s<q;s++){var r=n[s].split(":");if(r.length<3){n[s]+=":00"}}o("tb");return this},second:function(){o("s",0,59);return this},minute:function(){o("m",0,59);return this},hour:function(){o("h",0,23);return this},dayOfMonth:function(){o("D",1,k?0:31);return this},dayOfWeek:function(){o("d",1,7);return this},onWeekend:function(){n=[1,7];return this.dayOfWeek()},onWeekday:function(){n=[2,3,4,5,6];return this.dayOfWeek()},dayOfWeekCount:function(){o("dc",1,k?0:5);return this},dayOfYear:function(){o("dy",1,k?0:366);return this},weekOfMonth:function(){o("wm",1,k?0:5);return this},weekOfYear:function(){o("wy",1,k?0:53);return this},month:function(){o("M",1,12);return this},year:function(){o("Y",1970,2450);return this},startingOn:function(i){return this.between(i,l.m)},between:function(q,i){m[l.n]=m[l.n].splice(0,l.c);j=l.x;o(l.n,q,i);return this},and:function(){m=p[p.push({})-1];return this},except:function(){p=f;m=null;return this}}};var b=typeof exports!=="undefined"&&exports!==null?exports:window;b.recur=a}).call(this);if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){if(this==null){throw new TypeError()}var d=Object(this);var a=d.length>>>0;if(a===0){return -1}var e=0;if(arguments.length>1){e=Number(arguments[1]);if(e!=e){e=0}else{if(e!=0&&e!=Infinity&&e!=-Infinity){e=(e>0||-1)*Math.floor(Math.abs(e))}}}if(e>=a){return -1}var b=e>=0?e:Math.max(a-Math.abs(e),0);for(;b<a;b++){if(b in d&&d[b]===c){return b}}return -1}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}};
            log.info("Done loading libraries");
            log.info("Start loading core files");
        $.ajaxSetup({timeout:15000});function sort(a,c){if(c==null){c="data-order"}var b=a.parent();var d=a.get();d.sort(function(f,e){if(f.getAttribute(c)==e.getAttribute(c)){return 0}return f.getAttribute(c)<e.getAttribute(c)?-1:1});$.each(d,function(e,f){b.append(f)})}Date.prototype.format=function(b){var a=this;b=b.replace("{Y}",function(){return a.getFullYear()});b=b.replace("{y}",function(){return a.getFullYear()%100});b=b.replace("{m}",function(){var c=a.getMonth()+1;return(c<10?"0":"")+c});b=b.replace("{d}",function(){var c=a.getDate();return(c<10?"0":"")+c});b=b.replace("{H}",function(){var c=a.getHours();return(c<10?"0":"")+c});b=b.replace("{h}",function(){return a.getHours()});b=b.replace("{M}",function(){var c=a.getMinutes();return(c<10?"0":"")+c});b=b.replace("{i}",function(){return a.getMinutes()});b=b.replace("{S}",function(){var c=a.getSeconds();return(c<10?"0":"")+c});return b};var detectRomanNumber=new RegExp("^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$");String.prototype.capitalize=function(){return this.replace(/(\w)(\w*)/g,function(c,b,a){if(a.match(detectRomanNumber)){a=a.toUpperCase()}else{a=a.toLowerCase()}return b.toUpperCase()+a})};Date.prototype.addHours=function(a){this.addMinutes(a*60);return this};Date.prototype.addMinutes=function(a){this.setMinutes(this.getMinutes()+a);return this};function formatTime(c){var a=Math.floor(c/60);var b=Math.floor(c%60);if(a==0&&b==0){c="< 1m"}if(a==0&&b>0){c=b+"m"}else{if(c<0){c=false}else{if(a<10){a="0"+a}if(b<10){b="0"+b}c=a+"h"+b}}return c}String.prototype.hashCode=function(){var c=0,a,b;if(this.length==0){return c}for(a=0;a<this.length;a++){b=this.charCodeAt(a);c=((c<<5)-c)+b;c=c&c}return c};Date.prototype.stdTimezoneOffset=function(){var a=new Date(this.getFullYear(),0,1);var b=new Date(this.getFullYear(),6,1);return Math.max(a.getTimezoneOffset(),b.getTimezoneOffset())};function getTimestamp(d){var a=new Date(d);var c=new Date();var b=Math.floor((c-a)/1000);if(b<60){return"just now"}if(b<=90){return"a minute ago"}if(b<=3540){return Math.round(b/60)+" minutes ago"}if(b<=5400){return"1 hour ago"}if(b<=86400){return Math.round(b/3600)+" hours ago"}if(b<=129600){return"1 day ago"}if(b<604800){return Math.round(b/86400)+" days ago"}if(b<=777600){return"1 week ago"}return"on "+d}var dayStrings=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saterday"];Date.prototype.formatDateString=function(){var a=new Date();a.setHours(0,0,0,0);var c=this.getTime()-a.getTime();if(c>=0){var b=Math.floor(c/(1000*60*60*24),0);switch(b){case 0:return"Today";break;case 1:return"Tomorrow";break;case 2:case 3:case 4:case 5:return dayStrings[this.getDay()];break}}return this.format("{d}/{m}/{y}")};window.Interface=(function(){var c={};function a(e){log.info(" Start initializing interface");Interface.config=e;if(e.color){b(e.color)}if(e.logo){d(e.logo)}}function b(l){log.info("    Update interface color");log.debug("      Color: ",l);if(l==null){return Interface.config.color}Interface.config.color=l.replace("#","");var k=$("body style#custom");if(k.length==0){k=$('<style type="text/css" id="custom"></style>');$("body").prepend(k)}var j=0.25;var h=0.55;var g=tinycolor(l).toRgb();var f=tinycolor({r:((255-g.r)*j)+g.r,g:((255-g.g)*j)+g.g,b:((255-g.b)*j)+g.b});var e=tinycolor({r:(g.r*h),g:(g.g*h),b:(g.b*h)});var i="            .text-color { color: "+l+"; }             .text-color-light { color: "+f.toHexString()+"; }             .text-color-dark { color: "+e.toHexString()+"; }             .bg-color { background-color: "+l+"!important; }             .bg-color-light { background-color: "+f.toHexString()+"; }             .bg-color-dark { background-color: "+e.toHexString()+"; }             .border-color { border-color: "+l+"; }             .border-color-light { border-color: "+f.toHexString()+"; }             .text-shadow-light { text-shadow: 1px 1px 1px "+tinycolor.saturate(l).toRgbString()+"; }             .text-shadow-dark { text-shadow: 1px 1px 1px "+e.toRgbString()+"; }             ";k.html(i);log.debug("      Color CSS: ",i);Interface.config.darkColor=e;Interface.config.lightColor=f}function d(e){log.info("    Update interface logo");log.debug("      Logo: ",e);$("footer #client-logo").css("background-image",'url("'+e+'")')}return{config:c,setup:a,color:b,logo:d}}());window.Jobs=(function(){function add(job){log.info("Adding a cronjob");log.debug("  Cronjob: ",job);var str=job.minutes+" "+job.hours+" "+job.day_of_month+" "+job.month+" "+job.day_of_week;var scheduler=cronParser().parse(str,false);var thisjob=later(1,true);thisjob.exec(scheduler,new Date(),execute,job)}function execute(job){log.info("Executing cronjob");log.debug("  Cronjob: ",job.javascript);try{eval(job.javascript)}catch(err){}}return{add:add}}());window.Panes=(function(){var a=$("div#container");var i=[];var e={};function n(u,s){u=parseInt(u);log.info("PANES - Creating #"+u+" ("+s.type+")");i[u]=s;s.el=$('<section class="pane" data-id="'+u+'" data-order="'+s.order+'"></section>');var q=$(".group."+s.type);if(q.length==0){q=$('<section class="group '+s.type+'"></section>');a.append(q)}if(s.type=="widget"){q.addClass("bg-color");var r=q.find("header");if(r.length==0){r=$("<header></header>");q.prepend(r)}s.tab=$('<div class="nav" data-pane="'+u+'"><div class="progress"></div><span class="title">'+s.title+"<span></div>");r.append(s.tab);if(r.find(".nav.active").length==0){s.tab.addClass("active bg-color")}}q.append(s.el);sort(q.find(".pane"));if(q.find(".pane.active").length==0){log.info("PANES -   First in line: #"+u);s.el.addClass("active")}if(q.find(".pane").length>1&&e[s.type]==null){log.info("PANES -  Added timer for #"+u);var p=q.find(".pane.active").data("id");j(p);e[s.type]=setTimeout(function(){g(s.type)},i[p].duration)}}function h(r){log.info("PANES - Removing #"+r);var q=c(r);if(!q){return}clearTimeout(e[q.type]);if(q.type=="widget"){q.tab.remove()}q.el.remove();var p=$(".group."+q.type);delete i[r];Turtles.killByPane(r);this.rotate(q.type);if(p.find(".pane").length>1&&e[q.type]==null){e[q.type]=setTimeout(function(){g(q.type)},q.duration)}}function k(r,p){p=parseInt(p);if(p==undefined){p=q.duration}log.info("PANES - Make #"+r+" fullscreen ("+p+")");var q=c(r);if(!q){return}q.el.addClass("fullscreen");q.el.find(".turtle").each(function(){Turtles.trigger($(this).data("id"),"shown")});if(e.fullscreen!=null){clearTimeout(e.fullscreen)}if(p!=0){e.fullscreen=setTimeout(function(){q.el.removeClass("fullscreen")},p)}}function m(q){log.info("PANES - Close #"+q+" from fullscreen");var p=c(q);if(!p){return}clearTimeout(e.fullscreen);p.el.removeClass("fullscreen")}function d(u,p){p=parseInt(p);log.info("PANES - Reorder #"+u+": "+p);var s=c(u);if(!s){return}var q=$(".group."+s.type);s.order=p;q.find(".nav[data-pane="+u+"]").attr("data-order",parseInt(p));sort(q.find(".nav"));var r=q.find("header");r.find(".active").prependTo(r)}function f(r,p){p=parseInt(p);log.info("PANES - Change duration for #"+r+": "+p);var q=c(r);if(!q){return}q.duration=p}function o(r,p){log.info("PANES - Change options for #"+r);log.debug("PANES -   New options: "+p);var q=c(r);if(!q){return}if(p.duration){this.duration(r,parseInt(p.duration))}if(p.title){$(".nav[data-pane="+r+"] .title",a).html(p.title)}}function g(q){log.info("PANES - Rotate group ("+q+")");var s=$(".group."+q);if(s.length>0){var r=s.find(".pane.active");var p=r.next();if(p.length==0){p=s.find(".pane").first()}j(p.data("id"))}else{log.warn("PANES - Non existing group: "+q)}}function j(u){log.info("PANES - Show #"+u);var s=c(u);if(!s){return}var q=$(".group."+s.type);clearTimeout(e[s.type]);delete e[s.type];if(s.type=="widget"){var r=q.find("header");if(q.find(".pane").length>1){r.find(".active").appendTo(r).removeClass("active bg-color");r.find('.nav[data-pane="'+u+'"]').addClass("active bg-color").prependTo(r);jQuery.fx.interval=250;r.find(".progress").stop().width(0);r.find(".active .progress").animate({width:"100%"},parseInt(s.duration),function(){$(this).width(0)})}else{r.find('.nav[data-pane="'+u+'"]').addClass("active bg-color").prependTo(r)}}var p=q.find(".pane.active");p.find(".turtle").each(function(){Turtles.trigger($(this).data("id"),"hide")});p.removeClass("active");s.el.addClass("active");s.el.find(".turtle").each(function(){Turtles.trigger($(this).data("id"),"shown")});if(q.find(".pane").length>1&&e[s.type]==null){e[s.type]=setTimeout(function(){g(s.type)},s.duration)}}function c(q){q=parseInt(q);var p=i[q];if(p==null){log.warn("PANES -   Unknown instance #"+q);return false}return p}function b(r,p){var q=c(r);if(!q){return}i[r].el.append(p);sort(i[r].el.find(".turtle"))}function l(q){var p=c(q);if(!p){return}return i[q].el.hasClass("active")}return{show:j,rotate:g,add:n,remove:h,get:c,order:d,duration:f,options:o,append:b,fullscreen:k,close:m,isActive:l}}());window.Screen=(function(){var b={};var a={};var d={};function e(h){log.info("Start building the screen");Screen.location={address:h["interface"].location,latitude:h["interface"].latitude,longitude:h["interface"].longitude,geocode:h["interface"].latitude+","+h["interface"].longitude};log.info(" Populated location properties");log.debug(" Screen.location: ",Screen.location);Interface.setup(h["interface"]);log.info(" Done initializing interface");log.info(" Start creating panes");for(var m in h.panes){var l=h.panes[m];Panes.add(m,l)}log.info(" Done adding panes");log.info(" Start creating turtles");for(var m in h.turtles){var j=h.turtles[m];Turtles.grow(j.type,m,j.pane,j.order,j.options)}log.info(" Done adding turtles");log.info(" Start adding plugins");for(var g in h.plugins){if(window[g]==null){var i=window[g.charAt(0).toUpperCase()+g.slice(1)]}else{var i=window[g]}if(h.plugins[g]!=null&&h.plugins[g]!=0&&i!=null){if(h.plugins[g]==1){i.enable()}else{i.enable(h.plugins[g])}}else{if(i!=null){i.disable()}}}log.info(" Done adding plugins");log.info(" Start adding cronjobs");for(var m in h.jobs){var k=h.jobs[m];Jobs.add(k)}log.info(" Done adding cronjobs")}function c(g){log.info("Loading JSON");$.ajax({url:g,dataType:"json",success:function(h){log.info("Done loading JSON");log.debug(h);Screen.config=h;e(h)},error:function(j,h,i){log.error("Error while loading JSON: ",i)}})}function f(g){log.info("Update pane with given options");log.debug("  Pane options: ",g);this.location={address:g.location,latitude:g.latitude,longitude:g.longitude,geocode:g.latitude+","+g.longitude};log.info("Notify turtles of new pane options");for(var h in this.listeners){Turtles.options(h,{location:""})}}return{config:b,load:c,update:f,location:a,listeners:d}}());window.Turtles=(function(){var k={};var a={};function h(m,n){log.info("TURTLES -     Registering: "+m);log.debug("TURTLES -       Turtle: ",n);if(k[m]!=null){log.warn("TURTLES -     Already registered: "+m);return false}else{if(typeof n!="object"){log.error("TURTLES -     Invalid type: "+m);return false}else{k[m]=n}}return true}function e(m){return k[m]!=null}function c(n,o){if(isNaN(n)){log.info("TURTLES - Trigger event ("+o+") for type: "+n);_(a).each(function(p,q){if(p.type==n){if(typeof p.collection=="object"){p.collection.trigger(o)}if(typeof p.view=="object"){p.view.trigger(o)}}})}else{log.info("TURTLES - Trigger event ("+o+") for #"+n);if(a[n]==null){log.error("TURTLES - Unknown instance: #"+id);return}var m=a[n];if(typeof m.collection=="object"){m.collection.trigger(o)}if(typeof m.view=="object"){m.view.trigger(o)}}}function l(o,r,q,n){var p=k[o];if(p==null){log.error("TURTLES - Type ("+o+") is not registered");return}log.info("TURTLES - Instantiate #"+r+" (type: "+o+", pane: #"+q+")");var m={};m.type=o;m.id=parseInt(r);m.pane=q;m.el=n.el;n.id=r;m.model=p.model||Backbone.Model.extend();if(typeof p.collection=="function"){m.collection=new p.collection(p.models,n);if(m.collection.model==null){m.collection.model=m.model}m.collection.options=n}if(typeof p.view=="function"){m.view=new p.view(_.extend(n,{collection:m.collection,model:m.model,el:n.el}));m.view.options=n}if(typeof m.collection=="object"){m.collection.trigger("born")}if(typeof m.view=="object"){m.view.trigger("born")}a[r]=m;return m}function g(m){var n="turtles/"+m+"/dna.js";log.info("TURTLES - Load DNA ("+n+")");$.ajax({url:n,dataType:"script",async:false,error:function(){log.error("TURTLES - Unable to load DNA: "+m)}})}function b(p,s,r,n,o){s=parseInt(s);log.info("TURTLES - Grow #"+s+" (type: "+p+", pane: #"+r+", order: "+n+")");if(a[s]!=null){log.error("TURTLES - Already exists: "+s);return}if(!e(p)){g(p)}if(k[p]==null){log.error("TURTLES - Unknown DNA: "+p);return}if(o==null||typeof o!="object"){o={}}var q=$('<section class="turtle '+p+'" data-id="'+s+'" data-order="'+parseInt(n)+'"></section>');o.el=q;Panes.append(r,q);var m=l(p,s,r,o);if(Panes.isActive(r)){Turtles.trigger(s,"shown")}return m}function d(o,m){o=parseInt(o);log.info("TURTLES - Reorder #"+o+" (order: "+m+")");if(a[o]==null){log.error("TURTLES - Unknown instance: #"+o);return}var n=a[o];n.el.attr("data-order",parseInt(m));sort(n.el.parent().find(".turtle"))}function j(o,m){o=parseInt(o);log.info("TURTLES - Set options for #"+o);log.debug("TURTLES -   Options: ",m);if(a[o]==null){log.error("TURTLES - Unknown instance: #"+o);return}var n=a[o];if(typeof n.collection!="undefined"){n.collection.options=_.extend(n.collection.options,m)}if(typeof n.view!="undefined"){n.view.options=_.extend(n.view.options,m)}c(o,"reconfigure")}function f(n){n=parseInt(n);log.info("TURTLES - Kill #"+n);if(a[n]==null){log.error("TURTLES - Unknown instance: #"+n);return}var m=a[n];c(n,"destroy");m.el.remove();delete m.collection;delete m.view;delete m.model;delete a[n]}function i(m){m=parseInt(m);log.info("TURTLES - Kill all in pane #"+m);for(t in a){turtle=a[t];if(turtle.pane==m){this.kill(t)}}}return{register:h,registered:e,trigger:c,grow:b,kill:f,killByPane:i,options:j,order:d}}());
            log.info("Done loading core files");
            log.info("Start loading plugin files");
        var Clock={element:$("#clock"),timer:null,enable:function(){log.info("PLUGIN - CLOCK - Enable");if(Clock.element.length==0){Clock.element=$('<div id="clock" class="bg-color"><span id="hour">00</span><span id="blink">:</span><span id="minutes">00</span></div>');$("body").append(Clock.element)}if(Clock.timer==null){Clock.timer=window.setInterval(Clock.refresh,30000)}Clock.refresh();Clock.element.show()},disable:function(){log.info("PLUGIN - CLOCK - Disable");Clock.element.hide();clearInterval(Clock.timer);Clock.timer=null},refresh:function(){var b=new Date();var a=b.getHours();var c=b.getMinutes();a=(a<10?"0":"")+a;c=(c<10?"0":"")+c;Clock.element.find("#hour").html(a);Clock.element.find("#minutes").html(c)},destroy:function(){Clock.element.empty();Clock.element.remove();window.clearInterval(Clock.timer);Clock.timer=null}};Clock.enable();var Footer={element:null,enable:function(a){Footer.destroy();log.info("PLUGIN - FOOTER - Enable: "+a);if(a.indexOf("http://")==0||a.indexOf("//")==0){$.getJSON("//www.google.com/reader/public/javascript/feed/"+a+"?callback=?",function(d){var b=d.items.slice(0,5);Footer.element=$('<div id="message" class="scroll-footer"><div class="fade left"></div><div class="fade right"></div><marquee class="text-color"></marquee>');for(var c in b){Footer.element.find("marquee").append("<span>"+b[c]["title"]+"</span>")}$("footer").append(Footer.element)})}else{Footer.element=$('<div id="message" class="text-color">'+a+"</div>");$("footer").append(Footer.element)}},disable:function(){log.info("PLUGIN - FOOTER - Disable");if(Footer.element){Footer.element.remove()}},destroy:function(){Footer.disable()}};var _gaq=_gaq||[];var Google={enable:function(b,a){log.info("PLUGIN - GOOGLE - Enable (account: "+b+", domain: "+a+")");(function(e,f,k,j,h,d,c){e.GoogleAnalyticsObject=h;e[h]=e[h]||function(){(e[h].q=e[h].q||[]).push(arguments)},e[h].l=1*new Date();d=f.createElement(k),c=f.getElementsByTagName(k)[0];d.async=1;d.src=j;c.parentNode.insertBefore(d,c)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create",b,a);ga("send","pageview")},disable:function(){log.info("PLUGIN - GOOGLE - Disable")},destroy:function(){}};Google.enable("UA-31282630-3","flatturtle.com");var Message={element:$("#message"),timer:null,enable:function(c,a){log.info("PLUGIN - MESSAGE - Enable (text: "+c+", duration: "+a+")");if(a==undefined){a=30000}if(Message.element.length==0){Message.element=$('<div id="black-screen"><h1 class="text-color"></h1></div>');$("body").append(Message.element)}var b=Message.element.find("h1");b.html(c);b.css("margin-top","-"+(b.height()/2)+"px");if(a!=0){clearTimeout(Message.timer);Message.timer=setTimeout(Message.disable,a)}Message.element.fadeIn()},disable:function(){log.info("PLUGIN - MESSAGE - Disable");Message.element.fadeOut();clearTimeout(Message.timer)},destroy:function(){Message.element.remove();clearTimeout(Message.timer)}};var Overlay={element:null,enable:function(a){log.info("PLUGIN - OVERLAY - Enable (url: + "+a+")");if(this.element!=null){this.element.remove()}this.element=$('<div id="black-screen" style="background-image:url(\''+a+"');\"></div>");$("body").append(this.element);this.element.fadeIn()},disable:function(){log.info("PLUGIN - OVERLAY - Disable");var a=this;this.element.fadeOut(200,function(){a.element.remove()})}};var Power={enable:function(){log.info("PLUGIN - POWER - Enable");if(typeof application=="object"){application.enableScreen(true)}},disable:function(){log.info("PLUGIN - POWER - Disable");document.location.href="../sleep"},destroy:function(){}};var Skeleton={enable:function(){},disable:function(){},destroy:function(){}};
            log.info("Done loading plugin files");
        